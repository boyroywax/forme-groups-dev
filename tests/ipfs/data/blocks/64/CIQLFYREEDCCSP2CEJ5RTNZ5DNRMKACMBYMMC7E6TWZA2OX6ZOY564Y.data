on(e){e.codec=function(){return co(t)}}(e.Type||(e.Type={})),e.codec=function(){return null==n&&(n=lo((function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!1!==r.lengthDelimited&&n.fork(),null!=t.type&&(n.uint32(8),e.Type.codec().encode(t.type,n)),null!=t.peer&&(n.uint32(18),eU.codec().encode(t.peer,n)),null!=t.limit&&(n.uint32(26),nU.codec().encode(t.limit,n)),null!=t.status&&(n.uint32(32),rU.codec().encode(t.status,n)),!1!==r.lengthDelimited&&n.ldelim()}),(function(t,n){for(var r={},i=null==n?t.len:t.pos+n;t.pos<i;){var o=t.uint32();switch(o>>>3){case 1:r.type=e.Type.codec().decode(t);break;case 2:r.peer=eU.codec().decode(t,t.uint32());break;case 3:r.limit=nU.codec().decode(t,t.uint32());break;case 4:r.status=rU.codec().decode(t);break;default:t.skipType(7&o)}}return r}))),n},e.encode=function(t){return so(t,e.codec())},e.decode=function(t){return ao(t,e.codec())}}(Jj||(Jj={})),function(e){var t;e.codec=function(){return null==t&&(t=lo((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!1!==n.lengthDelimited&&t.fork(),null!=e.id&&e.id.byteLength>0&&(t.uint32(10),t.bytes(e.id)),null!=e.addrs){var r,i=(0,Ae.Z)(e.addrs);try{for(i.s();!(r=i.n()).done;){var o=r.value;t.uint32(18),t.bytes(o)}}catch(a){i.e(a)}finally{i.f()}}!1!==n.lengthDelimited&&t.ldelim()}),(function(e,t){for(var n={id:new Uint8Array(0),addrs:[]},r=null==t?e.len:e.pos+t;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.id=e.bytes();break;case 2:n.addrs.push(e.bytes());break;default:e.skipType(7&i)}}return n}))),t},e.encode=function(t){return so(t,e.codec())},e.decode=function(t){return ao(t,e.codec())}}(eU||(eU={})),function(e){var t;e.codec=function(){return null==t&&(t=lo((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!1!==n.lengthDelimited&&t.fork(),null!=e.expire&&0n!==e.expire&&(t.uint32(8),t.uint64(e.expire)),null!=e.addrs){var r,i=(0,Ae.Z)(e.addrs);try{for(i.s();!(r=i.n()).done;){var o=r.value;t.uint32(18),t.bytes(o)}}catch(a){i.e(a)}finally{i.f()}}null!=e.voucher&&(t.uint32(26),t.bytes(e.voucher)),!1!==n.lengthDelimited&&t.ldelim()}),(function(e,t){for(var n={expire:0n,addrs:[]},r=null==t?e.len:e.pos+t;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.expire=e.uint64();break;case 2:n.addrs.push(e.bytes());break;case 3:n.voucher=e.bytes();break;default:e.skipType(7&i)}}return n}))),t},e.encode=function(t){return so(t,e.codec())},e.decode=function(t){return ao(t,e.codec())}}(tU||(tU={})),function(e){var t;e.codec=function(){return null==t&&(t=lo((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!1!==n.lengthDelimited&&t.fork(),null!=e.duration&&(t.uint32(8),t.uint32(e.duration)),null!=e.data&&(t.uint32(16),t.uint64(e.data)),!1!==n.lengthDelimited&&t.ldelim()}),(function(e,t){for(var n={},r=null==t?e.len:e.pos+t;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.duration=e.uint32();break;case 2:n.data=e.uint64();break;default:e.skipType(7&i)}}return n}))),t},e.encode=function(t){return so(t,e.codec())},e.decode=function(t){return ao(t,e.codec())}}(nU||(nU={})),function(e){e.UNUSED="UNUSED",e.OK="OK",e.RESERVATION_REFUSED="RESERVATION_REFUSED",e.RESOURCE_LIMIT_EXCEEDED="RESOURCE_LIMIT_EXCEEDED",e.PERMISSION_DENIED="PERMISSION_DENIED",e.CONNECTION_FAILED="CONNECTION_FAILED",e.NO_RESERVATION="NO_RESERVATION",e.MALFORMED_MESSAGE="MALFORMED_MESSAGE",e.UNEXPECTED_MESSAGE="UNEXPECTED_MESSAGE"}(rU||(rU={})),function(e){e[e.UNUSED=0]="UNUSED",e[e.OK=100]="OK",e[e.RESERVATION_REFUSED=200]="RESERVATION_REFUSED",e[e.RESOURCE_LIMIT_EXCEEDED=201]="RESOURCE_LIMIT_EXCEEDED",e[e.PERMISSION_DENIED=202]="PERMISSION_DENIED",e[e.CONNECTION_FAILED=203]="CONNECTION_FAILED",e[e.NO_RESERVATION=204]="NO_RESERVATION",e[e.MALFORMED_MESSAGE=400]="MALFORMED_MESSAGE",e[e.UNEXPECTED_MESSAGE=401]="UNEXPECTED_MESSAGE"}(iU||(iU={})),function(e){e.codec=function(){return co(iU)}}(rU||(rU={})),function(e){var t;e.codec=function(){return null==t&&(t=lo((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!1!==n.lengthDelimited&&t.fork(),null!=e.relay&&e.relay.byteLength>0&&(t.uint32(10),t.bytes(e.relay)),null!=e.peer&&e.peer.byteLength>0&&(t.uint32(18),t.bytes(e.peer)),null!=e.expiration&&0n!==e.expiration&&(t.uint32(24),t.uint64(e.expiration)),!1!==n.lengthDelimited&&t.ldelim()}),(function(e,t){for(var n={relay:new Uint8Array(0),peer:new Uint8Array(0),expiration:0n},r=null==t?e.len:e.pos+t;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.relay=e.bytes();break;case 2:n.peer=e.bytes();break;case 3:n.expiration=e.uint64();break;default:e.skipType(7&i)}}return n}))),t},e.encode=function(t){return so(t,e.codec())},e.decode=function(t){return ao(t,e.codec())}}(oU||(oU={}));(0,ru.kg)("libp2p:circuit-relay:utils");function uU(e){return cU.apply(this,arguments)}function cU(){return cU=(0,u.Z)((0,s.Z)().mark((function e(t){var n,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(new TextEncoder).encode(t),e.next=3,h.sha256.digest(n);case 3:return r=e.sent,e.abrupt("return",c.CID.createV0(r));case 5:case"end":return e.stop()}}),e)}))),cU.apply(this,arguments)}function lU(e){var t=e*BigInt(1e3),n=(new Date).getTime();return Number(t-BigInt(n))}new Set(["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed"]);(0,ru.kg)("libp2p:circuit-relay:advert-service"),(0,ru.kg)("libp2p:circuit-relay:server");var fU=(0,ru.kg)("libp2p:circuit-relay:discover-relays"),hU=function(e){(0,X.Z)(n,e);var t=(0,$.Z)(n);function n(e){var r;return(0,K.Z)(this,n),r=t.call(this),(0,ot.Z)((0,nr.Z)(r),"peerId",void 0),(0,ot.Z)((0,nr.Z)(r),"peerStore",void 0),(0,ot.Z)((0,nr.Z)(r),"contentRouting",void 0),(0,ot.Z)((0,nr.Z)(r),"registrar",void 0),(0,ot.Z)((0,nr.Z)(r),"started",void 0),(0,ot.Z)((0,nr.Z)(r),"topologyId",void 0),r.started=!1,r.peerId=e.peerId,r.peerStore=e.peerStore,r.contentRouting=e.contentRouting,r.registrar=e.registrar,r}return(0,W.Z)(n,[{key:"isStarted",value:function(){return this.started}},{key:"start",value:function(){var e=(0,u.Z)((0,s.Z)().mark((function e(){var t=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.registrar.register(aU,Bb({onConnect:function(e){t.safeDispatchEvent("relay:discover",{detail:e})}}));case 2:this.topologyId=e.sent,this.discover().catch((function(e){fU.error("error listening on relays",e)})),this.started=!0;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"stop",value:function(){null!=this.topologyId&&this.registrar.unregister(this.topologyId),this.started=!1}},{key:"discover",value:function(){var e=(0,u.Z)((0,s.Z)().mark((function e(){var t,n,r,i,o,a,u,c,l,f,h,p,d;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fU("searching peer store for relays"),e.next=3,this.peerStore.all();case 3:t=e.sent.filter((function(e){return e.protocols.includes(aU)})).sort((function(){return Math.random()-.5})),n=(0,Ae.Z)(t);try{for(n.s();!(r=n.n()).done;)i=r.value,fU("found relay peer %p in content peer store",i.id),this.safeDispatchEvent("relay:discover",{detail:i.id})}catch(s){n.e(s)}finally{n.f()}return fU("found %d relay peers in peer store",t.length),e.prev=7,fU("searching content routing for relays"),e.next=11,uU("/libp2p/relay");case 11:o=e.sent,a=0,u=!1,c=!1,e.prev=15,f=(0,y.Z)(this.contentRouting.findProviders(o));case 17:return e.next=19,f.next();case 19:if(!(u=!(h=e.sent).done)){e.next=31;break}if(!((p=h.value).multiaddrs.length>0)||p.id.equals(this.peerId)){e.next=28;break}return d=p.id,a++,e.next=26,this.peerStore.merge(d,{multiaddrs:p.multiaddrs});case 26:fU("found relay peer %p in content routing",d),this.safeDispatchEvent("relay:discover",{detail:d});case 28:u=!1,e.next=17;break;case 31:e.next=37;break;case 33:e.prev=33,e.t0=e.catch(15),c=!0,l=e.t0;case 37:if(e.prev=37,e.prev=38,!u||null==f.return){e.next=42;break}return e.next=42,f.return();case 42:if(e.prev=42,!c){e.next=45;break}throw l;case 45:return e.finish(42);case 46:return e.finish(37);case 47:fU("found %d relay peers in content routing",a),e.next=53;break;case 50:e.prev=50,e.t1=e.catch(7),fU.error("failed when finding relays on the network",e.t1);case 53:case"end":return e.stop()}}),e,this,[[7,50],[15,33,37,47],[38,,42,46]])})));return function(){return e.apply(this,arguments)}}()}]),n}(Ch),pU=(0,ru.kg)("libp2p:circuit-relay:transport:listener"),dU=new WeakSet,vU=function(e){(0,X.Z)(n,e);var t=(0,$.Z)(n);function n(e){var r;return(0,K.Z)(this,n),r=t.call(this),pw((0,nr.Z)(r),dU),(0,ot.Z)((0,nr.Z)(r),"connectionManager",void 0),(0,ot.Z)((0,nr.Z)(r),"relayStore",void 0),(0,ot.Z)((0,nr.Z)(r),"listeningAddrs",void 0),r.connectionManager=e.connectionManager,r.relayStore=e.relayStore,r.listeningAddrs=new Qk,r.relayStore.addEventListener("relay:removed",(function(e){dw((0,nr.Z)(r),dU,yU).call((0,nr.Z)(r),e.detail)})),r}return(0,W.Z)(n,[{key:"listen",value:function(){var e=(0,u.Z)((0,s.Z)().mark((function e(t){var n,r,i,o,a,u,c,l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(pU("listen on %s",t),null!=(n=t.getPeerId())&&(o=(0,Ps.jE)(n),(a=null!==(i=this.connectionManager.getConnectionsMap().get(o))&&void 0!==i?i:[]).length>0&&(r=a[0])),null!=r){e.next=9;break}return u=t.toString().split("/p2p-circuit").find((function(e){return""!==e})),c=AF(u),e.next=8,this.connectionManager.openConnection(c);case 8:r=e.sent;case 9:if(this.relayStore.hasReservation(r.remotePeer)){e.next=13;break}return e.next=12,this.relayStore.addRelay(r.remotePeer,"configured");case 12:return e.abrupt("return");case 13:if(null!=(l=this.relayStore.getReservation(r.remotePeer))){e.next=16;break}throw new ar.s("Did not have reservation after making reservation","ERR_NO_RESERVATION");case 16:if(!this.listeningAddrs.has(r.remotePeer)){e.next=19;break}return pU("already listening on relay %p",r.remotePeer),e.abrupt("return");case 19:this.listeningAddrs.set(r.remotePeer,l.addrs.map((function(e){return AF(e).encapsulate("/p2p-circuit")}))),this.safeDispatchEvent("listening",{});case 21:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAddrs",value:function(){return(0,ye.Z)(this.listeningAddrs.values()).flat()}},{key:"close",value:function(){var e=(0,u.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),n}(Ch);function yU(e){var t=this.listeningAddrs.has(e);this.listeningAddrs.delete(e),t&&this.safeDispatchEvent("close",{})}var gU,mU=(0,ru.kg)("libp2p:circuit-relay:transport:reservation-store"),bU=new WeakSet,wU=new WeakSet,kU=function(e){(0,X.Z)(n,e);var t=(0,$.Z)(n);function n(e,r){var i,o,a;return(0,K.Z)(this,n),a=t.call(this),pw((0,nr.Z)(a),wU),pw((0,nr.Z)(a),bU),(0,ot.Z)((0,nr.Z)(a),"peerId",void 0),(0,ot.Z)((0,nr.Z)(a),"connectionManager",void 0),(0,ot.Z)((0,nr.Z)(a),"transportManager",void 0),(0,ot.Z)((0,nr.Z)(a),"peerStore",void 0),(0,ot.Z)((0,nr.Z)(a),"events",void 0),(0,ot.Z)((0,nr.Z)(a),"reserveQueue",void 0),(0,ot.Z)((0,nr.Z)(a),"reservations",void 0),(0,ot.Z)((0,nr.Z)(a),"maxDiscoveredRelays",void 0),(0,ot.Z)((0,nr.Z)(a),"started",void 0),a.peerId=e.peerId,a.connectionManager=e.connectionManager,a.transportManager=e.transportManager,a.peerStore=e.peerStore,a.events=e.events,a.reservations=new Qk,a.maxDiscoveredRelays=null!==(i=null===r||void 0===r?void 0:r.discoverRelays)&&void 0!==i?i:0,a.started=!1,a.reserveQueue=new uc.Z({concurrency:null!==(o=null===r||void 0===r?void 0:r.reservationConcurrency)&&void 0!==o?o:1}),a.events.addEventListener("peer:disconnect",(function(e){dw((0,nr.Z)(a),wU,_U).call((0,nr.Z)(a),e.detail)})),a}return(0,W.Z)(n,[{key:"isStarted",value:function(){return this.started}},{key:"start",value:function(){var e=(0,u.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.started=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"stop",value:function(){var e=(0,u.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.reservations.forEach((function(e){var t=e.timeout;clearTimeout(t)})),this.reservations.clear(),this.started=!0;case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addRelay",value:function(){var e=(0,u.Z)((0,s.Z)().mark((function e(t,n){var r=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.peerId.equals(t)){e.next=3;break}return mU("not trying to use self as relay"),e.abrupt("return");case 3:return mU("add relay %p",t),e.next=6,this.reserveQueue.add((0,u.Z)((0,s.Z)().mark((function e(){var i,o,a,u,c,l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null==(i=r.reservations.get(t))){e.next=8;break}if(!(lU(i.reservation.expire)>6e5)){e.next=6;break}return mU("already have reservation on relay peer %p and it expires in more than 10 minutes",t),e.abrupt("return");case 6:clearTimeout(i.timeout),r.reservations.delete(t);case 8:if(!("discovered"===n&&(0,ye.Z)(r.reservations.values()).reduce((function(e,t){return"discovered"===t.type&&e++,e}),0)>=r.maxDiscoveredRelays)){e.next=11;break}return mU("already have enough discovered relays"),e.abrupt("return");case 11:return e.next=13,r.connectionManager.openConnection(t);case 13:if(!(o=e.sent).remoteAddr.protoNames().includes("p2p-circuit")){e.next=17;break}return mU("not creating reservation over relayed connection"),e.abrupt("return");case 17:return e.next=19,dw(r,bU,EU).call(r,o);case 19:return a=e.sent,mU("created reservation on relay peer %p",t),u=lU(a.expire),c=Math.min(Math.max(u-3e5,3e4),Math.pow(2,31)-1),l=setTimeout((function(){r.addRelay(t,n).catch((function(e){mU.error("could not refresh reservation to relay %p",t,e)}))}),c),r.reservations.set(t,{timeout:l,reservation:a,type:n}),e.next=27,r.peerStore.merge(t,{tags:(0,ot.Z)({},"circuit-relay-relay",{value:1,ttl:u})});case 27:return e.next=29,r.transportManager.listen([AF("/p2p/".concat(t.toString(),"/p2p-circuit"))]);case 29:e.next=35;break;case 31:e.prev=31,e.t0=e.catch(0),mU.error("could not reserve slot on %p",t,e.t0),r.reservations.delete(t);case 35:case"end":return e.stop()}}),e,null,[[0,31]])}))));case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"hasReservation",value:function(e){return this.reservations.has(e)}},{key:"getReservation",value:function(e){var t;return null===(t=this.reservations.get(e))||void 0===t?void 0:t.reservation}}]),n}(Ch);function EU(e){return xU.apply(this,arguments)}function xU(){return(xU=(0,u.Z)((0,s.Z)().mark((function e(t){var n,r,i,o,a,u;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mU("requesting reservation from %s",t.remotePeer),e.next=3,t.newStream(aU);case 3:return r=e.sent,i=nn(r),(o=i.pb($j)).write({type:$j.Type.RESERVE}),e.prev=7,e.next=10,o.read();case 10:a=e.sent,e.next=17;break;case 13:throw e.prev=13,e.t0=e.catch(7),mU.error("error parsing reserve message response from %p because",t.remotePeer,e.t0),e.t0;case 17:return e.prev=17,r.close(),e.finish(17);case 20:if(a.status!==rU.OK||null==a.reservation){e.next=22;break}return e.abrupt("return",a.reservation);case 22:throw u="reservation failed with status ".concat(null!==(n=a.status)&&void 0!==n?n:"undefined"),mU.error(u),new Error(u);case 25:case"end":return e.stop()}}),e,null,[[7,13,17,20]])})))).apply(this,arguments)}function _U(e){var t=this.reservations.get(e);null!=t&&(mU("connection to relay %p closed, removing reservation from local store",e),clearTimeout(t.timeout),this.reservations.delete(e),this.safeDispatchEvent("relay:removed",{detail:e}),this.reservations.size<this.maxDiscoveredRelays&&(mU("not enough relays %d/%d",this.reservations.size,this.maxDiscoveredRelays),this.safeDispatchEvent("relay:not-enough-relays",{})))}var SU=(0,ru.kg)("libp2p:circuit-relay:transport"),AU=function(e){if(null==e.peer)return!1;try{e.peer.addrs.forEach(AF)}catch(t){return!1}return!0};gU=Symbol.toStringTag;var ZU=function(){function e(t,n){var r=this;(0,K.Z)(this,e),(0,ot.Z)(this,"discovery",void 0),(0,ot.Z)(this,"registrar",void 0),(0,ot.Z)(this,"peerStore",void 0),(0,ot.Z)(this,"connectionManager",void 0),(0,ot.Z)(this,"peerId",void 0),(0,ot.Z)(this,"upgrader",void 0),(0,ot.Z)(this,"addressManager",void 0),(0,ot.Z)(this,"connectionGater",void 0),(0,ot.Z)(this,"reservationStore",void 0),(0,ot.Z)(this,"started",void 0),(0,ot.Z)(this,ul,!0),(0,ot.Z)(this,gU,"libp2p/circuit-relay-v2"),this.registrar=t.registrar,this.peerStore=t.peerStore,this.connectionManager=t.connectionManager,this.peerId=t.peerId,this.upgrader=t.upgrader,this.addressManager=t.addressManager,this.connectionGater=t.connectionGater,null!=n.discoverRelays&&n.discoverRelays>0&&(this.discovery=new hU(t),this.discovery.addEventListener("relay:discover",(function(e){r.reservationStore.addRelay(e.detail,"discovered").catch((function(t){SU.error("could not add discovered relay %p",e.detail,t)}))}))),this.reservationStore=new kU(t,n),this.reservationStore.addEventListener("relay:not-enough-relays",(function(){var e;null===(e=r.discovery)||void 0===e||e.discover().catch((function(e){SU.error("could not discover relays",e)}))})),this.started=!1}return(0,W.Z)(e,[{key:"isStarted",value:function(){return this.started}},{key:"start",value:function(){var e=(0,u.Z)((0,s.Z)().mark((function e(){var t,n=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.reservationStore.start();case 2:return e.next=4,null===(t=this.discovery)||void 0===t?void 0:t.start();case 4:return e.next=6,this.registrar.handle(sU,(function(e){n.onStop(e).catch((function(e){SU.error(e)}))}));case 6:this.started=!0;case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"stop",value:function(){var e=(0,u.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(t=this.discovery)||void 0===t||t.stop(),e.next=3,this.reservationStore.stop();case 3:return e.next=5,this.registrar.unhandle(sU);case 5:this.started=!1;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dial",value:function(){var e=(0,u.Z)((0,s.Z)().mark((function e(t){var n,r,i,o,a,u,c,l,f,h,p,d,v,y,g=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=g.length>1&&void 0!==g[1]?g[1]:{},1===t.protoCodes().filter((function(e){return 290===e})).length){e.next=5;break}throw r="Invalid circuit relay address",SU.error(r,t),new ar.s(r,NF.ERR_RELAYED_DIAL);case 5:if(i=t.toString().split("/p2p-circuit"),o=AF(i[0]),a=AF(i[i.length-1]),u=o.getPeerId(),c=a.getPeerId(),null!=u&&null!=c){e.next=14;break}throw l="Circuit relay dial to ".concat(t.toString()," failed as address did not have peer ids"),SU.error(l),new ar.s(l,NF.ERR_RELAYED_DIAL);case 14:if(f=(0,Ps.jE)(u),h=(0,Ps.jE)(c),p=!1,d=this.connectionManager.getConnections(f),null!=(v=d[0])){e.next=26;break}return e.next=22,this.peerStore.merge(f,{multiaddrs:[o]});case 22:return e.next=24,this.connectionManager.openConnection(f,n);case 24:v=e.sent,p=!0;case 26:return e.prev=26,e.next=29,v.newStream([aU]);case 29:return y=e.sent,e.next=32,this.connectV2({stream:y,connection:v,destinationPeer:h,destinationAddr:a,relayAddr:o,ma:t,disconnectOnFailure:p});case 32:return e.abrupt("return",e.sent);case 35:if(e.prev=35,e.t0=e.catch(26),SU.error("Circuit relay dial to destination ".concat(h.toString()," via relay ").concat(f.toString()," failed"),e.t0),null!=y&&y.abort(e.t0),e.t1=p,!e.t1){e.next=43;break}return e.next=43,v.close();case 43:throw e.t0;case 44:case"end":return e.stop()}}),e,this,[[26,35]])})));return function(t){return e.apply(this,arguments)}}()},{key:"connectV2",value:function(){var e=(0,u.Z)((0,s.Z)().mark((function e(t){var n,r,i,o,a,u,c,l,f,h,p,d,v;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.stream,r=t.connection,i=t.destinationPeer,o=t.destinationAddr,a=t.relayAddr,u=t.ma,c=t.disconnectOnFailure,e.prev=1,l=nn(n),(f=l.pb($j)).write({type:$j.Type.CONNECT,peer:{id:i.toBytes(),addrs:[AF(o).bytes]}}),e.next=7,f.read();case 7:if((h=e.sent).status===rU.OK){e.next=10;break}throw new ar.s("failed to connect via relay with status ".concat(null!==(p=null===h||void 0===h||null===(d=h.status)||void 0===d?void 0:d.toString())&&void 0!==p?p:"undefined"),NF.ERR_HOP_REQUEST_FAILED);case 10:return v=JB({stream:l.unwrap(),remoteAddr:u,localAddr:a.encapsulate("/p2p-circuit/p2p/".concat(this.peerId.toString()))}),SU("new outbound connection %s",v.remoteAddr),e.next=14,this.upgrader.upgradeOutbound(v);case 14:return e.abrupt("return",e.sent);case 17:if(e.prev=17,e.t0=e.catch(1),SU.error("Circuit relay dial to destination ".concat(i.toString()," via relay ").concat(r.remotePeer.toString()," failed"),e.t0),e.t1=c,!e.t1){e.next=24;break}return e.next=24,r.close();case 24:throw e.t0;case 25:case"end":return e.stop()}}),e,this,[[1,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"createListener",value:function(e){return function(e){return new vU(e)}({connectionManager:this.connectionManager,relayStore:this.reservationStore})}},{key:"filter",value:function(e){return(e=Array.isArray(e)?e:[e]).filter((function(e){return Jp.matches(e)}))}},{key:"onStop",value:function(){var e=(0,u.Z)((0,s.Z)().mark((function e(t){var n,r,i,o,a,u,c,l,f,h,p;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.connection,o=t.stream,a=nn(o),e.next=4,a.readPB(Jj);case 4:if(u=e.sent,SU("received circuit v2 stop protocol request from %s",i.remotePeer),void 0!==(null===u||void 0===u?void 0:u.type)){e.next=8;break}return e.abrupt("return");case 8:if(c=a.pb(Jj),SU("new circuit relay v2 stop stream from %s",i.remotePeer),u.type===Jj.Type.CONNECT){e.next=14;break}return SU.error("invalid stop connect request via peer %s",i.remotePeer),c.write({type:Jj.Type.STATUS,status:rU.UNEXPECTED_MESSAGE}),e.abrupt("return");case 14:if(AU(u)){e.next=18;break}return SU.error("invalid stop connect request via peer %s",i.remotePeer),c.write({type:Jj.Type.STATUS,status:rU.MALFORMED_MESSAGE}),e.abrupt("return");case 18:return l=(0,Ps.cv)(u.peer.id),e.next=21,null===(n=(r=this.connectionGater).denyInboundRelayedConnection)||void 0===n?void 0:n.call(r,i.remotePeer,l);case 21:if(e.t0=e.sent,!0!==e.t0){e.next=25;break}return c.write({type:Jj.Type.STATUS,status:rU.PERMISSION_DENIED}),e.abrupt("return");case 25:return c.write({type:Jj.Type.STATUS,status:rU.OK}),f=i.remoteAddr.encapsulate("/p2p-circuit/p2p/".concat(l.toString())),h=this.addressManager.getAddresses()[0],p=JB({stream:a.unwrap(),remoteAddr:f,localAddr:h}),SU("new inbound connection %s",p.remoteAddr),e.next=32,this.upgrader.upgradeInbound(p);case 32:SU("%s connection %s upgraded","inbound",p.remoteAddr);case 33:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function TU(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){return new ZU(t,e)}}var CU,IU="js-libp2p/".concat("0.45.5");!function(e){var t;e.codec=function(){return null==t&&(t=lo((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!1!==n.lengthDelimited&&t.fork(),null!=e.protocolVersion&&(t.uint32(42),t.string(e.protocolVersion)),null!=e.agentVersion&&(t.uint32(50),t.string(e.agentVersion)),null!=e.publicKey&&(t.uint32(10),t.bytes(e.publicKey)),null!=e.listenAddrs){var r,i=(0,Ae.Z)(e.listenAddrs);try{for(i.s();!(r=i.n()).done;){var o=r.value;t.uint32(18),t.bytes(o)}}catch(c){i.e(c)}finally{i.f()}}if(null!=e.observedAddr&&(t.uint32(34),t.bytes(e.observedAddr)),null!=e.protocols){var a,s=(0,Ae.Z)(e.protocols);try{for(s.s();!(a=s.n()).done;){var u=a.value;t.uint32(26),t.string(u)}}catch(c){s.e(c)}finally{s.f()}}null!=e.signedPeerRecord&&(t.uint32(66),t.bytes(e.signedPeerRecord)),!1!==n.lengthDelimited&&t.ldelim()}),(function(e,t){for(var n={listenAddrs:[],protocols:[]},r=null==t?e.len:e.pos+t;e.pos<r;){var i=e.uint32();switch(i>>>3){case 5:n.protocolVersion=e.string();break;case 6:n.agentVersion=e.string();break;case 1:n.publicKey=e.bytes();break;case 2:n.listenAddrs.push(e.bytes());break;case 4:n.observedAddr=e.bytes();break;case 3:n.protocols.push(e.string());break;case 8:n.signedPeerRecord=e.bytes();break;default:e.skipType(7&i)}}return n}))),t},e.encode=function(t){return so(t,e.codec())},e.decode=function(t){return ao(t,e.codec())}}(CU||(CU={}));var DU=(0,ru.kg)("libp2p:identify"),OU={protocolPrefix:"ipfs",agentVersion:IU,timeout:6e4,maxInboundStreams:1,maxOutboundStreams:1,maxPushIncomingStreams:1,maxPushOutgoingStreams:1,maxObservedAddresses:10,maxIdentifyMessageSize:8192},RU=new WeakSet,PU=function(){function e(t,n){var r,i,o,a,s,u,c,l,f,h,p,d=this;(0,K.Z)(this,e),pw(this,RU),(0,ot.Z)(this,"identifyProtocolStr",void 0),(0,ot.Z)(this,"identifyPushProtocolStr",void 0),(0,ot.Z)(this,"host",void 0),(0,ot.Z)(this,"started",void 0),(0,ot.Z)(this,"timeout",void 0),(0,ot.Z)(this,"peerId",void 0),(0,ot.Z)(this,"peerStore",void 0),(0,ot.Z)(this,"registrar",void 0),(0,ot.Z)(this,"connectionManager",void 0),(0,ot.Z)(this,"addressManager",void 0),(0,ot.Z)(this,"maxInboundStreams",void 0),(0,ot.Z)(this,"maxOutboundStreams",void 0),(0,ot.Z)(this,"maxPushIncomingStreams",void 0),(0,ot.Z)(this,"maxPushOutgoingStreams",void 0),(0,ot.Z)(this,"maxIdentifyMessageSize",void 0),(0,ot.Z)(this,"maxObservedAddresses",void 0),(0,ot.Z)(this,"events",void 0),this.started=!1,this.peerId=t.peerId,this.peerStore=t.peerStore,this.registrar=t.registrar,this.addressManager=t.addressManager,this.connectionManager=t.connectionManager,this.events=t.events,this.identifyProtocolStr="/".concat(null!==(r=n.protocolPrefix)&&void 0!==r?r:OU.protocolPrefix,"/").concat("id","/").concat("1.0.0"),this.identifyPushProtocolStr="/".concat(null!==(i=n.protocolPrefix)&&void 0!==i?i:OU.protocolPrefix,"/").concat("id/push","/").concat("1.0.0"),this.timeout=null!==(o=n.timeout)&&void 0!==o?o:OU.timeout,this.maxInboundStreams=null!==(a=n.maxInboundStreams)&&void 0!==a?a:OU.maxInboundStreams,this.maxOutboundStreams=null!==(s=n.maxOutboundStreams)&&void 0!==s?s:OU.maxOutboundStreams,this.maxPushIncomingStreams=null!==(u=n.maxPushIncomingStreams)&&void 0!==u?u:OU.maxPushIncomingStreams,this.maxPushOutgoingStreams=null!==(c=n.maxPushOutgoingStreams)&&void 0!==c?c:OU.maxPushOutgoingStreams,this.maxIdentifyMessageSize=null!==(l=n.maxIdentifyMessageSize)&&void 0!==l?l:OU.maxIdentifyMessageSize,this.maxObservedAddresses=null!==(f=n.maxObservedAddresses)&&void 0!==f?f:OU.maxObservedAddresses,this.host={protocolVersion:"".concat(null!==(h=n.protocolPrefix)&&void 0!==h?h:OU.protocolPrefix,"/").concat("0.1.0"),agentVersion:null!==(p=n.agentVersion)&&void 0!==p?p:OU.agentVersion},t.events.addEventListener("connection:open",(function(e){var t=e.detail;d.identify(t).catch((function(e){DU.error("error during identify trigged by connection:open",e)}))})),t.events.addEventListener("self:peer:update",(function(e){d.push().catch((function(e){DU.error(e)}))})),this.host.agentVersion===IU&&($v||Qv?this.host.agentVersion+=" UserAgent=".concat(globalThis.process.version):(Yv||Jv||Xv||ey)&&(this.host.agentVersion+=" UserAgent=".concat(globalThis.navigator.userAgent)))}return(0,W.Z)(e,[{key:"isStarted",value:function(){return this.started}},{key:"start",value:function(){var e=(0,u.Z)((0,s.Z)().mark((function e(){var t=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.started){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.peerStore.merge(this.peerId,{metadata:{AgentVersion:Us(this.host.agentVersion),ProtocolVersion:Us(this.host.protocolVersion)}});case 4:return e.next=6,this.registrar.handle(this.identifyProtocolStr,(function(e){t._handleIdentify(e).catch((function(e){DU.error(e)}))}),{maxInboundStreams:this.maxInboundStreams,maxOutboundStreams:this.maxOutboundStreams});case 6:return e.next=8,this.registrar.handle(this.identifyPushProtocolStr,(function(e){t._handlePush(e).catch((function(e){DU.error(e)}))}),{maxInboundStreams:this.maxPushIncomingStreams,maxOutboundStreams:this.maxPushOutgoingStreams});case 8:this.started=!0;case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"stop",value:function(){var e=(0,u.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.registrar.unhandle(this.identifyProtocolStr);case 2:return e.next=4,this.registrar.unhandle(this.identifyPushProtocolStr);case 4:this.started=!1;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"pushToConnections",value:function(){var e=(0,u.Z)((0,s.Z)().mark((function e(t){var n,r,i,o,a,c,l,f,h,p,d=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this.addressManager.getAddresses().map((function(e){return e.decapsulateCode(qM("p2p").code)})),o=new lx({peerId:this.peerId,multiaddrs:i}),e.next=4,mE.seal(o,this.peerId);case 4:return a=e.sent,c=this.registrar.getProtocols(),e.next=8,this.peerStore.get(this.peerId);case 8:return l=e.sent,f=eu(null!==(n=l.metadata.get("AgentVersion"))&&void 0!==n?n:Us(this.host.agentVersion)),h=eu(null!==(r=l.metadata.get("ProtocolVersion"))&&void 0!==r?r:Us(this.host.protocolVersion)),p=t.map(function(){var e=(0,u.Z)((0,s.Z)().mark((function e(t){var n,r,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=AbortSignal.timeout(d.timeout);try{null===Xb.setMaxListeners||void 0===Xb.setMaxListeners||(0,Xb.setMaxListeners)(1/0,r)}catch(s){}return e.prev=2,e.next=5,t.newStream([d.identifyPushProtocolStr],{signal:r});case 5:return n=e.sent,o=yu(n,r),e.next=9,o.sink(cn([CU.encode({listenAddrs:i.map((function(e){return e.bytes})),signedPeerRecord:a.marshal(),protocols:c,agentVersion:f,protocolVersion:h})],(function(e){return Pt(e)})));case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),DU.error("could not push identify update to peer",e.t0);case 14:return e.prev=14,null!=n&&n.close(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,11,14,17]])})));return function(t){return e.apply(this,arguments)}}()),e.next=14,Promise.all(p);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"push",value:function(){var e=(0,u.Z)((0,s.Z)().mark((function e(){var t,n=this;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isStarted()){e.next=2;break}return e.abrupt("return");case 2:return t=[],e.next=5,Promise.all(this.connectionManager.getConnections().map(function(){var e=(0,u.Z)((0,s.Z)().mark((function e(r){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.peerStore.get(r.remotePeer);case 3:if(e.sent.protocols.includes(n.identifyPushProtocolStr)){e.next=6;break}return e.abrupt("return");case 6:t.push(r),e.next=13;break;case 9:if(e.prev=9,e.t0=e.catch(0),e.t0.code===NF.ERR_NOT_FOUND){e.next=13;break}throw e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()));case 5:return e.next=7,this.pushToConnections(t);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_identify",value:function(){var e=(0,u.Z)((0,s.Z)().mark((function e(t){var n,r,i,o,a,c=this,l=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=l.length>1&&void 0!==l[1]?l[1]:{},i=ej([AbortSignal.timeout(this.timeout),null===n||void 0===n?void 0:n.signal]);try{null===Xb.setMaxListeners||void 0===Xb.setMaxListeners||(0,Xb.setMaxListeners)(1/0,i)}catch(f){}return e.prev=3,e.next=6,t.newStream([this.identifyProtocolStr],{signal:i});case 6:return r=e.sent,o=yu(r,i),e.next=10,cn([],o,(function(e){var t;return jt(e,{maxDataLength:null!==(t=c.maxIdentifyMessageSize)&&void 0!==t?t:8192})}),function(){var e=(0,u.Z)((0,s.Z)().mark((function e(t){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sj(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:if(null!=(a=e.sent)){e.next=13;break}throw new ar.s("No data could be retrieved",NF.ERR_CONNECTION_ENDED);case 13:return e.prev=13,e.abrupt("return",CU.decode(a));case 17:throw e.prev=17,e.t0=e.catch(13),new ar.s(String(e.t0),NF.ERR_INVALID_MESSAGE);case 20:return e.prev=20,null!=r&&r.close(),i.clear(),e.finish(20);case 24:case"end":return e.stop()}}),e,this,[[3,,20,24],[13,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"identify",value:function(){var e=(0,u.Z)((0,s.Z)().mark((function e(t){var n,r,i,o,a,u,c,l,f,h,p=arguments;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=p.length>1&&void 0!==p[1]?p[1]:{},e.next=3,this._identify(t,r);case 3:if(i=e.sent,o=i.publicKey,a=i.protocols,u=i.observedAddr,null!=o){e.next=7;break}throw new ar.s("public key was missing from identify message",NF.ERR_MISSING_PUBLIC_KEY);case 7:return e.next=9,(0,Ps.y5)(o);case 9:if(c=e.sent,t.remotePeer.equals(c)){e.next=12;break}throw new ar.s("identified peer does not match the expected peer",NF.ERR_INVALID_PEER);case 12:if(!this.peerId.equals(c)){e.next=14;break}throw new ar.s("identified peer is our own peer id?",NF.ERR_INVALID_PEER);case 14:return l=BU(u),DU("identify completed for peer %p and protocols %o",c,a),DU("our observed address is %s",l),null!=l&&this.addressManager.getObservedAddrs().length<(null!==(n=this.maxObservedAddresses)&&void 0!==n?n:1/0)&&(DU("storing our observed address %s",null===l||void 0===l?void 0:l.toString()),this.addressManager.addObservedAddr(l)),e.next=20,dw(this,RU,LU).call(this,t.remotePeer,i);case 20:f=e.sent,h={peerId:c,protocolVersion:i.protocolVersion,agentVersion:i.agentVersion,publicKey:i.publicKey,listenAddrs:i.listenAddrs.map((function(e){return AF(e)})),observedAddr:null==i.observedAddr?void 0:AF(i.observedAddr),protocols:i.protocols,signedPeerRecord:f},this.events.safeDispatchEvent("peer:identify",{detail:h});case 23:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_handleIdentify",value:function(){var e=(0,u.Z)((0,s.Z)().mark((function e(t){var n,r,i,o,a,u,c,l,f,h,p,d,v;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.connection,r=t.stream,i=AbortSignal.timeout(this.timeout);try{null===Xb.setMaxListeners||void 0===Xb.setMaxListeners||(0,Xb.setMaxListeners)(1/0,i)}catch(s){}return e.prev=3,a=null!==(o=this.peerId.publicKey)&&void 0!==o?o:new Uint8Array(0),e.next=7,this.peerStore.get(this.peerId);case 7:if(u=e.sent,c=this.addressManager.getAddresses().map((function(e){return e.decapsulateCode(qM("p2p").code)})),l=u.peerRecordEnvelope,!(c.length>0&&null==l)){e.next=16;break}return f=new lx({peerId:this.peerId,multiaddrs:c}),e.next=14,mE.seal(f,this.peerId);case 14:h=e.sent,l=h.marshal().subarray();case 16:return p=CU.encode({protocolVersion:this.host.protocolVersion,agentVersion:this.host.agentVersion,publicKey:a,listenAddrs:c.map((function(e){return e.bytes})),signedPeerRecord:l,observedAddr:n.remoteAddr.bytes,protocols:u.protocols}),d=yu(r,i),v=cn([p],(function(e){return Pt(e)})),e.next=21,d.sink(v);case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),DU.error("could not respond to identify request",e.t0);case 26:return e.prev=26,r.close(),e.finish(26);case 29:case"end":return e.stop()}}),e,this,[[3,23,26,29]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_handlePush",value:function(){var e=(0,u.Z)((0,s.Z)().mark((function e(t){var n,r,i,o,a,u;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.connection,r=t.stream,e.prev=1,!this.peerId.equals(n.remotePeer)){e.next=4;break}throw new Error("received push from ourselves?");case 4:return o=yu(r,AbortSignal.timeout(this.timeout)),a=nn(o,{maxDataLength:null!==(i=this.maxIdentifyMessageSize)&&void 0!==i?i:8192}),e.next=8,a.readPB(CU);case 8:return u=e.sent,e.next=11,dw(this,RU,LU).call(this,n.remotePeer,u);case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(1),DU.error("received invalid message",e.t0),e.abrupt("return");case 17:return e.prev=17,r.close(),e.finish(17);case 20:DU("handled push from %p",n.remotePeer);case 21:case"end":return e.stop()}}),e,this,[[1,13,17,20]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();function LU(e,t){return NU.apply(this,arguments)}function NU(){return NU=(0,u.Z)((0,s.Z)().mark((function e(t,n){var r,i,o,a,u,c,l,f;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(DU("received identify from %p",t),null!=n){e.next=3;break}throw new Error("Message was null or undefined");case 3:if(r={addresses:n.listenAddrs.map((function(e){return{isCertified:!1,multiaddr:AF(e)}})),protocols:n.protocols,metadata:new Map,peerRecordEnvelope:n.signedPeerRecord},null==n.signedPeerRecord){e.next=38;break}return DU("received signedPeerRecord in push from %p",t),o=n.signedPeerRecord,e.next=9,mE.openAndCertify(o,lx.DOMAIN);case 9:if(a=e.sent,(u=lx.createFromProtobuf(a.payload)).peerId.equals(a.peerId)){e.next=13;break}throw new Error("signing key does not match PeerId in the PeerRecord");case 13:if(t.equals(u.peerId)){e.next=15;break}throw new Error("signing key does not match remote PeerId");case 15:return e.prev=15,e.next=18,this.peerStore.get(u.peerId);case 18:c=e.sent,e.next=25;break;case 21:if(e.prev=21,e.t0=e.catch(15),"ERR_NOT_FOUND"===e.t0.code){e.next=25;break}throw e.t0;case 25:if(null==c){e.next=33;break}if(r.metadata=c.metadata,null==c.peerRecordEnvelope){e.next=33;break}return e.next=30,mE.createFromProtobuf(c.peerRecordEnvelope);case 30:l=e.sent,(f=lx.createFromProtobuf(l.payload)).seqNumber>=u.seqNumber&&(DU("sequence number was lower or equal to existing sequence number - stored: %d received: %d",f.seqNumber,u.seqNumber),u=f,o=c.peerRecordEnvelope);case 33:r.peerRecordEnvelope=o,r.addresses=u.multiaddrs.map((function(e){return{isCertified:!0,multiaddr:e}})),i={seq:u.seqNumber,addresses:u.multiaddrs},e.next=39;break;case 38:DU("%p did not send a signed peer record",t);case 39:return null!=n.agentVersion&&r.metadata.set("AgentVersion",Us(n.agentVersion)),null!=n.protocolVersion&&r.metadata.set("ProtocolVersion",Us(n.protocolVersion)),e.next=43,this.peerStore.patch(t,r);case 43:return e.abrupt("return",i);case 44:case"end":return e.stop()}}),e,this,[[15,21]])}))),NU.apply(this,arguments)}function BU(e){if(null!=e&&e.length>0)try{return AF(e)}catch(t){}}function MU(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){return new PU(t,e)}}function FU(e){return jU.apply(this,arguments)}function jU(){return jU=(0,u.Z)((0,s.Z)().mark((function e(t){var r,i,o,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new sm,i=new km,e.next=4,Kj({start:!0,peerRouters:[mc(t)],contentRouters:[hc(t)],datastore:i,transports:[Tv(),Zv(),Qg(),hy(),TU({discoverRelays:1})],connectionEncryption:[hu()],streamMuxers:[rc(),al()],services:{identify:MU(),autoNAT:Xj()}});case 4:return o=e.sent,e.next=7,LM({datastore:i,blockstore:r,libp2p:o});case 7:return a=e.sent,e.t0=d,e.t1=a,e.next=12,Promise.resolve().then(n.bind(n,67901));case 12:return e.t2=e.sent,e.t3={hello:"world"},e.next=16,(0,e.t0)(e.t1,e.t2,e.t3);case 16:return e.abrupt("return",a);case 17:case"end":return e.stop()}}),e)}))),jU.apply(this,arguments)}var UU={apiOpts:{host:"127.0.0.1",port:"5001",protocol:"http"},instance:null,error:null,kuboClient:null};function zU(e){var t={};if(null!=globalThis.localStorage)try{var n,r=null!==(n=globalThis.localStorage.getItem(e))&&void 0!==n?n:"{}";t=JSON.parse(r)}catch(i){console.error("Error reading '".concat(e,"' value from localStorage"),i)}return t}var HU={name:"helia",reducer:function(e,t){var n,r,i,o,a=t.type,s=t.payload,u=t.error;return e=null!==(n=e)&&void 0!==n?n:UU,"HELIA_INIT_FINISHED"===a?Object.assign({},e,{instance:null!==(r=s.instance)&&void 0!==r?r:e.instance,kuboClient:null!==(i=s.kuboClient)&&void 0!==i?i:e.kuboClient,apiOpts:null!==(o=s.apiOpts)&&void 0!==o?o:e.apiOpts,error:null}):"HELIA_INIT_FAILED"===a?Object.assign({},e,{error:u}):e},selectKuboClient:function(e){return e.helia.kuboClient},selectHelia:function(e){return e.helia.instance},selectHeliaReady:function(e){return null!==e.helia.instance},selectHeliaIdentity:function(e){var t,n,r,i,o=null===(t=e.helia.instance)||void 0===t||null===(n=t.libp2p.services)||void 0===n?void 0:n.identify;return null!==(r=null===o||void 0===o||null===(i=o.host)||void 0===i?void 0:i.agentVersion.split(" ")[0])&&void 0!==r?r:"null"},doInitHelia:function(){return function(){var e=(0,u.Z)((0,s.Z)().mark((function e(t){var n,r,i,o,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dispatch,r=t.getState,n({type:"HELIA_INIT_STARTED"}),i=Object.assign({},r().helia.apiOpts,zU("ipfsApi")),e.prev=3,console.info("\ud83c\udf9b\ufe0f Customise your kubo-rpc-client opts by setting an `ipfsApi` value in localStorage. e.g. localStorage.setItem('ipfsApi', JSON.stringify({port: '1337'}))"),o=(0,it.create)(i),console.time("HELIA_INIT"),e.next=9,FU(o);case 9:return a=e.sent,console.timeEnd("HELIA_INIT"),e.abrupt("return",n({type:"HELIA_INIT_FINISHED",payload:{apiOpts:i,kuboClient:o,instance:a,provider:"helia"}}));case 14:return e.prev=14,e.t0=e.catch(3),e.abrupt("return",n({type:"HELIA_INIT_FAILED",error:e.t0}));case 17:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}()}},VU=HU,GU=(n(24461),n(72791)),KU=n(86489),WU=n(218);var qU=n.p+"static/media/spinner.2b9ba5ad729c470bcc2f15327fe033d5.svg";var YU=n.p+"static/media/upload.62e1d0494e4ab941631324eac71c71a4.svg",QU=function(e){(0,X.Z)(n,e);var t=(0,$.Z)(n);function n(e){var r;return(0,K.Z)(this,n),(r=t.call(this,e)).state={file:{}},r.handleOnChange=r.handleOnChange.bind((0,nr.Z)(r)),r.handleOnSubmit=r.handleOnSubmit.bind((0,nr.Z)(r)),r}return(0,W.Z)(n,[{key:"handleOnSubmit",value:function(e){e.preventDefault()}},{key:"handleOnChange",value:function(){document.getElementById("car-loader-image").src=qU;var e=document.getElementById("car-file").files[0];this.props.doUploadUserProvidedCar(e,YU)}},{key:"render",value:function(){var e=this.props.t;return GU.createElement("form",{"data-id":"IpldCarExploreForm",className:"sans-serif black-80 flex",onSubmit:this.handleOnSubmit,encType:"multipart/form-data"},GU.createElement("div",{className:"flex-auto"},GU.createElement("div",{className:"relative"},GU.createElement("input",{id:"car-file",type:"file",accept:".car",className:"input-reset bn pa2 mb2 db w-100 f6 br-0 placeholder-light focus-outline",style:{borderRadius:"3px 0 0 3px",backgroundColor:"white",padding:"5px 0px 5px 5px",width:"99%"},"aria-describedby":"name-desc",onChange:this.handleOnChange}),GU.createElement("small",{id:"car-file-desc",className:"o-0 absolute f6 black-60 db mb2"},e("IpldCarExploreForm.uploadCarFile")),GU.createElement("img",{id:"car-loader-image",alt:"placeholder for upload and loader",src:YU,className:"absolute",style:{top:"0px",right:"0px",height:"30px",width:"30px",paddingRight:"10px"}}))))}}]),n}(GU.Component);(0,WU.$)("doUploadUserProvidedCar",(0,KU.Z)("explore")(QU));function XU(){return XU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XU.apply(this,arguments)}var $U=function(e){return GU.createElement("svg",XU({viewBox:"0 0 100 100"},e),GU.createElement("path",{d:"M87.714 44.764c0-1.157-.45-2.245-1.269-3.062a4.304 4.304 0 0 0-3.063-1.269 4.304 4.304 0 0 0-3.062 1.269 4.337 4.337 0 0 0 0 6.125c.602.602 1.351 1 2.164 1.172v2.442l-14.686 9.276v-19.79l4.498-2.842v-3.717a4.27 4.27 0 0 0 1.827-1.067 4.337 4.337 0 0 0 0-6.125 4.337 4.337 0 0 0-6.126 0 4.304 4.304 0 0 0-1.269 3.063c0 1.157.45 2.245 1.269 3.062a4.282 4.282 0 0 0 1.963 1.107v2.391L51.236 48.627v-8.901l9.304-5.877v-7.051a4.282 4.282 0 0 0 1.986-1.114 4.336 4.336 0 0 0-.001-6.125 4.337 4.337 0 0 0-6.125 0h-.001a4.337 4.337 0 0 0 0 6.125c.52.519 1.145.859 1.804 1.059v5.818l-6.967 4.401V15.561a4.283 4.283 0 0 0 2.008-1.12 4.337 4.337 0 0 0-.001-6.126 4.337 4.337 0 0 0-6.125 0h-.001a4.337 4.337 0 0 0 .001 6.126 4.273 4.273 0 0 0 1.782 1.053v15.881l-7.229-4.566v-3.436a4.292 4.292 0 0 0 2.008-1.12 4.337 4.337 0 0 0 0-6.125 4.337 4.337 0 0 0-6.126 0 4.304 4.304 0 0 0-1.269 3.063c0 1.157.45 2.245 1.269 3.062a4.276 4.276 0 0 0 1.781 1.053v4.79l9.565 6.042v21.108l-7.708-4.226v-7.809a4.275 4.275 0 0 0 2.034-1.128 4.337 4.337 0 0 0 0-6.125 4.337 4.337 0 0 0-6.126 0 4.304 4.304 0 0 0-1.269 3.063c0 1.157.45 2.245 1.269 3.062a4.284 4.284 0 0 0 1.756 1.046v6.61L27.15 43.322v-6.217a4.28 4.28 0 0 0 1.984-1.117 4.3 4.3 0 0 0 1.27-3.063c0-1.157-.45-2.245-1.269-3.062a4.336 4.336 0 0 0-6.126 0 4.337 4.337 0 0 0 0 6.125c.51.51 1.132.858 1.804 1.062v7.621l3.646 2.004v13.632l-10.582-5.77v-2.418a4.29 4.29 0 0 0 2.051-1.133 4.337 4.337 0 0 0 0-6.125 4.304 4.304 0 0 0-3.062-1.269 4.304 4.304 0 0 0-3.063 1.269 4.337 4.337 0 0 0 0 6.125 4.285 4.285 0 0 0 1.738 1.041v3.812L48.9 74.108v11.397a4.277 4.277 0 0 0-1.783 1.053 4.337 4.337 0 0 0 0 6.125 4.32 4.32 0 0 0 3.063 1.266 4.316 4.316 0 0 0 3.063-1.267 4.337 4.337 0 0 0 0-6.125 4.29 4.29 0 0 0-2.008-1.119V73.943L84.82 52.727v-3.892a4.29 4.29 0 0 0 1.625-1.008 4.3 4.3 0 0 0 1.269-3.063zM30.586 61.468V47.844L48.9 57.91v13.542l-18.314-9.984zm34.876-19.065v19.79l-14.227 8.986v-19.79l14.227-8.986zm3.067-12.164c0-.676.264-1.312.742-1.79a2.525 2.525 0 0 1 1.79-.74c.647 0 1.296.247 1.789.74a2.536 2.536 0 0 1 0 3.581 2.535 2.535 0 0 1-3.579 0 2.516 2.516 0 0 1-.742-1.791zm-10.857-9.407a2.534 2.534 0 0 1 3.58 0 2.534 2.534 0 0 1 0 3.58 2.534 2.534 0 0 1-3.58 0 2.534 2.534 0 0 1 0-3.58zM48.389 9.589a2.536 2.536 0 0 1 3.581 0c.987.987.987 2.593.001 3.58a2.536 2.536 0 0 1-3.581 0 2.535 2.535 0 0 1-.001-3.58zM38.084 19.19c0-.676.264-1.312.742-1.79a2.525 2.525 0 0 1 1.79-.74c.647 0 1.296.247 1.789.74a2.536 2.536 0 0 1 0 3.581 2.535 2.535 0 0 1-3.579 0 2.52 2.52 0 0 1-.742-1.791zm-.453 19.832c0-.676.264-1.312.742-1.79a2.525 2.525 0 0 1 1.79-.74c.647 0 1.296.247 1.789.74a2.536 2.536 0 0 1 0 3.581 2.535 2.535 0 0 1-3.58 0 2.525 2.525 0 0 1-.741-1.791zm-13.348-7.887a2.524 2.524 0 0 1 1.789-.74 2.526 2.526 0 0 1 2.532 2.531c0 .677-.264 1.312-.742 1.79-.422.422-.984.647-1.562.696h-.456c-.577-.049-1.139-.274-1.561-.696a2.534 2.534 0 0 1 0-3.581zm-9.207 14.999a2.514 2.514 0 0 1 1.79-.742 2.534 2.534 0 0 1 1.789 4.322 2.533 2.533 0 0 1-3.579 0 2.533 2.533 0 0 1 0-3.58zM51.97 91.411a2.534 2.534 0 0 1-3.58 0 2.534 2.534 0 0 1 0-3.58 2.536 2.536 0 0 1 3.58 0 2.534 2.534 0 0 1 0 3.58zm33.202-44.857c-.955.955-2.624.957-3.579 0a2.534 2.534 0 0 1 1.789-4.322c.677 0 1.312.264 1.791.742.478.478.741 1.113.741 1.79s-.263 1.311-.742 1.79z"}))},JU=function(e){(0,X.Z)(n,e);var t=(0,$.Z)(n);function n(e){var r;return(0,K.Z)(this,n),(r=t.call(this,e)).state={path:""},r.handleOnChange=r.handleOnChange.bind((0,nr.Z)(r)),r.handleOnSubmit=r.handleOnSubmit.bind((0,nr.Z)(r)),r}return(0,W.Z)(n,[{key:"handleOnSubmit",value:function(e){e.preventDefault(),this.props.doExploreUserProvidedPath(this.state.path)}},{key:"handleOnChange",value:function(e){var t=e.target.value;this.setState({path:t})}},{key:"render",value:function(){var e=this.props.t;return GU.createElement("form",{"data-id":"IpldExploreForm",className:"sans-serif black-80 flex",onSubmit:this.handleOnSubmit},GU.createElement("div",{className:"flex-auto"},GU.createElement("div",{className:"relative"},GU.createElement("input",{id:"ipfs-path",className:"input-reset bn pa2 mb2 db w-100 f6 br-0 placeholder-light focus-outline",style:{borderRadius:"3px 0 0 3px"},type:"text",placeholder:"QmHash","aria-describedby":"name-desc",onChange:this.handleOnChange,value:this.state.path}),GU.createElement("small",{id:"ipfs-path-desc",className:"o-0 absolute f6 black-60 db mb2"},"Paste in a CID or IPFS path"))),GU.createElement("div",{className:"flex-none"},GU.createElement("button",{type:"submit",className:"button-reset dib lh-copy pv1 pl2 pr3 ba f7 fw4 focus-outline white bg-aqua bn",style:{borderRadius:"0 3px 3px 0"}},GU.createElement($U,{style:{height:24},className:"dib fill-current-color v-mid navy 0-100"}),GU.createElement("span",{className:"ml2 navy 0-100"},e("IpldExploreForm.explore")))))}}]),n}(GU.Component),ez=(0,WU.$)("doExploreUserProvidedPath",(0,KU.Z)("explore")(JU)),tz=(n(39278),n(5803)),nz=n(51483),rz=(0,tz.ZP)((function(){return n.e(480).then(n.bind(n,90480))}),{fallback:GU.createElement(nz.Z,null)}),iz=n(85762),oz=n(18970),az=n(14964),sz=n(30606);var uz=n.p+"static/media/ipld.c2e6094fbcd21952d9a1019f204a629e.svg",cz=n(59714),lz=(0,KU.Z)("explore")((function(e){var t=e.t;return GU.createElement(cz.Z,{className:"tl dib pa4 avenir measure-wide-l lh-copy dark-gray ba-l b--black-10"},GU.createElement("div",{className:"tc"},GU.createElement("a",{className:"link",href:"https://ipld.io"},GU.createElement("img",{src:uz,alt:"IPLD",style:{height:60}}))),GU.createElement(sz.c,{i18nKey:"AboutIpld.paragraph1",t:t},GU.createElement("p",null,"IPLD is ",GU.createElement("strong",null,"the data model of the content-addressable web.")," It allows us to treat all hash-linked data structures as subsets of a unified information space, unifying all data models that link data with hashes as instances of IPLD.")),GU.createElement(sz.c,{i18nKey:"AboutIpld.paragraph2",t:t},GU.createElement("p",null,"Content addressing through hashes has become a widely-used means of connecting data in distributed systems, from the blockchains that run your favorite cryptocurrencies, to the commits that back your code, to the web\u2019s content at large. Yet, whilst all of these tools rely on some common primitives, their specific underlying data structures are not interoperable.")),GU.createElement(sz.c,{i18nKey:"AboutIpld.paragraph3",t:t},GU.createElement("p",null,"Enter IPLD: a single namespace for all hash-inspired protocols. Through IPLD, links can be traversed across protocols, allowing you to explore data regardless of the underlying protocol.")))})),fz=n(29405),hz=function(e){var t=e.cid,n=e.name,r=e.type;return GU.createElement("a",{className:"flex items-center lh-copy pl3 pl0-l pv3 bb b--black-10 link focus-outline",href:"#/explore/".concat(t)},GU.createElement("span",{className:"flex items-center justify-center w3 h3 flex-none br-100 tc",style:{background:(0,iz.$j)(r)}},GU.createElement("span",{className:"montserrat fw2 f4 snow",title:(0,iz.RB)(r)},(0,iz.Yn)(r))),GU.createElement("span",{className:"pl3 truncate"},GU.createElement("h2",{className:"ma0 fw4 f5 db black montserrat"},n),GU.createElement("span",{className:"f7 db blue truncate monospace"},t)))},pz=(0,KU.Z)("explore")((function(e){var t=e.t,n=e.embed,r=e.runTour,i=void 0!==r&&r,o=e.joyrideCallback;return GU.createElement("div",{className:"mw9 center explore-sug-2"},GU.createElement(oz.ql,null,GU.createElement("title",null,t("StartExploringPage.title"))),GU.createElement("div",{className:"flex-l"},GU.createElement("div",{className:"flex-auto-l mr3-l"},GU.createElement("div",{className:"pl3 pl0-l pt4 pt2-l"},GU.createElement("h1",{className:"f3 f2-l ma0 fw4 montserrat charcoal"},t("StartExploringPage.header")),GU.createElement("p",{className:"lh-copy f5 avenir charcoal-muted"},t("StartExploringPage.leadParagraph"))),n?GU.createElement(ez,null):null,GU.createElement("ul",{className:"list pl0 ma0 mt4 mt0-l bt bn-l b--black-10"},GU.createElement("li",null,GU.createElement(hz,{name:"Project Apollo Archives",cid:"QmSnuWmxptJZdLJpKRarxBMS2Ju2oANVrgbr2xWbie9b2D",type:"dag-pb"})),GU.createElement("li",null,GU.createElement(hz,{name:"XKCD Archives",cid:"QmdmQXB2mzChmMeKY47C43LxUdg1NDJ5MWcKMKxDu7RgQm",type:"dag-pb"})),GU.createElement("li",null,GU.createElement(hz,{name:"HAMT-sharded Wikipedia mirror (>20M files)",cid:"bafybeiaysi4s6lnjev27ln5icwm6tueaw2vdykrtjkwiphwekaywqhcjze",type:"hamt-sharded-directory"})),GU.createElement("li",null,GU.createElement(hz,{name:"B-tree search index from ipfs-geoip",cid:"bafyreihnpl7ami7esahkfdnemm6idx4r2n6u3apmtcrxlqwuapgjsciihy",type:"dag-cbor"})),GU.createElement("li",null,GU.createElement(hz,{name:"DAG-CBOR Block",cid:"bafyreicnokmhmrnlp2wjhyk2haep4tqxiptwfrp2rrs7rzq7uk766chqvq",type:"dag-cbor"})),GU.createElement("li",null,GU.createElement(hz,{name:'Raw Block for "hello"',cid:"bafkreibm6jg3ux5qumhcn2b3flc3tyu6dmlb4xa7u5bf44yegnrjhc4yeq",type:"raw"})),GU.createElement("li",null,GU.createElement(hz,{name:"dag-json hello world",cid:"baguqeerasords4njcts6vs7qvdjfcvgnume4hqohf65zsfguprqphs3icwea",type:"dag-json"})),GU.createElement("li",null,GU.createElement(hz,{name:"IGIS Git Repo",cid:"baf4bcfg4ep767tjp5lxyanx5urpjjgx5q2volvy",type:"git-raw"})))),GU.createElement("div",{className:"pt2-l"},GU.createElement(lz,null))),GU.createElement(az.ZP,{run:i,steps:fz.V.getSteps({t:t}),styles:fz.V.styles,callback:o,scrollToFirstStep:!0}))}))},59536:function(e,t,n){"use strict";n.d(t,{A$:function(){return l},NZ:function(){return u},SD:function(){return s},uU:function(){return c}});var r=n(76438),i=n(67901),o=n(12877),a=n(99270);function s(e,t){if(!e)return null;try{return a.CID.asCID(e)||a.CID.parse(e,t)}catch(n){return null}}function u(e){var t=s(e);if(null==t)return null;switch(t.code){case r.code:return r.name;case i.code:return i.name;case o.code:return o.name;default:return null}}function c(e){var t=s(e);return t?t.code:null}function l(e){var t=s(e);return t?t.toString():null}},48236:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(65685),i=n.n(r);function o(e){switch(e){case i().DAG_CBOR:return"dag-cbor";case i().DAG_PB:return"dag-pb";case i().GIT_RAW:return"git-raw";case i().RAW:return"raw";case i().JSON:return"json";case i().DAG_JSON:return"dag-json";default:return i().codeToName[e]}}},18870:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(55507),i=n(92137),o=n(27898),a=n(32162),s=n(60910);function u(e){return c.apply(this,arguments)}function c(){return c=(0,i.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next=e.t0===s.sha256.code?3:e.t0===s.sha512.code?4:17===e.t0?5:27===e.t0?6:7;break;case 3:return e.abrupt("return",s.sha256);case 4:return e.abrupt("return",s.sha512);case 5:return e.abrupt("return",(0,a.D)({name:"sha1",code:t,encode:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var i,o,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(i=globalThis.crypto)||void 0===i){e.next=4;break}e.t0=i,e.next=7;break;case 4:return e.next=6,Promise.all([n.e(433),n.e(3)]).then(n.t.bind(n,86433,19));case 6:e.t0=e.sent.webcrypto;case 7:return o=e.t0,e.next=10,o.subtle.digest("SHA-1",t);case 10:return a=e.sent,e.abrupt("return",new Uint8Array(a));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}));case 6:return e.abrupt("return",(0,a.D)({name:"keccak-256",code:t,encode:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Uint8Array(o.keccak256.arrayBuffer(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}));case 7:throw new Error("unknown multihasher code '".concat(t,"'"));case 8:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)}},29405:function(e,t,n){"use strict";n.d(t,{V:function(){return i},_:function(){return o}});var r=n(72791),i={getSteps:function(e){var t=e.t;return[{content:r.createElement("div",{className:"montserrat charcoal"},r.createElement("h2",{className:"f3 fw4"},t("tour.projects.title")),r.createElement("p",{className:"tl f6"},t("tour.projects.paragraph1"))),placement:"center",target:"body"}]},styles:{options:{width:"500px",primaryColor:"#69c4cd",textColor:"#34373f",zIndex:999}}},o={getSteps:function(e){var t=e.t;return[{content:r.createElement("div",{className:"montserrat charcoal"},r.createElement("h2",{className:"f3 fw4"},t("tour.explorer.step1.title")),r.createElement("p",{className:"tl f6"},t("tour.explorer.step1.paragraph1"))),placement:"center",target:"body"},{content:r.createElement("div",{className:"montserrat charcoal"},r.createElement("h2",{className:"f3 fw4"},t("tour.explorer.step2.title")),r.createElement("p",{className:"tl f6"},t("tour.explorer.step2.paragraph1")),r.createElement("p",{className:"tl f6"},t("tour.explorer.step2.paragraph2"))),placement:"bottom",target:".joyride-explorer-crumbs"},{content:r.createElement("div",{className:"montserrat charcoal"},r.createElement("h2",{className:"f3 fw4"},t("tour.explorer.step3.title")),r.createElement("p",{className:"tl f6"},t("tour.explorer.step3.paragraph1"))),placement:"right",target:".joyride-explorer-node"},{content:r.createElement("div",{className:"montserrat charcoal"},r.createElement("h2",{className:"f3 fw4"},t("tour.explorer.step4.title")),r.createElement("p",{className:"tl f6"},t("tour.explorer.step4.paragraph1"))),placement:"left",target:".joyride-explorer-cid"},{content:r.createElement("div",{className:"montserrat charcoal"},r.createElement("h2",{className:"f3 fw4"},t("tour.explorer.step5.title")),r.createElement("p",{className:"tl f6"},t("tour.explorer.step5.paragraph1"))),locale:{last:"Finish"},placement:"left",target:".joyride-explorer-graph"}]},styles:{options:{width:"500px",primaryColor:"#69c4cd",textColor:"#34373f",zIndex:999}}}},12877:function(e,t,n){"use strict";n.r(t),n.d(t,{code:function(){return D},createLink:function(){return C},createNode:function(){return T},decode:function(){return R},encode:function(){return O},name:function(){return I},prepare:function(){return A},validate:function(){return Z}});var r=n(33592),i=n(28481),o=new TextDecoder;function a(e,t){for(var n=0,r=0;;r+=7){if(r>=64)throw new Error("protobuf: varint overflow");if(t>=e.length)throw new Error("protobuf: unexpected end of data");var i=e[t++];if(n+=r<28?(127&i)<<r:(127&i)*Math.pow(2,r),i<128)break}return[n,t]}function s(e,t){var n,r=a(e,t),o=(0,i.Z)(r,2);n=o[0];var s=(t=o[1])+n;if(n<0||s<0)throw new Error("protobuf: invalid length");if(s>e.length)throw new Error("protobuf: unexpected end of data");return[e.subarray(t,s),s]}function u(e,t){var n,r=a(e,t),o=(0,i.Z)(r,2);return[7&(n=o[0]),n>>3,t=o[1]]}function c(e){for(var t={},n=e.length,r=0;r<n;){var c,l,f=u(e,r),h=(0,i.Z)(f,3);if(c=h[0],l=h[1],r=h[2],1===l){if(t.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(2!==c)throw new Error("protobuf: (PBLink) wrong wireType (".concat(c,") for Hash"));if(void 0!==t.Name)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");var p=s(e,r),d=(0,i.Z)(p,2);t.Hash=d[0],r=d[1]}else if(2===l){if(void 0!==t.Name)throw new Error("protobuf: (PBLink) duplicate Name section");if(2!==c)throw new Error("protobuf: (PBLink) wrong wireType (".concat(c,") for Name"));if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");var v,y=s(e,r),g=(0,i.Z)(y,2);v=g[0],r=g[1],t.Name=o.decode(v)}else{if(3!==l)throw new Error("protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ".concat(l));if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(0!==c)throw new Error("protobuf: (PBLink) wrong wireType (".concat(c,") for Tsize"));var m=a(e,r),b=(0,i.Z)(m,2);t.Tsize=b[0],r=b[1]}}if(r>n)throw new Error("protobuf: (PBLink) unexpected end of data");return t}var l=n(11965),f=new TextEncoder,h=Math.pow(2,32),p=Math.pow(2,31);function d(e,t){var n=t.length;if("number"===typeof e.Tsize){if(e.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(e.Tsize))throw new Error("Tsize too large for encoding");t[n=g(t,n,e.Tsize)-1]=24}if("string"===typeof e.Name){var r=f.encode(e.Name);n-=r.length,t.set(r,n),t[n=g(t,n,r.length)-1]=18}return e.Hash&&(n-=e.Hash.length,t.set(e.Hash,n),t[n=g(t,n,e.Hash.length)-1]=10),t.length-n}function v(e){var t=function(e){var t=0;if(e.Data){var n=e.Data.length;t+=1+n+m(n)}if(e.Links){var r,i=(0,l.Z)(e.Links);try{for(i.s();!(r=i.n()).done;){var o=y(r.value);t+=1+o+m(o)}}catch(a){i.e(a)}finally{i.f()}}return t}(e),n=new Uint8Array(t),r=t;if(e.Data&&(r-=e.Data.length,n.set(e.Data,r),n[r=g(n,r,e.Data.length)-1]=10),e.Links)for(var i=e.Links.length-1;i>=0;i--){var o=d(e.Links[i],n.subarray(0,r));n[r=g(n,r-=o,o)-1]=18}return n}function y(e){var t=0;if(e.Hash){var n=e.Hash.length;t+=1+n+m(n)}if("string"===typeof e.Name){var r=f.encode(e.Name).length;t+=1+r+m(r)}return"number"===typeof e.Tsize&&(t+=1+m(e.Tsize)),t}function g(e,t,n){for(var r=t-=m(n);n>=p;)e[t++]=127&n|128,n/=128;for(;n>=128;)e[t++]=127&n|128,n>>>=7;return e[t]=n,r}function m(e){return e%2===0&&e++,Math.floor((function(e){var t=0;e>=h&&(e=Math.floor(e/h),t=32);e>=65536&&(e>>>=16,t+=16);e>=256&&(e>>>=8,t+=8);return t+b[e]}(e)+6)/7)}var b=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],w=["Data","Links"],k=["Hash","Name","Tsize"],E=new TextEncoder;function x(e,t){if(e===t)return 0;for(var n=e.Name?E.encode(e.Name):[],r=t.Name?E.encode(t.Name):[],i=n.length,o=r.length,a=0,s=Math.min(i,o);a<s;++a)if(n[a]!==r[a]){i=n[a],o=r[a];break}return i<o?-1:o<i?1:0}function _(e,t){return!Object.keys(e).some((function(e){return!t.includes(e)}))}function S(e){if("object"===typeof e.asCID){var t=r.CID.asCID(e);if(!t)throw new TypeError("Invalid DAG-PB form");return{Hash:t}}if("object"!==typeof e||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");var n={};if(e.Hash){var i=r.CID.asCID(e.Hash);try{i||("string"===typeof e.Hash?i=r.CID.parse(e.Hash):e.Hash instanceof Uint8Array&&(i=r.CID.decode(e.Hash)))}catch(o){throw new TypeError("Invalid DAG-PB form: ".concat(o.message))}i&&(n.Hash=i)}if(!n.Hash)throw new TypeError("Invalid DAG-PB form");return"string"===typeof e.Name&&(n.Name=e.Name),"number"===typeof e.Tsize&&(n.Tsize=e.Tsize),n}function A(e){if((e instanceof Uint8Array||"string"===typeof e)&&(e={Data:e}),"object"!==typeof e||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");var t={};if(void 0!==e.Data)if("string"===typeof e.Data)t.Data=E.encode(e.Data);else{if(!(e.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form");t.Data=e.Data}if(void 0!==e.Links){if(!Array.isArray(e.Links))throw new TypeError("Invalid DAG-PB form");t.Links=e.Links.map(S),t.Links.sort(x)}else t.Links=[];return t}function Z(e){if(!e||"object"!==typeof e||Array.isArray(e)||e instanceof Uint8Array||e["/"]&&e["/"]===e.bytes)throw new TypeError("Invalid DAG-PB form");if(!_(e,w))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(void 0!==e.Data&&!(e.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be bytes)");if(!Array.isArray(e.Links))throw new TypeError("Invalid DAG-PB form (Links must be a list)");for(var t=0;t<e.Links.length;t++){var n=e.Links[t];if(!n||"object"!==typeof n||Array.isArray(n)||n instanceof Uint8Array||n["/"]&&n["/"]===n.bytes)throw new TypeError("Invalid DAG-PB form (bad link)");if(!_(n,k))throw new TypeError("Invalid DAG-PB form (extraneous properties on link)");if(void 0===n.Hash)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(null==n.Hash||!n.Hash["/"]||n.Hash["/"]!==n.Hash.bytes)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(void 0!==n.Name&&"string"!==typeof n.Name)throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(void 0!==n.Tsize){if("number"!==typeof n.Tsize||n.Tsize%1!==0)throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(n.Tsize<0)throw new TypeError("Invalid DAG-PB form (link Tsize cannot be negative)")}if(t>0&&-1===x(n,e.Links[t-1]))throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function T(e){return A({Data:e,Links:arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]})}function C(e,t,n){return S({Hash:n,Name:e,Tsize:t})}var I="dag-pb",D=112;function O(e){Z(e);var t={};return e.Links&&(t.Links=e.Links.map((function(e){var t={};return e.Hash&&(t.Hash=e.Hash.bytes),void 0!==e.Name&&(t.Name=e.Name),void 0!==e.Tsize&&(t.Tsize=e.Tsize),t}))),e.Data&&(t.Data=e.Data),v(t)}function R(e){var t=function(e){for(var t,n,r=e.length,o=0,a=!1;o<r;){var l,f,h=u(e,o),p=(0,i.Z)(h,3);if(l=p[0],f=p[1],o=p[2],2!==l)throw new Error("protobuf: (PBNode) invalid wireType, expected 2, got ".concat(l));if(1===f){if(n)throw new Error("protobuf: (PBNode) duplicate Data section");var d=s(e,o),v=(0,i.Z)(d,2);n=v[0],o=v[1],t&&(a=!0)}else{if(2!==f)throw new Error("protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ".concat(f));if(a)throw new Error("protobuf: (PBNode) duplicate Links section");t||(t=[]);var y,g=s(e,o),m=(0,i.Z)(g,2);y=m[0],o=m[1],t.push(c(y))}}if(o>r)throw new Error("protobuf: (PBNode) unexpected end of data");var b={};return n&&(b.Data=n),b.Links=t||[],b}(e),n={};return t.Data&&(n.Data=t.Data),t.Links&&(n.Links=t.Links.map((function(e){var t={};try{t.Hash=r.CID.decode(e.Hash)}catch(n){}if(!t.Hash)throw new Error("Invalid Hash field found in link, expected CID");return void 0!==e.Name&&(t.Name=e.Name),void 0!==e.Tsize&&(t.Tsize=e.Tsize),t}))),n}},38596:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default,o=n(77329).Data,a=n(67963),s=["raw","directory","file","metadata","symlink","hamt-sharded-directory"],u=["directory","hamt-sharded-directory"],c=parseInt("0644",8),l=parseInt("0755",8);function f(e){if(null!=e)return"number"===typeof e?4095&e:"0"===(e=e.toString()).substring(0,1)?4095&parseInt(e,8):4095&parseInt(e,10)}function h(e){if(null!=e){var t;if(null!=e.secs&&(t={secs:e.secs,nsecs:e.nsecs}),null!=e.Seconds&&(t={secs:e.Seconds,nsecs:e.FractionalNanoseconds}),Array.isArray(e)&&(t={secs:e[0],nsecs:e[1]}),e instanceof Date){var n=e.getTime(),r=Math.floor(n/1e3);t={secs:r,nsecs:1e3*(n-1e3*r)}}if(Object.prototype.hasOwnProperty.call(t,"secs")){if(null!=t&&null!=t.nsecs&&(t.nsecs<0||t.nsecs>999999999))throw a(new Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return t}}}var p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"file"};r(this,e);var n=t.type,i=t.data,o=t.blockSizes,u=t.hashType,c=t.fanout,l=t.mtime,p=t.mode;if(n&&!s.includes(n))throw a(new Error("Type: "+n+" is not valid"),"ERR_INVALID_TYPE");this.type=n||"file",this.data=i,this.hashType=u,this.fanout=c,this.blockSizes=o||[],this._originalMode=0,this.mode=f(p),l&&(this.mtime=h(l),this.mtime&&!this.mtime.nsecs&&(this.mtime.nsecs=0))}return i(e,[{key:"mode",get:function(){return this._mode},set:function(e){this._mode=this.isDirectory()?l:c;var t=f(e);void 0!==t&&(this._mode=t)}},{key:"isDirectory",value:function(){return Boolean(this.type&&u.includes(this.type))}},{key:"addBlockSize",value:function(e){this.blockSizes.push(e)}},{key:"removeBlockSize",value:function(e){this.blockSizes.splice(e,1)}},{key:"fileSize",value:function(){if(this.isDirectory())return 0;var e=0;return this.blockSizes.forEach((function(t){e+=t})),this.data&&(e+=this.data.length),e}},{key:"marshal",value:function(){var e;switch(this.type){case"raw":e=o.DataType.Raw;break;case"directory":e=o.DataType.Directory;break;case"file":e=o.DataType.File;break;case"metadata":e=o.DataType.Metadata;break;case"symlink":e=o.DataType.Symlink;break;case"hamt-sharded-directory":e=o.DataType.HAMTShard;break;default:throw a(new Error("Type: "+e+" is not valid"),"ERR_INVALID_TYPE")}var t,n,r=this.data;if(this.data&&this.data.length||(r=void 0),null!=this.mode&&((t=4294963200&this._originalMode|(f(this.mode)||0))!==c||this.isDirectory()||(t=void 0),t===l&&this.isDirectory()&&(t=void 0)),null!=this.mtime){var i=h(this.mtime);i&&0===(n={Seconds:i.secs,FractionalNanoseconds:i.nsecs}).FractionalNanoseconds&&delete n.FractionalNanoseconds}var s={Type:e,Data:r,filesize:this.isDirectory()?void 0:this.fileSize(),blocksizes:this.blockSizes,hashType:this.hashType,fanout:this.fanout,mode:t,mtime:n};return o.encode(s).finish()}}],[{key:"unmarshal",value:function(t){var n=o.decode(t),r=o.toObject(n,{defaults:!1,arrays:!0,longs:Number,objects:!1}),i=new e({type:s[r.Type],data:r.Data,blockSizes:r.blocksizes,mode:r.mode,mtime:r.mtime?{secs:r.mtime.Seconds,nsecs:r.mtime.FractionalNanoseconds}:void 0});return i._originalMode=r.mode||0,i}}]),e}();e.exports={UnixFS:p,parseMode:f,parseMtime:h}},77329:function(e,t,n){"use strict";var r=n(80886),i=r.Reader,o=r.Writer,a=r.util,s=r.roots["ipfs-unixfs"]||(r.roots["ipfs-unixfs"]={});s.Data=function(){function e(e){if(this.blocksizes=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.Type=0,e.prototype.Data=a.newBuffer([]),e.prototype.filesize=a.Long?a.Long.fromBits(0,0,!0):0,e.prototype.blocksizes=a.emptyArray,e.prototype.hashType=a.Long?a.Long.fromBits(0,0,!0):0,e.prototype.fanout=a.Long?a.Long.fromBits(0,0,!0):0,e.prototype.mode=0,e.prototype.mtime=null,e.encode=function(e,t){if(t||(t=o.create()),t.uint32(8).int32(e.Type),null!=e.Data&&Object.hasOwnProperty.call(e,"Data")&&t.uint32(18).bytes(e.Data),null!=e.filesize&&Object.hasOwnProperty.call(e,"filesize")&&t.uint32(24).uint64(e.filesize),null!=e.blocksizes&&e.blocksizes.length)for(var n=0;n<e.blocksizes.length;++n)t.uint32(32).uint64(e.blocksizes[n]);return null!=e.hashType&&Object.hasOwnProperty.call(e,"hashType")&&t.uint32(40).uint64(e.hashType),null!=e.fanout&&Object.hasOwnProperty.call(e,"fanout")&&t.uint32(48).uint64(e.fanout),null!=e.mode&&Object.hasOwnProperty.call(e,"mode")&&t.uint32(56).uint32(e.mode),null!=e.mtime&&Object.hasOwnProperty.call(e,"mtime")&&s.UnixTime.encode(e.mtime,t.uint32(66).fork()).ldelim(),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.Data;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.Type=e.int32();break;case 2:r.Data=e.bytes();break;case 3:r.filesize=e.uint64();break;case 4:if(r.blocksizes&&r.blocksizes.length||(r.blocksizes=[]),2===(7&o))for(var u=e.uint32()+e.pos;e.pos<u;)r.blocksizes.push(e.uint64());else r.blocksizes.push(e.uint64());break;case 5:r.hashType=e.uint64();break;case 6:r.fanout=e.uint64();break;case 7:r.mode=e.uint32();break;case 8:r.mtime=s.UnixTime.decode(e,e.uint32());break;default:e.skipType(7&o)}}if(!r.hasOwnProperty("Type"))throw a.ProtocolError("missing required 'Type'",{instance:r});return r},e.fromObject=function(e){if(e instanceof s.Data)return e;var t=new s.Data;switch(e.Type){case"Raw":case 0:t.Type=0;break;case"Directory":case 1:t.Type=1;break;case"File":case 2:t.Type=2;break;case"Metadata":case 3:t.Type=3;break;case"Symlink":case 4:t.Type=4;break;case"HAMTShard":case 5:t.Type=5}if(null!=e.Data&&("string"===typeof e.Data?a.base64.decode(e.Data,t.Data=a.newBuffer(a.base64.length(e.Data)),0):e.Data.length&&(t.Data=e.Data)),null!=e.filesize&&(a.Long?(t.filesize=a.Long.fromValue(e.filesize)).unsigned=!0:"string"===typeof e.filesize?t.filesize=parseInt(e.filesize,10):"number"===typeof e.filesize?t.filesize=e.filesize:"object"===typeof e.filesize&&(t.filesize=new a.LongBits(e.filesize.low>>>0,e.filesize.high>>>0).toNumber(!0))),e.blocksizes){if(!Array.isArray(e.blocksizes))throw TypeError(".Data.blocksizes: array expected");t.blocksizes=[];for(var n=0;n<e.blocksizes.length;++n)a.Long?(t.blocksizes[n]=a.Long.fromValue(e.blocksizes[n])).unsigned=!0:"string"===typeof e.blocksizes[n]?t.blocksizes[n]=parseInt(e.blocksizes[n],10):"number"===typeof e.blocksizes[n]?t.blocksizes[n]=e.blocksizes[n]:"object"===typeof e.blocksizes[n]&&(t.blocksizes[n]=new a.LongBits(e.blocksizes[n].low>>>0,e.blocksizes[n].high>>>0).toNumber(!0))}if(null!=e.hashType&&(a.Long?(t.hashType=a.Long.fromValue(e.hashType)).unsigned=!0:"string"===typeof e.hashType?t.hashType=parseInt(e.hashType,10):"number"===typeof e.hashType?t.hashType=e.hashType:"object"===typeof e.hashType&&(t.hashType=new a.LongBits(e.hashType.low>>>0,e.hashType.high>>>0).toNumber(!0))),null!=e.fanout&&(a.Long?(t.fanout=a.Long.fromValue(e.fanout)).unsigned=!0:"string"===typeof e.fanout?t.fanout=parseInt(e.fanout,10):"number"===typeof e.fanout?t.fanout=e.fanout:"object"===typeof e.fanout&&(t.fanout=new a.LongBits(e.fanout.low>>>0,e.fanout.high>>>0).toNumber(!0))),null!=e.mode&&(t.mode=e.mode>>>0),null!=e.mtime){if("object"!==typeof e.mtime)throw TypeError(".Data.mtime: object expected");t.mtime=s.UnixTime.fromObject(e.mtime)}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.blocksizes=[]),t.defaults){if(n.Type=t.enums===String?"Raw":0,t.bytes===String?n.Data="":(n.Data=[],t.bytes!==Array&&(n.Data=a.newBuffer(n.Data))),a.Long){var r=new a.Long(0,0,!0);n.filesize=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.filesize=t.longs===String?"0":0;if(a.Long){r=new a.Long(0,0,!0);n.hashType=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.hashType=t.longs===String?"0":0;if(a.Long){r=new a.Long(0,0,!0);n.fanout=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.fanout=t.longs===String?"0":0;n.mode=0,n.mtime=null}if(null!=e.Type&&e.hasOwnProperty("Type")&&(n.Type=t.enums===String?s.Data.DataType[e.Type]:e.Type),null!=e.Data&&e.hasOwnProperty("Data")&&(n.Data=t.bytes===String?a.base64.encode(e.Data,0,e.Data.length):t.bytes===Array?Array.prototype.slice.call(e.Data):e.Data),null!=e.filesize&&e.hasOwnProperty("filesize")&&("number"===typeof e.filesize?n.filesize=t.longs===String?String(e.filesize):e.filesize:n.filesize=t.longs===String?a.Long.prototype.toString.call(e.filesize):t.longs===Number?new a.LongBits(e.filesize.low>>>0,e.filesize.high>>>0).toNumber(!0):e.filesize),e.blocksizes&&e.blocksizes.length){n.blocksizes=[];for(var i=0;i<e.blocksizes.length;++i)"number"===typeof e.blocksizes[i]?n.blocksizes[i]=t.longs===String?String(e.blocksizes[i]):e.blocksizes[i]:n.blocksizes[i]=t.longs===String?a.Long.prototype.toString.call(e.blocksizes[i]):t.longs===Number?new a.LongBits(e.blocksizes[i].low>>>0,e.blocksizes[i].high>>>0).toNumber(!0):e.blocksizes[i]}return null!=e.hashType&&e.hasOwnProperty("hashType")&&("number"===typeof e.hashType?n.hashType=t.longs===String?String(e.hashType):e.hashType:n.hashType=t.longs===String?a.Long.prototype.toString.call(e.hashType):t.longs===Number?new a.LongBits(e.hashType.low>>>0,e.hashType.high>>>0).toNumber(!0):e.hashType),null!=e.fanout&&e.hasOwnProperty("fanout")&&("number"===typeof e.fanout?n.fanout=t.longs===String?String(e.fanout):e.fanout:n.fanout=t.longs===String?a.Long.prototype.toString.call(e.fanout):t.longs===Number?new a.LongBits(e.fanout.low>>>0,e.fanout.high>>>0).toNumber(!0):e.fanout),null!=e.mode&&e.hasOwnProperty("mode")&&(n.mode=e.mode),null!=e.mtime&&e.hasOwnProperty("mtime")&&(n.mtime=s.UnixTime.toObject(e.mtime,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e.DataType=function(){var e={},t=Object.create(e);return t[e[0]="Raw"]=0,t[e[1]="Directory"]=1,t[e[2]="File"]=2,t[e[3]="Metadata"]=3,t[e[4]="Symlink"]=4,t[e[5]="HAMTShard"]=5,t}(),e}(),s.UnixTime=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.Seconds=a.Long?a.Long.fromBits(0,0,!1):0,e.prototype.FractionalNanoseconds=0,e.encode=function(e,t){return t||(t=o.create()),t.uint32(8).int64(e.Seconds),null!=e.FractionalNanoseconds&&Object.hasOwnProperty.call(e,"FractionalNanoseconds")&&t.uint32(21).fixed32(e.FractionalNanoseconds),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.UnixTime;e.pos<n;){var o=e.uint32();switch(o>>>3){case 1:r.Seconds=e.int64();break;case 2:r.FractionalNanoseconds=e.fixed32();break;default:e.skipType(7&o)}}if(!r.hasOwnProperty("Seconds"))throw a.ProtocolError("missing required 'Seconds'",{instance:r});return r},e.fromObject=function(e){if(e instanceof s.UnixTime)return e;var t=new s.UnixTime;return null!=e.Seconds&&(a.Long?(t.Seconds=a.Long.fromValue(e.Seconds)).unsigned=!1:"string"===typeof e.Seconds?t.Seconds=parseInt(e.Seconds,10):"number"===typeof e.Seconds?t.Seconds=e.Seconds:"object"===typeof e.Seconds&&(t.Seconds=new a.LongBits(e.Seconds.low>>>0,e.Seconds.high>>>0).toNumber())),null!=e.FractionalNanoseconds&&(t.FractionalNanoseconds=e.FractionalNanoseconds>>>0),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(a.Long){var r=new a.Long(0,0,!1);n.Seconds=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.Seconds=t.longs===String?"0":0;n.FractionalNanoseconds=0}return null!=e.Seconds&&e.hasOwnProperty("Seconds")&&("number"===typeof e.Seconds?n.Seconds=t.longs===String?String(e.Seconds):e.Seconds:n.Seconds=t.longs===String?a.Long.prototype.toString.call(e.Seconds):t.longs===Number?new a.LongBits(e.Seconds.low>>>0,e.Seconds.high>>>0).toNumber():e.Seconds),null!=e.FractionalNanoseconds&&e.hasOwnProperty("FractionalNanoseconds")&&(n.FractionalNanoseconds=e.FractionalNanoseconds),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),s.Metadata=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.MimeType="",e.encode=function(e,t){return t||(t=o.create()),null!=e.MimeType&&Object.hasOwnProperty.call(e,"MimeType")&&t.uint32(10).string(e.MimeType),t},e.decode=function(e,t){e instanceof i||(e=i.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.Metadata;e.pos<n;){var o=e.uint32();if(o>>>3===1)r.MimeType=e.string();else e.skipType(7&o)}return r},e.fromObject=function(e){if(e instanceof s.Metadata)return e;var t=new s.Metadata;return null!=e.MimeType&&(t.MimeType=String(e.MimeType)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.MimeType=""),null!=e.MimeType&&e.hasOwnProperty("MimeType")&&(n.MimeType=e.MimeType),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},e}(),e.exports=s},65450:function(e,t,n){"use strict";var r=n(4707)(),i=n(44037)("Object.prototype.toString"),o=function(e){return!(r&&e&&"object"===typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===i(e)},a=function(e){return!!o(e)||null!==e&&"object"===typeof e&&"number"===typeof e.length&&e.length>=0&&"[object Array]"!==i(e)&&"[object Function]"===i(e.callee)},s=function(){return o(arguments)}();o.isLegacyArguments=a,e.exports=s?o:a},70460:function(e){"use strict";var t,n,r=Function.prototype.toString,i="object"===typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"===typeof i&&"function"===typeof Object.defineProperty)try{t=Object.defineProperty({},"length",{get:function(){throw n}}),n={},i((function(){throw 42}),null,t)}catch(p){p!==n&&(i=null)}else i=null;var o=/^\s*class\b/,a=function(e){try{var t=r.call(e);return o.test(t)}catch(n){return!1}},s=function(e){try{return!a(e)&&(r.call(e),!0)}catch(t){return!1}},u=Object.prototype.toString,c="function"===typeof Symbol&&!!Symbol.toStringTag,l=!(0 in[,]),f=function(){return!1};if("object"===typeof document){var h=document.all;u.call(h)===u.call(document.all)&&(f=function(e){if((l||!e)&&("undefined"===typeof e||"object"===typeof e))try{var t=u.call(e);return("[object HTMLAllCollection]"===t||"[object HTML document.all class]"===t||"[object HTMLCollection]"===t||"[object Object]"===t)&&null==e("")}catch(n){}return!1})}e.exports=i?function(e){if(f(e))return!0;if(!e)return!1;if("function"!==typeof e&&"object"!==typeof e)return!1;try{i(e,null,t)}catch(r){if(r!==n)return!1}return!a(e)&&s(e)}:function(e){if(f(e))return!0;if(!e)return!1;if("function"!==typeof e&&"object"!==typeof e)return!1;if(c)return s(e);if(a(e))return!1;var t=u.call(e);return!("[object Function]"!==t&&"[object GeneratorFunction]"!==t&&!/^\[object HTML/.test(t))&&s(e)}},9262:function(e,t,n){var r=n(79167),i=n(14085);e.exports=function(e){return!(!r(e)||!i(window)||"function"!==typeof window.Node)&&("number"===typeof e.nodeType&&"string"===typeof e.nodeName)}},82193:function(e,t,n){var r=n(1426);e.exports=function(){return"undefined"!==typeof window&&"object"===typeof window.process&&"renderer"===window.process.type||(!("undefined"===typeof r||"object"!==typeof r.versions||!r.versions.electron)||"object"===typeof navigator&&"string"===typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0)}},85718:function(e,t,n){"use strict";var r,i=Object.prototype.toString,o=Function.prototype.toString,a=/^\s*(?:function)?\*/,s=n(4707)(),u=Object.getPrototypeOf;e.exports=function(e){if("function"!==typeof e)return!1;if(a.test(o.call(e)))return!0;if(!s)return"[object GeneratorFunction]"===i.call(e);if(!u)return!1;if("undefined"===typeof r){var t=function(){if(!s)return!1;try{return Function("return function*() {}")()}catch(e){}}();r=!!t&&u(t)}return u(e)===r}},62795:function(e,t,n){"use strict";var r=n(28974),i=function(e){return r({exact:!0}).test(e)};i.v4=function(e){return r.v4({exact:!0}).test(e)},i.v6=function(e){return r.v6({exact:!0}).test(e)},i.version=function(e){return i(e)?i.v4(e)?4:6:void 0},e.exports=i},78742:function(e,t,n){"use strict";var r=n(98719),i=C("dns4"),o=C("dns6"),a=C("dnsaddr"),s=T(C("dns"),a,i,o),u=T(C("ip4"),C("ip6")),c=T(Z(u,C("tcp")),Z(s,C("tcp"))),l=Z(u,C("udp")),f=Z(l,C("utp")),h=Z(l,C("quic")),p=T(Z(c,C("ws")),Z(s,C("ws"))),d=T(Z(c,C("wss")),Z(s,C("wss"))),v=T(Z(c,C("http")),Z(u,C("http")),Z(s,C("http"))),y=T(Z(c,C("https")),Z(u,C("https")),Z(s,C("https"))),g=T(Z(p,C("p2p-webrtc-star"),C("p2p")),Z(d,C("p2p-webrtc-star"),C("p2p")),Z(p,C("p2p-webrtc-star")),Z(d,C("p2p-webrtc-star"))),m=T(Z(p,C("p2p-websocket-star"),C("p2p")),Z(d,C("p2p-websocket-star"),C("p2p")),Z(p,C("p2p-websocket-star")),Z(d,C("p2p-websocket-star"))),b=T(Z(v,C("p2p-webrtc-direct"),C("p2p")),Z(y,C("p2p-webrtc-direct"),C("p2p")),Z(v,C("p2p-webrtc-direct")),Z(y,C("p2p-webrtc-direct"))),w=T(p,d,v,y,g,b,c,f,h,s),k=T(Z(w,C("p2p-stardust"),C("p2p")),Z(w,C("p2p-stardust"))),E=T(Z(w,C("p2p")),g,b,C("p2p")),x=T(Z(E,C("p2p-circuit"),E),Z(E,C("p2p-circuit")),Z(C("p2p-circuit"),E),Z(w,C("p2p-circuit")),Z(C("p2p-circuit"),w),C("p2p-circuit")),_=function e(){return T(Z(x,e),x)}(),S=T(Z(_,E,_),Z(E,_),Z(_,E),_,E);function A(e){return function(t){if(!r.isMultiaddr(t))try{t=r(t)}catch(i){return!1}var n=e(t.protoNames());return null!==n&&0===n.length}}function Z(){var e=Array.from(arguments);function t(t){return t.length<e.length?null:(e.some((function(e){if(null===(t="function"===typeof e?e().partialMatch(t):e.partialMatch(t)))return!0})),t)}return{toString:function(){return"{ "+e.join(" ")+" }"},input:e,matches:A(t),partialMatch:t}}function T(){var e=Array.from(arguments);function t(t){var n=null;return e.some((function(e){var r="function"===typeof e?e().partialMatch(t):e.partialMatch(t);if(r)return n=r,!0})),n}return{toString:function(){return"{ "+e.join(" ")+" }"},input:e,matches:A(t),partialMatch:t}}function C(e){var t=e;return{toString:function(){return t},matches:function(e){if("string"===typeof e)try{e=r(e)}catch(i){return!1}var n=e.protoNames();return 1===n.length&&n[0]===t},partialMatch:function(e){return 0===e.length?null:e[0]===t?e.slice(1):null}}}t.DNS=s,t.DNS4=i,t.DNS6=o,t.DNSADDR=a,t.IP=u,t.TCP=c,t.UDP=l,t.QUIC=h,t.UTP=f,t.HTTP=v,t.HTTPS=y,t.WebSockets=p,t.WebSocketsSecure=d,t.WebSocketStar=m,t.WebRTCStar=g,t.WebRTCDirect=b,t.Reliable=w,t.Stardust=k,t.Circuit=_,t.P2P=S,t.IPFS=S},6251:function(e,t,n){"use strict";var r=n(43269).default,i=n(34575).default,o=n(93913).default,a=n(34277).encodeText,s=function(){function e(t,n,r,o){i(this,e),this.name=t,this.code=n,this.codeBuf=a(this.code),this.alphabet=o,this.codec=r(o)}return o(e,[{key:"encode",value:function(e){return this.codec.encode(e)}},{key:"decode",value:function(e){var t,n=r(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(this.alphabet&&this.alphabet.indexOf(i)<0)throw new Error("invalid character '".concat(i,"' in '").concat(e,"'"))}}catch(o){n.e(o)}finally{n.f()}return this.codec.decode(e)}}]),e}();e.exports=s},90759:function(e,t,n){"use strict";var r=n(19814),i=n(6251),o=n(27136).rfc4648,a=n(34277),s=a.decodeText,u=a.encodeText,c=[["identity","\0",function(){return{encode:s,decode:u}},""],["base2","0",o(1),"01"],["base8","7",o(3),"01234567"],["base10","9",r,"0123456789"],["base16","f",o(4),"0123456789abcdef"],["base16upper","F",o(4),"0123456789ABCDEF"],["base32hex","v",o(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",o(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",o(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",o(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",o(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",o(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",o(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",o(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",o(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",r,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",r,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",r,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",r,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",o(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",o(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",o(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",o(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],l=c.reduce((function(e,t){return e[t[0]]=new i(t[0],t[1],t[2],t[3]),e}),{}),f=c.reduce((function(e,t){return e[t[1]]=l[t[0]],e}),{});e.exports={names:l,codes:f}},61949:function(e,t,n){"use strict";var r=n(90759),i=n(34277),o=i.encodeText,a=i.decodeText,s=i.concat;function u(e){if(Object.prototype.hasOwnProperty.call(r.names,e))return r.names[e];if(Object.prototype.hasOwnProperty.call(r.codes,e))return r.codes[e];throw new Error("Unsupported encoding: ".concat(e))}(t=e.exports=function(e,t){if(!t)throw new Error("requires an encoded Uint8Array");var n=u(e),r=n.name,i=n.codeBuf;return function(e,t){var n=u(e);n.decode(a(t))}(r,t),s([i,t],i.length+t.length)}).encode=function(e,t){var n=u(e),r=o(n.encode(t));return s([n.codeBuf,r],n.codeBuf.length+r.length)},t.decode=function(e){e instanceof Uint8Array&&(e=a(e));var t=e[0];return["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(t)&&(e=e.toLowerCase()),u(e[0]).decode(e.substring(1))},t.isEncoded=function(e){if(e instanceof Uint8Array&&(e=a(e)),"[object String]"!==Object.prototype.toString.call(e))return!1;try{return u(e[0]).name}catch(t){return!1}},t.encoding=u,t.encodingFromData=function(e){return e instanceof Uint8Array&&(e=a(e)),u(e[0])},t.names=Object.freeze(r.names),t.codes=Object.freeze(r.codes)},27136:function(e){"use strict";e.exports={rfc4648:function(e){return function(t){return{encode:function(n){return function(e,t,n){for(var r="="===t[t.length-1],i=(1<<n)-1,o="",a=0,s=0,u=0;u<e.length;++u)for(s=s<<8|e[u],a+=8;a>n;)o+=t[i&s>>(a-=n)];if(a&&(o+=t[i&s<<n-a]),r)for(;o.length*n&7;)o+="=";return o}(n,t,e)},decode:function(n){return function(e,t,n){for(var r={},i=0;i<t.length;++i)r[t[i]]=i;for(var o=e.length;"="===e[o-1];)--o;for(var a=new Uint8Array(o*n/8|0),s=0,u=0,c=0,l=0;l<o;++l){var f=r[e[l]];if(void 0===f)throw new SyntaxError("Invalid character "+e[l]);u=u<<n|f,(s+=n)>=8&&(s-=8,a[c++]=255&u>>s)}if(s>=n||255&u<<8-s)throw new SyntaxError("Unexpected end of data");return a}(n,t,e)}}}}}},34277:function(e,t,n){"use strict";var r=n(43269).default,i=n(23638),o=i.TextEncoder,a=new(0,i.TextDecoder),s=new o;e.exports={decodeText:function(e){return a.decode(e)},encodeText:function(e){return s.encode(e)},concat:function(e,t){var n,i=new Uint8Array(t),o=0,a=r(e);try{for(a.s();!(n=a.n()).done;){var s=n.value;i.set(s,o),o+=s.length}}catch(u){a.e(u)}finally{a.f()}return i}}},31627:function(e){"use strict";var t=Object.freeze({identity:0,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,"murmur3-128":34,"murmur3-32":35,"dbl-sha2-256":86,md4:212,md5:213,bmt:214,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082});e.exports={names:t}},27056:function(e,t,n){"use strict";var r=n(61949),i=n(74561),o=n(31627).names,a=n(71409),s=n(96614),u=n(57890),c={};for(var l in o){var f=l;c[o[f]]=f}function h(e){if(!(e instanceof Uint8Array))throw new Error("multihash must be a Uint8Array");if(e.length<2)throw new Error("multihash too short. must be > 2 bytes.");var t=i.decode(e);if(!v(t))throw new Error("multihash unknown function code: 0x".concat(t.toString(16)));e=e.slice(i.decode.bytes);var n=i.decode(e);if(n<0)throw new Error("multihash invalid length: ".concat(n));if((e=e.slice(i.decode.bytes)).length!==n)throw new Error("multihash length inconsistent: 0x".concat(a(e,"base16")));return{code:t,name:c[t],length:n,digest:e}}function p(e){var t=e;if("string"===typeof e){if(void 0===o[e])throw new Error("Unrecognized hash function named: ".concat(e));t=o[e]}if("number"!==typeof t)throw new Error("Hash function code should be a number. Got: ".concat(t));if(void 0===c[t]&&!d(t))throw new Error("Unrecognized function code: ".concat(t));return t}function d(e){return e>0&&e<16}function v(e){return!!d(e)||!!c[e]}function y(e){h(e)}e.exports={names:o,codes:Object.freeze(c),toHexString:function(e){if(!(e instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return a(e,"base16")},fromHexString:function(e){return s(e,"base16")},toB58String:function(e){if(!(e instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return a(r.encode("base58btc",e)).slice(1)},fromB58String:function(e){var t=e instanceof Uint8Array?a(e):e;return r.decode("z"+t)},decode:h,encode:function(e,t,n){if(!e||void 0===t)throw new Error("multihash encode requires at least two args: digest, code");var r=p(t);if(!(e instanceof Uint8Array))throw new Error("digest should be a Uint8Array");if(null==n&&(n=e.length),n&&e.length!==n)throw new Error("digest length should be equal to specified length.");var o=i.encode(r),a=i.encode(n);return u([o,a,e],o.length+a.length+e.length)},coerceCode:p,isAppCode:d,validate:y,prefix:function(e){return y(e),e.subarray(0,2)},isValidCode:v}},62262:function(e,t,n){"use strict";var r=n(27056),i=n(61949),o=n(98719),a=n(78742),s=n(52988),u=n(16791).URL,c=n(71409),l=/^https?:\/\/[^/]+\/(ip[fn]s)\/([^/?#]+)/,f=/^\/(ip[fn]s)\/([^/?#]+)/,h=/^https?:\/\/([^/]+)\.(ip[fn]s)\.[^/?]+/,p=/^(([a-z0-9]|[a-z0-9][a-z0-9-]*[a-z0-9])\.)+([a-z0-9]|[a-z0-9][a-z0-9-]*[a-z0-9])$/;function d(e){try{return new s(e),!0}catch(t){return!1}}function v(e){if(!e)return!1;if(o.isMultiaddr(e))return!0;try{return new o(e),!0}catch(t){return!1}}function y(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,i=b(e);if(!i)return!1;var o=i.match(t);if(!o)return!1;if("ipfs"!==o[n])return!1;var a=o[r];return a&&t===h&&(a=a.toLowerCase()),d(a)}function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=b(e);if(!i)return!1;var o=i.match(t);if(!o)return!1;if("ipns"!==o[n])return!1;var a=o[r];if(a&&t===h){if(d(a=a.toLowerCase()))return!0;try{!a.includes(".")&&a.includes("-")&&(a=a.replace(/--/g,"@").replace(/-/g,".").replace(/@/g,"-"));var s=new u("http://".concat(a)).hostname;return p.test(s)}catch(c){return!1}}return!0}function m(e){return"string"===typeof e}function b(e){return e instanceof Uint8Array?c(e,"base58btc"):!!m(e)&&e}var w=function(e){return y(e,h,2,1)},k=function(e){return g(e,h,2,1)},E=function(e){return w(e)||k(e)},x=function(e){return y(e,l)||w(e)},_=function(e){return g(e,l)||k(e)},S=function(e){return x(e)||_(e)||E(e)},A=function(e){return y(e,f)||g(e,f)};e.exports={multihash:function(e){var t=b(e);try{return r.decode(i.decode("z"+t)),!0}catch(n){return!1}},multiaddr:v,peerMultiaddr:function(e){return v(e)&&(a.P2P.matches(e)||a.DNS.matches(e))},cid:d,base32cid:function(e){return"base32"===function(e){try{return i.isEncoded(e)}catch(t){return!1}}(e)&&d(e)},ipfsSubdomain:w,ipnsSubdomain:k,subdomain:E,subdomainGatewayPattern:h,ipfsUrl:x,ipnsUrl:_,url:S,pathGatewayPattern:l,ipfsPath:function(e){return y(e,f)},ipnsPath:function(e){return g(e,f)},path:A,pathPattern:f,urlOrPath:function(e){return S(e)||A(e)},cidPath:function(e){return m(e)&&!d(e)&&y("/ipfs/".concat(e),f)}}},14456:function(e,t,n){var r=n(60463);e.exports=function(e,t){return r(e,t)===e}},79167:function(e){"use strict";e.exports=function(e){return"object"===typeof e&&null!==e}},50887:function(e){"use strict";e.exports=function(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}},66218:function(e,t,n){"use strict";var r=n(65369),i=n(56033),o=n(44037),a=o("Object.prototype.toString"),s=n(4707)(),u=n(23347),c="undefined"===typeof globalThis?n.g:globalThis,l=i(),f=o("Array.prototype.indexOf",!0)||function(e,t){for(var n=0;n<e.length;n+=1)if(e[n]===t)return n;return-1},h=o("String.prototype.slice"),p={},d=Object.getPrototypeOf;s&&u&&d&&r(l,(function(e){var t=new c[e];if(Symbol.toStringTag in t){var n=d(t),r=u(n,Symbol.toStringTag);if(!r){var i=d(n);r=u(i,Symbol.toStringTag)}p[e]=r.get}}));e.exports=function(e){if(!e||"object"!==typeof e)return!1;if(!s||!(Symbol.toStringTag in e)){var t=h(a(e),8,-1);return f(l,t)>-1}return!!u&&function(e){var t=!1;return r(p,(function(n,r){if(!t)try{t=n.call(e)===r}catch(i){}})),t}(e)}},49355:function(e,t,n){var r=n(98059);e.exports=function(e,t){return r(e,t)===e}},14085:function(e){"use strict";e.exports=function(e){if(null==e)return!1;var t=Object(e);return t===t.window}},16791:function(e,t,n){"use strict";var r=n(85732),i=r.URLWithLegacySupport,o=r.format,a=r.URLSearchParams,s=r.defaultBase,u=n(89640);e.exports={URL:i,URLSearchParams:a,format:o,relative:u,defaultBase:s}},89640:function(e,t,n){"use strict";var r=n(85732),i=r.URLWithLegacySupport,o=r.format;e.exports=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0,s=n.protocol?n.protocol.replace(":",""):"http";s=(r[s]||a||s)+":";try{t=new i(e)}catch(c){t={}}var u=Object.assign({},n,{protocol:s||t.protocol,host:n.host||t.host});return new i(e,o(u)).toString()}},85732:function(e,t,n){"use strict";var r=n(34575).default,i=n(93913).default,o="undefined"!==typeof navigator&&"ReactNative"===navigator.product;var a=self.URL,s=o?"http://localhost":self.location?self.location.protocol+"//"+self.location.host:"",u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s;r(this,e),this.super=new a(t,n),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}return i(e,[{key:"hash",get:function(){return this.super.hash},set:function(e){this.super.hash=e}},{key:"host",get:function(){return this.super.host},set:function(e){this.super.host=e}},{key:"hostname",get:function(){return this.super.hostname},set:function(e){this.super.hostname=e}},{key:"href",get:function(){return this.super.href},set:function(e){this.super.href=e}},{key:"origin",get:function(){return this.super.origin}},{key:"password",get:function(){return this.super.password},set:function(e){this.super.password=e}},{key:"pathname",get:function(){return this.super.pathname},set:function(e){this.super.pathname=e}},{key:"port",get:function(){return this.super.port},set:function(e){this.super.port=e}},{key:"protocol",get:function(){return this.super.protocol},set:function(e){this.super.protocol=e}},{key:"search",get:function(){return this.super.search},set:function(e){this.super.search=e}},{key:"searchParams",get:function(){return this.super.searchParams}},{key:"username",get:function(){return this.super.username},set:function(e){this.super.username=e}},{key:"toJSON",value:function(){return this.super.toJSON()}},{key:"toString",value:function(){return this.super.toString()}},{key:"format",value:function(){return this.toString()}}],[{key:"createObjectURL",value:function(e){return a.createObjectURL(e)}},{key:"revokeObjectURL",value:function(e){a.revokeObjectURL(e)}}]),e}();e.exports={URLWithLegacySupport:u,URLSearchParams:self.URLSearchParams,defaultBase:s,format:function(e){if("string"===typeof e)return new a(e).toString();if(!(e instanceof a)){var t=e.username&&e.password?"".concat(e.username,":").concat(e.password,"@"):"",n=e.auth?e.auth+"@":"",r=e.port?":"+e.port:"",i=e.protocol?e.protocol+"//":"",o=e.host||"",s=e.hostname||"",u=e.search||(e.query?"?"+e.query:""),c=e.hash||"",l=e.pathname||"",f=e.path||l+u;return"".concat(i).concat(t||n).concat(o||s+r).concat(f).concat(c)}}}},50464:function(e,t,n){"use strict";var r=n(59591).default,i=n(48926).default,o=n(47003).default,a=function(){var e=i(r().mark((function e(t){var n,i,a,s,u,c,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],i=!1,a=!1,e.prev=3,u=o(t);case 5:return e.next=7,u.next();case 7:if(!(i=!(c=e.sent).done)){e.next=13;break}l=c.value,n.push(l);case 10:i=!1,e.next=5;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(3),a=!0,s=e.t0;case 19:if(e.prev=19,e.prev=20,!i||null==u.return){e.next=24;break}return e.next=24,u.return();case 24:if(e.prev=24,!a){e.next=27;break}throw s;case 27:return e.finish(24);case 28:return e.finish(19);case 29:return e.abrupt("return",n);case 30:case"end":return e.stop()}}),e,null,[[3,15,19,29],[20,,24,28]])})));return function(t){return e.apply(this,arguments)}}();e.exports=a},84744:function(e,t,n){"use strict";var r=n(59591).default,i=n(48926).default,o=n(47003).default,a=function(){var e=i(r().mark((function e(t){var n,i,a,s,u,c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=!1,i=!1,e.prev=2,s=o(t);case 4:return e.next=6,s.next();case 6:if(!(n=!(u=e.sent).done)){e.next=12;break}return c=u.value,e.abrupt("return",c);case 9:n=!1,e.next=4;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),i=!0,a=e.t0;case 18:if(e.prev=18,e.prev=19,!n||null==s.return){e.next=23;break}return e.next=23,s.return();case 23:if(e.prev=23,!i){e.next=26;break}throw a;case 26:return e.finish(23);case 27:return e.finish(18);case 28:return e.abrupt("return",void 0);case 29:case"end":return e.stop()}}),e,null,[[2,14,18,28],[19,,23,27]])})));return function(t){return e.apply(this,arguments)}}();e.exports=a},26723:function(e,t,n){"use strict";var r=n(59591).default,i=n(48926).default,o=n(47003).default,a=function(){var e=i(r().mark((function e(t){var n,i,a,s,u,c,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=!1,a=!1,e.prev=2,u=o(t);case 4:return e.next=6,u.next();case 6:if(!(i=!(c=e.sent).done)){e.next=12;break}l=c.value,n=l;case 9:i=!1,e.next=4;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),a=!0,s=e.t0;case 18:if(e.prev=18,e.prev=19,!i||null==u.return){e.next=23;break}return e.next=23,u.return();case 23:if(e.prev=23,!a){e.next=26;break}throw s;case 26:return e.finish(23);case 27:return e.finish(18);case 28:return e.abrupt("return",n);case 29:case"end":return e.stop()}}),e,null,[[2,14,18,28],[19,,23,27]])})));return function(t){return e.apply(this,arguments)}}();e.exports=a},27889:function(e,t,n){"use strict";var r=n(59591).default,i=n(55486).default,o=n(551).default,a=n(47003).default,s=function(){var e=o(r().mark((function e(t,n){var o,s,u,c,l,f;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=!1,s=!1,e.prev=2,c=a(t);case 4:return e.next=6,i(c.next());case 6:if(!(o=!(l=e.sent).done)){e.next=13;break}return f=l.value,e.next=10,n(f);case 10:o=!1,e.next=4;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),s=!0,u=e.t0;case 19:if(e.prev=19,e.prev=20,!o||null==c.return){e.next=24;break}return e.next=24,i(c.return());case 24:if(e.prev=24,!s){e.next=27;break}throw u;case 27:return e.finish(24);case 28:return e.finish(19);case 29:case"end":return e.stop()}}),e,null,[[2,15,19,29],[20,,24,28]])})));return function(t,n){return e.apply(this,arguments)}}();e.exports=s},73925:function(e,t,n){e.exports=n(60),e.exports.parse=n(60),e.exports.stringify=n(24729)},60:function(e,t,n){var r=n(59591).default,i=n(55486).default,o=n(551).default,a=n(47003).default;e.exports=function(e){return o(r().mark((function t(){var n,o,s,u,c,l,f,h,p,d,v;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=/\r?\n/,o=new TextDecoder("utf8"),s="",u=!1,c=!1,t.prev=5,f=a(e);case 7:return t.next=9,i(f.next());case 9:if(!(u=!(h=t.sent).done)){t.next=25;break}"string"===typeof(p=h.value)&&(p=(new TextEncoder).encode(p)),s+=o.decode(p,{stream:!0}),d=s.split(n),s=d.pop(),v=0;case 16:if(!(v<d.length)){t.next=22;break}return t.next=19,JSON.parse(d[v]);case 19:v++,t.next=16;break;case 22:u=!1,t.next=7;break;case 25:t.next=31;break;case 27:t.prev=27,t.t0=t.catch(5),c=!0,l=t.t0;case 31:if(t.prev=31,t.prev=32,!u||null==f.return){t.next=36;break}return t.next=36,i(f.return());case 36:if(t.prev=36,!c){t.next=39;break}throw l;case 39:return t.finish(36);case 40:return t.finish(31);case 41:if(!(s+=o.decode())){t.next=45;break}return t.next=45,JSON.parse(s);case 45:case"end":return t.stop()}}),t,null,[[5,27,31,41],[32,,36,40]])})))()}},24729:function(e,t,n){var r=n(59591).default,i=n(55486).default,o=n(551).default,a=n(47003).default;e.exports=function(e){return o(r().mark((function t(){var n,o,s,u,c,l;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=!1,o=!1,t.prev=2,u=a(e);case 4:return t.next=6,i(u.next());case 6:if(!(n=!(c=t.sent).done)){t.next=13;break}return l=c.value,t.next=10,JSON.stringify(l)+"\n";case 10:n=!1,t.next=4;break;case 13:t.next=19;break;case 15:t.prev=15,t.t0=t.catch(2),o=!0,s=t.t0;case 19:if(t.prev=19,t.prev=20,!n||null==u.return){t.next=24;break}return t.next=24,i(u.return());case 24:if(t.prev=24,!o){t.next=27;break}throw s;case 27:return t.finish(24);case 28:return t.finish(19);case 29:case"end":return t.stop()}}),t,null,[[2,15,19,29],[20,,24,28]])})))()}},27898:function(e,t,n){var r,i=n(1426);!function(){"use strict";var o="input is invalid type",a="object"===typeof window,s=a?window:{};s.JS_SHA3_NO_WINDOW&&(a=!1);var u=!a&&"object"===typeof self;!s.JS_SHA3_NO_NODE_JS&&"object"===typeof i&&i.versions&&i.versions.node?s=n.g:u&&(s=self);var c=!s.JS_SHA3_NO_COMMON_JS&&e.exports,l=n.amdO,f=!s.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!==typeof ArrayBuffer,h="0123456789abcdef".split(""),p=[4,1024,262144,67108864],d=[0,8,16,24],v=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],y=[224,256,384,512],g=[128,256],m=["hex","buffer","arrayBuffer","array","digest"],b={128:168,256:136};!s.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!f||!s.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"===typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var w=function(e,t,n){return function(r){return new L(e,t,e).update(r)[n]()}},k=function(e,t,n){return function(r,i){return new L(e,t,i).update(r)[n]()}},E=function(e,t,n){return function(t,r,i,o){return Z["cshake"+e].update(t,r,i,o)[n]()}},x=function(e,t,n){return function(t,r,i,o){return Z["kmac"+e].update(t,r,i,o)[n]()}},_=function(e,t,n,r){for(var i=0;i<m.length;++i){var o=m[i];e[o]=t(n,r,o)}return e},S=function(e,t){var n=w(e,t,"hex");return n.create=function(){return new L(e,t,e)},n.update=function(e){return n.create().update(e)},_(n,w,e,t)},A=[{name:"keccak",padding:[1,256,65536,16777216],bits:y,createMethod:S},{name:"sha3",padding:[6,1536,393216,100663296],bits:y,createMethod:S},{name:"shake",padding:[31,7936,2031616,520093696],bits:g,createMethod:function(e,t){var n=k(e,t,"hex");return n.create=function(n){return new L(e,t,n)},n.update=function(e,t){return n.create(t).update(e)},_(n,k,e,t)}},{name:"cshake",padding:p,bits:g,createMethod:function(e,t){var n=b[e],r=E(e,0,"hex");return r.create=function(r,i,o){return i||o?new L(e,t,r).bytepad([i,o],n):Z["shake"+e].create(r)},r.update=function(e,t,n,i){return r.create(t,n,i).update(e)},_(r,E,e,t)}},{name:"kmac",padding:p,bits:g,createMethod:function(e,t){var n=b[e],r=x(e,0,"hex");return r.create=function(r,i,o){return new N(e,t,i).bytepad(["KMAC",o],n).bytepad([r],n)},r.update=function(e,t,n,i){return r.create(e,n,i).update(t)},_(r,x,e,t)}}],Z={},T=[],C=0;C<A.length;++C)for(var I=A[C],D=I.bits,O=0;O<D.length;++O){var R=I.name+"_"+D[O];if(T.push(R),Z[R]=I.createMethod(D[O],I.padding),"sha3"!==I.name){var P=I.name+D[O];T.push(P),Z[P]=Z[R]}}function L(e,t,n){this.blocks=[],this.s=[],this.padding=t,this.outputBits=n,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=n>>5,this.extraBytes=(31&n)>>3;for(var r=0;r<50;++r)this.s[r]=0}function N(e,t,n){L.call(this,e,t,n)}L.prototype.update=function(e){if(this.finalized)throw new Error("finalize already called");var t,n=typeof e;if("string"!==n){if("object"!==n)throw new Error(o);if(null===e)throw new Error(o);if(f&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!f||!ArrayBuffer.isView(e)))throw new Error(o);t=!0}for(var r,i,a=this.blocks,s=this.byteCount,u=e.length,c=this.blockCount,l=0,h=this.s;l<u;){if(this.reset)for(this.reset=!1,a[0]=this.block,r=1;r<c+1;++r)a[r]=0;if(t)for(r=this.start;l<u&&r<s;++l)a[r>>2]|=e[l]<<d[3&r++];else for(r=this.start;l<u&&r<s;++l)(i=e.charCodeAt(l))<128?a[r>>2]|=i<<d[3&r++]:i<2048?(a[r>>2]|=(192|i>>6)<<d[3&r++],a[r>>2]|=(128|63&i)<<d[3&r++]):i<55296||i>=57344?(a[r>>2]|=(224|i>>12)<<d[3&r++],a[r>>2]|=(128|i>>6&63)<<d[3&r++],a[r>>2]|=(128|63&i)<<d[3&r++]):(i=65536+((1023&i)<<10|1023&e.charCodeAt(++l)),a[r>>2]|=(240|i>>18)<<d[3&r++],a[r>>2]|=(128|i>>12&63)<<d[3&r++],a[r>>2]|=(128|i>>6&63)<<d[3&r++],a[r>>2]|=(128|63&i)<<d[3&r++]);if(this.lastByteIndex=r,r>=s){for(this.start=r-s,this.block=a[c],r=0;r<c;++r)h[r]^=a[r];B(h),this.reset=!0}else this.start=r}return this},L.prototype.encode=function(e,t){var n=255&e,r=1,i=[n];for(n=255&(e>>=8);n>0;)i.unshift(n),n=255&(e>>=8),++r;return t?i.push(r):i.unshift(r),this.update(i),i.length},L.prototype.encodeString=function(e){var t,n=typeof e;if("string"!==n){if("object"!==n)throw new Error(o);if(null===e)throw new Error(o);if(f&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!f||!ArrayBuffer.isView(e)))throw new Error(o);t=!0}var r=0,i=e.length;if(t)r=i;else for(var a=0;a<e.length;++a){var s=e.charCodeAt(a);s<128?r+=1:s<2048?r+=2:s<55296||s>=57344?r+=3:(s=65536+((1023&s)<<10|1023&e.charCodeAt(++a)),r+=4)}return r+=this.encode(8*r),this.update(e),r},L.prototype.bytepad=function(e,t){for(var n=this.encode(t),r=0;r<e.length;++r)n+=this.encodeString(e[r]);var i=t-n%t,o=[];return o.length=i,this.update(o),this},L.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,n=this.blockCount,r=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[n],t=1;t<n+1;++t)e[t]=0;for(e[n-1]|=2147483648,t=0;t<n;++t)r[t]^=e[t];B(r)}},L.prototype.toString=L.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,n=this.s,r=this.outputBlocks,i=this.extraBytes,o=0,a=0,s="";a<r;){for(o=0;o<t&&a<r;++o,++a)e=n[o],s+=h[e>>4&15]+h[15&e]+h[e>>12&15]+h[e>>8&15]+h[e>>20&15]+h[e>>16&15]+h[e>>28&15]+h[e>>24&15];a%t===0&&(B(n),o=0)}return i&&(e=n[o],s+=h[e>>4&15]+h[15&e],i>1&&(s+=h[e>>12&15]+h[e>>8&15]),i>2&&(s+=h[e>>20&15]+h[e>>16&15])),s},L.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,n=this.s,r=this.outputBlocks,i=this.extraBytes,o=0,a=0,s=this.outputBits>>3;e=i?new ArrayBuffer(r+1<<2):new ArrayBuffer(s);for(var u=new Uint32Array(e);a<r;){for(o=0;o<t&&a<r;++o,++a)u[a]=n[o];a%t===0&&B(n)}return i&&(u[o]=n[o],e=e.slice(0,s)),e},L.prototype.buffer=L.prototype.arrayBuffer,L.prototype.digest=L.prototype.array=function(){this.finalize();for(var e,t,n=this.blockCount,r=this.s,i=this.outputBlocks,o=this.extraBytes,a=0,s=0,u=[];s<i;){for(a=0;a<n&&s<i;++a,++s)e=s<<2,t=r[a],u[e]=255&t,u[e+1]=t>>8&255,u[e+2]=t>>16&255,u[e+3]=t>>24&255;s%n===0&&B(r)}return o&&(e=s<<2,t=r[a],u[e]=255&t,o>1&&(u[e+1]=t>>8&255),o>2&&(u[e+2]=t>>16&255)),u},N.prototype=new L,N.prototype.finalize=function(){return this.encode(this.outputBits,!0),L.prototype.finalize.call(this)};var B=function(e){var t,n,r,i,o,a,s,u,c,l,f,h,p,d,y,g,m,b,w,k,E,x,_,S,A,Z,T,C,I,D,O,R,P,L,N,B,M,F,j,U,z,H,V,G,K,W,q,Y,Q,X,$,J,ee,te,ne,re,ie,oe,ae,se,ue,ce,le;for(r=0;r<48;r+=2)i=e[0]^e[10]^e[20]^e[30]^e[40],o=e[1]^e[11]^e[21]^e[31]^e[41],a=e[2]^e[12]^e[22]^e[32]^e[42],s=e[3]^e[13]^e[23]^e[33]^e[43],u=e[4]^e[14]^e[24]^e[34]^e[44],c=e[5]^e[15]^e[25]^e[35]^e[45],l=e[6]^e[16]^e[26]^e[36]^e[46],f=e[7]^e[17]^e[27]^e[37]^e[47],t=(h=e[8]^e[18]^e[28]^e[38]^e[48])^(a<<1|s>>>31),n=(p=e[9]^e[19]^e[29]^e[39]^e[49])^(s<<1|a>>>31),e[0]^=t,e[1]^=n,e[10]^=t,e[11]^=n,e[20]^=t,e[21]^=n,e[30]^=t,e[31]^=n,e[40]^=t,e[41]^=n,t=i^(u<<1|c>>>31),n=o^(c<<1|u>>>31),e[2]^=t,e[3]^=n,e[12]^=t,e[13]^=n,e[22]^=t,e[23]^=n,e[32]^=t,e[33]^=n,e[42]^=t,e[43]^=n,t=a^(l<<1|f>>>31),n=s^(f<<1|l>>>31),e[4]^=t,e[5]^=n,e[14]^=t,e[15]^=n,e[24]^=t,e[25]^=n,e[34]^=t,e[35]^=n,e[44]^=t,e[45]^=n,t=u^(h<<1|p>>>31),n=c^(p<<1|h>>>31),e[6]^=t,e[7]^=n,e[16]^=t,e[17]^=n,e[26]^=t,e[27]^=n,e[36]^=t,e[37]^=n,e[46]^=t,e[47]^=n,t=l^(i<<1|o>>>31),n=f^(o<<1|i>>>31),e[8]^=t,e[9]^=n,e[18]^=t,e[19]^=n,e[28]^=t,e[29]^=n,e[38]^=t,e[39]^=n,e[48]^=t,e[49]^=n,d=e[0],y=e[1],W=e[11]<<4|e[10]>>>28,q=e[10]<<4|e[11]>>>28,C=e[20]<<3|e[21]>>>29,I=e[21]<<3|e[20]>>>29,se=e[31]<<9|e[30]>>>23,ue=e[30]<<9|e[31]>>>23,H=e[40]<<18|e[41]>>>14,V=e[41]<<18|e[40]>>>14,L=e[2]<<1|e[3]>>>31,N=e[3]<<1|e[2]>>>31,g=e[13]<<12|e[12]>>>20,m=e[12]<<12|e[13]>>>20,Y=e[22]<<10|e[23]>>>22,Q=e[23]<<10|e[22]>>>22,D=e[33]<<13|e[32]>>>19,O=e[32]<<13|e[33]>>>19,ce=e[42]<<2|e[43]>>>30,le=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,ne=e[4]<<30|e[5]>>>2,B=e[14]<<6|e[15]>>>26,M=e[15]<<6|e[14]>>>26,b=e[25]<<11|e[24]>>>21,w=e[24]<<11|e[25]>>>21,X=e[34]<<15|e[35]>>>17,$=e[35]<<15|e[34]>>>17,R=e[45]<<29|e[44]>>>3,P=e[44]<<29|e[45]>>>3,S=e[6]<<28|e[7]>>>4,A=e[7]<<28|e[6]>>>4,re=e[17]<<23|e[16]>>>9,ie=e[16]<<23|e[17]>>>9,F=e[26]<<25|e[27]>>>7,j=e[27]<<25|e[26]>>>7,k=e[36]<<21|e[37]>>>11,E=e[37]<<21|e[36]>>>11,J=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,G=e[8]<<27|e[9]>>>5,K=e[9]<<27|e[8]>>>5,Z=e[18]<<20|e[19]>>>12,T=e[19]<<20|e[18]>>>12,oe=e[29]<<7|e[28]>>>25,ae=e[28]<<7|e[29]>>>25,U=e[38]<<8|e[39]>>>24,z=e[39]<<8|e[38]>>>24,x=e[48]<<14|e[49]>>>18,_=e[49]<<14|e[48]>>>18,e[0]=d^~g&b,e[1]=y^~m&w,e[10]=S^~Z&C,e[11]=A^~T&I,e[20]=L^~B&F,e[21]=N^~M&j,e[30]=G^~W&Y,e[31]=K^~q&Q,e[40]=te^~re&oe,e[41]=ne^~ie&ae,e[2]=g^~b&k,e[3]=m^~w&E,e[12]=Z^~C&D,e[13]=T^~I&O,e[22]=B^~F&U,e[23]=M^~j&z,e[32]=W^~Y&X,e[33]=q^~Q&$,e[42]=re^~oe&se,e[43]=ie^~ae&ue,e[4]=b^~k&x,e[5]=w^~E&_,e[14]=C^~D&R,e[15]=I^~O&P,e[24]=F^~U&H,e[25]=j^~z&V,e[34]=Y^~X&J,e[35]=Q^~$&ee,e[44]=oe^~se&ce,e[45]=ae^~ue&le,e[6]=k^~x&d,e[7]=E^~_&y,e[16]=D^~R&S,e[17]=O^~P&A,e[26]=U^~H&L,e[27]=z^~V&N,e[36]=X^~J&G,e[37]=$^~ee&K,e[46]=se^~ce&te,e[47]=ue^~le&ne,e[8]=x^~d&g,e[9]=_^~y&m,e[18]=R^~S&Z,e[19]=P^~A&T,e[28]=H^~L&B,e[29]=V^~N&M,e[38]=J^~G&W,e[39]=ee^~K&q,e[48]=ce^~te&re,e[49]=le^~ne&ie,e[0]^=v[r],e[1]^=v[r+1]};if(c)e.exports=Z;else{for(C=0;C<T.length;++C)s[T[C]]=Z[T[C]];l&&(void 0===(r=function(){return Z}.call(t,n,t,e))||(e.exports=r))}}()},64736:function(e,t,n){var r=n(43269).default;function i(e){var t=new globalThis.AbortController;function n(){t.abort();var i,o=r(e);try{for(o.s();!(i=o.n()).done;){var a=i.value;a&&a.removeEventListener&&a.removeEventListener("abort",n)}}catch(s){o.e(s)}finally{o.f()}}var i,o=r(e);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(a&&a.addEventListener){if(a.aborted){n();break}a.addEventListener("abort",n)}}}catch(s){o.e(s)}finally{o.f()}return t.signal}e.exports=i,e.exports.anySignal=i},70368:function(e,t,n){"use strict";var r=n(59591).default,i=n(55486).default,o=n(551).default;function a(){return a=o((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r().mark((function n(){var o,a;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o=e.getReader(),n.prev=1;case 2:return n.next=5,i(o.read());case 5:if(!(a=n.sent).done){n.next=8;break}return n.abrupt("return");case 8:return n.next=10,a.value;case 10:n.next=2;break;case 12:return n.prev=12,!0!==t.preventCancel&&o.cancel(),o.releaseLock(),n.finish(12);case 16:case"end":return n.stop()}}),n,null,[[1,,12,16]])}))()})),a.apply(this,arguments)}e.exports=function(e){return a.apply(this,arguments)}},13233:function(e,t,n){"use strict";var r=n(1426),i=n(82193),o="object"===typeof window&&"object"===typeof document&&9===document.nodeType,a=i(),s=o&&!a,u=a&&!o,c=a&&o,l="undefined"!==typeof r&&"undefined"!==typeof r.release&&"node"===r.release.name&&!a,f="function"===typeof importScripts&&"undefined"!==typeof self&&"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,h="undefined"!==typeof r&&!1,p="undefined"!==typeof navigator&&"ReactNative"===navigator.product;e.exports={isTest:h,isElectron:a,isElectronMain:u,isElectronRenderer:c,isNode:l,isBrowser:s,isWebWorker:f,isEnvWithDom:o,isReactNative:p}},21216:function(e,t,n){"use strict";e.exports=n(9295)},48772:function(e,t,n){"use strict";var r=n(59591).default,i=n(551).default,o=n(55486).default,a=n(30083).default,s=n(47003).default,u=n(72637);function c(e,t){return l.apply(this,arguments)}function l(){return(l=i(r().mark((function e(t,n){var i,c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new u,e.next=3,o(i.get(t,n));case 3:return c=e.sent,e.delegateYield(a(s(c.iterator()),o),"t0",5);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e.exports=function(e,t){return{path:decodeURIComponent(new URL(e).pathname.split("/").pop()||""),content:c(e,t)}}},72637:function(e,t,n){"use strict";var r=n(59713).default,i=n(59591).default,o=n(81109).default,a=n(48926).default,s=n(34575).default,u=n(93913).default,c=n(551).default,l=n(55486).default,f=n(30083).default,h=n(47003).default,p=n(10006),d=p.fetch,v=p.Request,y=p.Headers,g=n(40607),m=g.TimeoutError,b=g.HTTPError,w=n(89842).bind({ignoreUndefined:!0}),k=n(16791),E=k.URL,x=k.URLSearchParams,_=n(64736),S=n(70368),A=n(13233),Z=A.isBrowser,T=A.isWebWorker,C=n(50464),I=function(e,t,n){if(void 0===t)return e;var r=Date.now(),i=function(){return Date.now()-r>=t};return new Promise((function(r,o){var a=setTimeout((function(){i()&&(o(new m),n.abort())}),t),s=function(e){return function(t){clearTimeout(a),i()?o(new m):e(t)}};e.then(s(r),s(o))}))},D={throwHttpErrors:!0,credentials:"same-origin"},O=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s(this,e),this.opts=w(D,t)}return u(e,[{key:"fetch",value:function(){var e=a(i().mark((function e(t){var n,r,a,s,u,p,g,m,k,A,D=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=D.length>1&&void 0!==D[1]?D[1]:{},r=w(this.opts,n),a=new y(r.headers),"string"===typeof t||(t instanceof E||t instanceof v)){e.next=5;break}throw new TypeError("`resource` must be a string, URL, or Request");case 5:if(s=new E(t.toString(),r.base),u=r.searchParams,p=r.transformSearchParams,g=r.json,u&&(s.search="function"===typeof p?p(new x(r.searchParams)):new x(r.searchParams)),g&&(r.body=JSON.stringify(r.json),a.set("content-type","application/json")),m=new AbortController,k=_([m.signal,r.signal]),!(null!=globalThis.ReadableStream&&r.body instanceof globalThis.ReadableStream&&(Z||T))){e.next=17;break}return e.t0=Blob,e.next=15,C(S(r.body));case 15:e.t1=e.sent,r.body=new e.t0(e.t1);case 17:return e.next=19,I(d(s.toString(),o(o({},r),{},{signal:k,timeout:void 0,headers:a,duplex:"half"})),r.timeout,m);case 19:if((A=e.sent).ok||!r.throwHttpErrors){e.next=25;break}if(!r.handleError){e.next=24;break}return e.next=24,r.handleError(A);case 24:throw new b(A);case 25:return A.iterator=c(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(f(h(P(A.body)),l),"t0",1);case 1:case"end":return e.stop()}}),e)}))),A.ndjson=c(i().mark((function e(){var t,r,o,a,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=!1,r=!1,e.prev=2,a=h(R(A.iterator()));case 4:return e.next=6,l(a.next());case 6:if(!(t=!(s=e.sent).done)){e.next=18;break}if(u=s.value,!n.transform){e.next=13;break}return e.next=11,n.transform(u);case 11:e.next=15;break;case 13:return e.next=15,u;case 15:t=!1,e.next=4;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(2),r=!0,o=e.t0;case 24:if(e.prev=24,e.prev=25,!t||null==a.return){e.next=29;break}return e.next=29,l(a.return());case 29:if(e.prev=29,!r){e.next=32;break}throw o;case 32:return e.finish(29);case 33:return e.finish(24);case 34:case"end":return e.stop()}}),e,null,[[2,20,24,34],[25,,29,33]])}))),e.abrupt("return",A);case 28:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"post",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.fetch(e,o(o({},t),{},{method:"POST"}))}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.fetch(e,o(o({},t),{},{method:"GET"}))}},{key:"put",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.fetch(e,o(o({},t),{},{method:"PUT"}))}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.fetch(e,o(o({},t),{},{method:"DELETE"}))}},{key:"options",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.fetch(e,o(o({},t),{},{method:"OPTIONS"}))}}]),e}(),R=function(){var e=c(i().mark((function e(t){var n,r,o,a,s,u,c,f,p,d,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=new TextDecoder,r="",o=!1,a=!1,e.prev=4,u=h(t);case 6:return e.next=8,l(u.next());case 8:if(!(o=!(c=e.sent).done)){e.next=25;break}f=c.value,r+=n.decode(f,{stream:!0}),p=r.split(/\r?\n/),d=0;case 13:if(!(d<p.length-1)){e.next=21;break}if(!((v=p[d].trim()).length>0)){e.next=18;break}return e.next=18,JSON.parse(v);case 18:d++,e.next=13;break;case 21:r=p[p.length-1];case 22:o=!1,e.next=6;break;case 25:e.next=31;break;case 27:e.prev=27,e.t0=e.catch(4),a=!0,s=e.t0;case 31:if(e.prev=31,e.prev=32,!o||null==u.return){e.next=36;break}return e.next=36,l(u.return());case 36:if(e.prev=36,!a){e.next=39;break}throw s;case 39:return e.finish(36);case 40:return e.finish(31);case 41:if(0===(r=(r+=n.decode()).trim()).length){e.next=46;break}return e.next=46,JSON.parse(r);case 46:case"end":return e.stop()}}),e,null,[[4,27,31,41],[32,,36,40]])})));return function(t){return e.apply(this,arguments)}}(),P=function(e){if(L(e))return e;if(B(e)){var t=e[Symbol.asyncIterator]();return r({},Symbol.asyncIterator,(function(){return{next:t.next.bind(t),return:function(n){return e.destroy(),"function"===typeof t.return?t.return():Promise.resolve({done:!0,value:n})}}}))}if(N(e)){var n=e.getReader();return c(i().mark((function e(){var t,r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0;case 1:return e.next=4,l(n.read());case 4:if(t=e.sent,r=t.done,o=t.value,!r){e.next=9;break}return e.abrupt("return");case 9:if(!o){e.next=12;break}return e.next=12,o;case 12:e.next=1;break;case 14:return e.prev=14,n.releaseLock(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,,14,17]])})))()}throw new TypeError("Body can't be converted to AsyncIterable")},L=function(e){return"object"===typeof e&&null!==e&&"function"===typeof e[Symbol.asyncIterator]},N=function(e){return e&&"function"===typeof e.getReader},B=function(e){return Object.prototype.hasOwnProperty.call(e,"readable")&&Object.prototype.hasOwnProperty.call(e,"writable")};O.HTTPError=b,O.TimeoutError=m,O.streamToAsyncIterator=P,O.post=function(e,t){return new O(t).post(e,t)},O.get=function(e,t){return new O(t).get(e,t)},O.put=function(e,t){return new O(t).put(e,t)},O.delete=function(e,t){return new O(t).delete(e,t)},O.options=function(e,t){return new O(t).options(e,t)},e.exports=O},40607:function(e,t,n){"use strict";var r=n(93913).default,i=n(34575).default,o=n(2205).default,a=n(99842).default,s=n(65957).default,u=function(e){o(n,e);var t=a(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Request timed out";return i(this,n),(e=t.call(this,r)).name="TimeoutError",e}return r(n)}(s(Error));t.TimeoutError=u;var c=function(e){o(n,e);var t=a(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"The operation was aborted.";return i(this,n),(e=t.call(this,r)).name="AbortError",e}return r(n)}(s(Error));t.AbortError=c;var l=function(e){o(n,e);var t=a(n);function n(e){var r;return i(this,n),(r=t.call(this,e.statusText)).name="HTTPError",r.response=e,r}return r(n)}(s(Error));t.HTTPError=l},10006:function(e,t,n){"use strict";var r=n(93913).default,i=n(34575).default,o=n(81506).default,a=n(2205).default,s=n(99842).default,u=n(63038).default,c=n(43269).default,l=n(40607),f=l.TimeoutError,h=l.AbortError,p=n(21216),d=p.Response,v=p.Request,y=p.Headers,g=p.default,m=g,b=function(e){var t,n=new y,r=c(e.trim().split(/[\r\n]+/));try{for(r.s();!(t=r.n()).done;){var i=t.value,o=i.indexOf(": ");o>0&&n.set(i.slice(0,o),i.slice(o+1))}}catch(a){r.e(a)}finally{r.f()}return n},w=function(e){a(n,e);var t=s(n);function n(e,r,a){var s;return i(this,n),s=t.call(this,r,a),Object.defineProperty(o(s),"url",{value:e}),s}return r(n)}(d);e.exports={fetch:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null!=t.onUploadProgress?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new XMLHttpRequest;n.open(t.method||"GET",e.toString(),!0);var r=t.timeout,i=t.headers;if(r&&r>0&&r<1/0&&(n.timeout=r),null!=t.overrideMimeType&&n.overrideMimeType(t.overrideMimeType),i){var o,a=c(new y(i));try{for(a.s();!(o=a.n()).done;){var s=u(o.value,2),l=s[0],p=s[1];n.setRequestHeader(l,p)}}catch(v){a.e(v)}finally{a.f()}}return t.signal&&(t.signal.onabort=function(){return n.abort()}),t.onUploadProgress&&(n.upload.onprogress=t.onUploadProgress),n.responseType="arraybuffer",new Promise((function(e,r){var i=function(t){switch(t.type){case"error":e(d.error());break;case"load":e(new w(n.responseURL,n.response,{status:n.status,statusText:n.statusText,headers:b(n.getAllResponseHeaders())}));break;case"timeout":r(new f);break;case"abort":r(new h)}};n.onerror=i,n.onload=i,n.ontimeout=i,n.onabort=i,n.send(t.body)}))}(e,t):m(e,t)},Request:v,Headers:y}},9295:function(e,t,n){"use strict";globalThis.fetch&&globalThis.Headers&&globalThis.Request&&globalThis.Response?e.exports={default:globalThis.fetch,Headers:globalThis.Headers,Request:globalThis.Request,Response:globalThis.Response}:e.exports={default:n(45359).default,Headers:n(45359).Headers,Request:n(45359).Request,Response:n(45359).Response}},56993:function(e,t,n){"use strict";n.r(t),n.d(t,{CID:function(){return y.CID},create:function(){return ya},globSource:function(){return ga},multiaddr:function(){return wt},urlSource:function(){return va()}});var r={};n.r(r),n.d(r,{code:function(){return H},createLink:function(){return U},createNode:function(){return j},decode:function(){return G},encode:function(){return V},name:function(){return z},prepare:function(){return M},validate:function(){return F}});var i={};n.r(i),n.d(i,{code:function(){return ne},decode:function(){return se},encode:function(){return ae},name:function(){return te},toGeneral:function(){return oe}});var o=n(55507),a=n(92137),s=n(11965),u=n(6610),c=n(5991),l=function(e){return Promise.reject(new Error('No base found for "'.concat(e,'"')))},f=function(){function e(t){(0,u.Z)(this,e),this._basesByName={},this._basesByPrefix={},this._loadBase=t.loadBase||l;var n,r=(0,s.Z)(t.bases);try{for(r.s();!(n=r.n()).done;){var i=n.value;this.addBase(i)}}catch(o){r.e(o)}finally{r.f()}}return(0,c.Z)(e,[{key:"addBase",value:function(e){if(this._basesByName[e.name]||this._basesByPrefix[e.prefix])throw new Error('Codec already exists for codec "'.concat(e.name,'"'));this._basesByName[e.name]=e,this._basesByPrefix[e.prefix]=e}},{key:"removeBase",value:function(e){delete this._basesByName[e.name],delete this._basesByPrefix[e.prefix]}},{key:"getBase",value:function(){var e=(0,a.Z)((0,o.Z)().mark((function e(t){var n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._basesByName[t]){e.next=2;break}return e.abrupt("return",this._basesByName[t]);case 2:if(!this._basesByPrefix[t]){e.next=4;break}return e.abrupt("return",this._basesByPrefix[t]);case 4:return e.next=6,this._loadBase(t);case 6:return n=e.sent,null==this._basesByName[n.name]&&null==this._basesByPrefix[n.prefix]&&this.addBase(n),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"listBases",value:function(){return Object.values(this._basesByName)}}]),e}(),h=function(e){return Promise.reject(new Error('No codec found for "'.concat(e,'"')))},p=function(){function e(t){(0,u.Z)(this,e),this._codecsByName={},this._codecsByCode={},this._loadCodec=t.loadCodec||h;var n,r=(0,s.Z)(t.codecs);try{for(r.s();!(n=r.n()).done;){var i=n.value;this.addCodec(i)}}catch(o){r.e(o)}finally{r.f()}}return(0,c.Z)(e,[{key:"addCodec",value:function(e){if(this._codecsByName[e.name]||this._codecsByCode[e.code])throw new Error('Resolver already exists for codec "'.concat(e.name,'"'));this._codecsByName[e.name]=e,this._codecsByCode[e.code]=e}},{key:"removeCodec",value:function(e){delete this._codecsByName[e.name],delete this._codecsByCode[e.code]}},{key:"getCodec",value:function(){var e=(0,a.Z)((0,o.Z)().mark((function e(t){var n,r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n="string"===typeof t?this._codecsByName:this._codecsByCode)[t]){e.next=3;break}return e.abrupt("return",n[t]);case 3:return e.next=5,this._loadCodec(t);case 5:return r=e.sent,null==n[t]&&this.addCodec(r),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"listCodecs",value:function(){return Object.values(this._codecsByName)}}]),e}(),d=function(e){return Promise.reject(new Error('No hasher found for "'.concat(e,'"')))},v=function(){function e(t){(0,u.Z)(this,e),this._hashersByName={},this._hashersByCode={},this._loadHasher=t.loadHasher||d;var n,r=(0,s.Z)(t.hashers);try{for(r.s();!(n=r.n()).done;){var i=n.value;this.addHasher(i)}}catch(o){r.e(o)}finally{r.f()}}return(0,c.Z)(e,[{key:"addHasher",value:function(e){if(this._hashersByName[e.name]||this._hashersByCode[e.code])throw new Error('Resolver already exists for codec "'.concat(e.name,'"'));this._hashersByName[e.name]=e,this._hashersByCode[e.code]=e}},{key:"removeHasher",value:function(e){delete this._hashersByName[e.name],delete this._hashersByCode[e.code]}},{key:"getHasher",value:function(){var e=(0,a.Z)((0,o.Z)().mark((function e(t){var n,r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n="string"===typeof t?this._hashersByName:this._hashersByCode)[t]){e.next=3;break}return e.abrupt("return",n[t]);case 3:return e.next=5,this._loadHasher(t);case 5:return r=e.sent,null==n[t]&&this.addHasher(r),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"listHashers",value:function(){return Object.values(this._hashersByName)}}]),e}(),y=n(33592),g=n(28481),m=new TextDecoder;function b(e,t){for(var n=0,r=0;;r+=7){if(r>=64)throw new Error("protobuf: varint overflow");if(t>=e.length)throw new Error("protobuf: unexpected end of data");var i=e[t++];if(n+=r<28?(127&i)<<r:(127&i)*Math.pow(2,r),i<128)break}return[n,t]}function w(e,t){var n,r=b(e,t),i=(0,g.Z)(r,2);n=i[0];var o=(t=i[1])+n;if(n<0||o<0)throw new Error("protobuf: invalid length");if(o>e.length)throw new Error("protobuf: unexpected end of data");return[e.subarray(t,o),o]}function k(e,t){var n,r=b(e,t),i=(0,g.Z)(r,2);return[7&(n=i[0]),n>>3,t=i[1]]}function E(e){for(var t={},n=e.length,r=0;r<n;){var i,o,a=k(e,r),s=(0,g.Z)(a,3);if(i=s[0],o=s[1],r=s[2],1===o){if(t.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(2!==i)throw new Error("protobuf: (PBLink) wrong wireType (".concat(i,") for Hash"));if(void 0!==t.Name)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");var u=w(e,r),c=(0,g.Z)(u,2);t.Hash=c[0],r=c[1]}else if(2===o){if(void 0!==t.Name)throw new Error("protobuf: (PBLink) duplicate Name section");if(2!==i)throw new Error("protobuf: (PBLink) wrong wireType (".concat(i,") for Name"));if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");var l,f=w(e,r),h=(0,g.Z)(f,2);l=h[0],r=h[1],t.Name=m.decode(l)}else{if(3!==o)throw new Error("protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ".concat(o));if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(0!==i)throw new Error("protobuf: (PBLink) wrong wireType (".concat(i,") for Tsize"));var p=b(e,r),d=(0,g.Z)(p,2);t.Tsize=d[0],r=d[1]}}if(r>n)throw new Error("protobuf: (PBLink) unexpected end of data");return t}var x=new TextEncoder,_=Math.pow(2,32),S=Math.pow(2,31);function A(e,t){var n=t.length;if("number"===typeof e.Tsize){if(e.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(e.Tsize))throw new Error("Tsize too large for encoding");t[n=C(t,n,e.Tsize)-1]=24}if("string"===typeof e.Name){var r=x.encode(e.Name);n-=r.length,t.set(r,n),t[n=C(t,n,r.length)-1]=18}return e.Hash&&(n-=e.Hash.length,t.set(e.Hash,n),t[n=C(t,n,e.Hash.length)-1]=10),t.length-n}function Z(e){var t=function(e){var t=0;if(e.Data){var n=e.Data.length;t+=1+n+I(n)}if(e.Links){var r,i=(0,s.Z)(e.Links);try{for(i.s();!(r=i.n()).done;){var o=T(r.value);t+=1+o+I(o)}}catch(a){i.e(a)}finally{i.f()}}return t}(e),n=new Uint8Array(t),r=t;if(e.Data&&(r-=e.Data.length,n.set(e.Data,r),n[r=C(n,r,e.Data.length)-1]=10),e.Links)for(var i=e.Links.length-1;i>=0;i--){var o=A(e.Links[i],n.subarray(0,r));n[r=C(n,r-=o,o)-1]=18}return n}function T(e){var t=0;if(e.Hash){var n=e.Hash.length;t+=1+n+I(n)}if("string"===typeof e.Name){var r=x.encode(e.Name).length;t+=1+r+I(r)}return"number"===typeof e.Tsize&&(t+=1+I(e.Tsize)),t}function C(e,t,n){for(var r=t-=I(n);n>=S;)e[t++]=127&n|128,n/=128;for(;n>=128;)e[t++]=127&n|128,n>>>=7;return e[t]=n,r}function I(e){return e%2===0&&e++,Math.floor((function(e){var t=0;e>=_&&(e=Math.floor(e/_),t=32);e>=65536&&(e>>>=16,t+=16);e>=256&&(e>>>=8,t+=8);return t+D[e]}(e)+6)/7)}var D=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],O=["Data","Links"],R=["Hash","Name","Tsize"],P=new TextEncoder;function L(e,t){if(e===t)return 0;for(var n=e.Name?P.encode(e.Name):[],r=t.Name?P.encode(t.Name):[],i=n.length,o=r.length,a=0,s=Math.min(i,o);a<s;++a)if(n[a]!==r[a]){i=n[a],o=r[a];break}return i<o?-1:o<i?1:0}function N(e,t){return!Object.keys(e).some((function(e){return!t.includes(e)}))}function B(e){if("object"===typeof e.asCID){var t=y.CID.asCID(e);if(!t)throw new TypeError("Invalid DAG-PB form");return{Hash:t}}if("object"!==typeof e||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");var n={};if(e.Hash){var r=y.CID.asCID(e.Hash);try{r||("string"===typeof e.Hash?r=y.CID.parse(e.Hash):e.Hash instanceof Uint8Array&&(r=y.CID.decode(e.Hash)))}catch(i){throw new TypeError("Invalid DAG-PB form: ".concat(i.message))}r&&(n.Hash=r)}if(!n.Hash)throw new TypeError("Invalid DAG-PB form");return"string"===typeof e.Name&&(n.Name=e.Name),"number"===typeof e.Tsize&&(n.Tsize=e.Tsize),n}function M(e){if((e instanceof Uint8Array||"string"===typeof e)&&(e={Data:e}),"object"!==typeof e||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");var t={};if(void 0!==e.Data)if("string"===typeof e.Data)t.Data=P.encode(e.Data);else{if(!(e.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form");t.Data=e.Data}if(void 0!==e.Links){if(!Array.isArray(e.Links))throw new TypeError("Invalid DAG-PB form");t.Links=e.Links.map(B),t.Links.sort(L)}else t.Links=[];return t}function F(e){if(!e||"object"!==typeof e||Array.isArray(e)||e instanceof Uint8Array||e["/"]&&e["/"]===e.bytes)throw new TypeError("Invalid DAG-PB form");if(!N(e,O))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(void 0!==e.Data&&!(e.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be bytes)");if(!Array.isArray(e.Links))throw new TypeError("Invalid DAG-PB form (Links must be a list)");for(var t=0;t<e.Links.length;t++){var n=e.Links[t];if(!n||"object"!==typeof n||Array.isArray(n)||n instanceof Uint8Array||n["/"]&&n["/"]===n.bytes)throw new TypeError("Invalid DAG-PB form (bad link)");if(!N(n,R))throw new TypeError("Invalid DAG-PB form (extraneous properties on link)");if(void 0===n.Hash)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(null==n.Hash||!n.Hash["/"]||n.Hash["/"]!==n.Hash.bytes)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(void 0!==n.Name&&"string"!==typeof n.Name)throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(void 0!==n.Tsize){if("number"!==typeof n.Tsize||n.Tsize%1!==0)throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(n.Tsize<0)throw new TypeError("Invalid DAG-PB form (link Tsize cannot be negative)")}if(t>0&&-1===L(n,e.Links[t-1]))throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function j(e){return M({Data:e,Links:arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]})}function U(e,t,n){return B({Hash:n,Name:e,Tsize:t})}var z="dag-pb",H=112;function V(e){F(e);var t={};return e.Links&&(t.Links=e.Links.map((function(e){var t={};return e.Hash&&(t.Hash=e.Hash.bytes),void 0!==e.Name&&(t.Name=e.Name),void 0!==e.Tsize&&(t.Tsize=e.Tsize),t}))),e.Data&&(t.Data=e.Data),Z(t)}function G(e){var t=function(e){for(var t,n,r=e.length,i=0,o=!1;i<r;){var a,s,u=k(e,i),c=(0,g.Z)(u,3);if(a=c[0],s=c[1],i=c[2],2!==a)throw new Error("protobuf: (PBNode) invalid wireType, expected 2, got ".concat(a));if(1===s){if(n)throw new Error("protobuf: (PBNode) duplicate Data section");var l=w(e,i),f=(0,g.Z)(l,2);n=f[0],i=f[1],t&&(o=!0)}else{if(2!==s)throw new Error("protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ".concat(s));if(o)throw new Error("protobuf: (PBNode) duplicate Links section");t||(t=[]);var h,p=w(e,i),d=(0,g.Z)(p,2);h=d[0],i=d[1],t.push(E(h))}}if(i>r)throw new Error("protobuf: (PBNode) unexpected end of data");var v={};return n&&(v.Data=n),v.Links=t||[],v}(e),n={};return t.Data&&(n.Data=t.Data),t.Links&&(n.Links=t.Links.map((function(e){var t={};try{t.Hash=y.CID.decode(e.Hash)}catch(n){}if(!t.Hash)throw new Error("Invalid Hash field found in link, expected CID");return void 0!==e.Name&&(t.Name=e.Name),void 0!==e.Tsize&&(t.Tsize=e.Tsize),t}))),n}var K=n(76438),W=n(67901),q=n(97025);function Y(e){return q.base64url.encode(e).slice(1)}function Q(e){return q.base64url.decode(`u${e}`)}function X(e){const t={signature:Q(e.signature)};return e.header&&(t.header=e.header),e.protected&&(t.protected=Q(e.protected)),t}function $(e){const t={signature:Y(e.signature)};return e.header&&(t.header=e.header),e.protected&&(t.protected=Y(e.protected)),t}function J(e){const t={};return e.encrypted_key&&(t.encrypted_key=Q(e.encrypted_key)),e.header&&(t.header=e.header),t}function ee(e){const t={};return e.encrypted_key&&(t.encrypted_key=Y(e.encrypted_key)),e.header&&(t.header=e.header),t}const te="dag-jose",ne=133;function re(e){return"payload"in e&&"string"===typeof e.payload&&"signatures"in e&&Array.isArray(e.signatures)}function ie(e){return"ciphertext"in e&&"string"===typeof e.ciphertext&&"iv"in e&&"string"===typeof e.iv&&"protected"in e&&"string"===typeof e.protected&&"tag"in e&&"string"===typeof e.tag}function oe(e){if("string"===typeof e){const t=e.split(".");if(3===t.length)return function(e){const[t,n,r]=e;return{payload:n,signatures:[{protected:t,signature:r}],link:y.CID.decode(Q(n))}}(t);if(5===t.length)return function(e){const[t,n,r,i,o]=e,a={ciphertext:i,iv:r,protected:t,tag:o};return n&&(a.recipients=[{encrypted_key:n}]),a}(t);throw new Error("Not a valid JOSE string")}if(re(e)||ie(e))return e;throw new Error("Not a valid unencoded JOSE object")}function ae(e){let t;if("string"===typeof e&&(e=oe(e)),re(e))t=function(e){const t=Q(e.payload);try{y.CID.decode(t)}catch(n){throw new Error("Not a valid DagJWS")}return{payload:t,signatures:e.signatures.map(X)}}(e);else{if(!ie(e))throw new Error("Not a valid JOSE object");t=function(e){const t={ciphertext:Q(e.ciphertext),protected:Q(e.protected),iv:Q(e.iv),tag:Q(e.tag)};return e.aad&&(t.aad=Q(e.aad)),e.recipients&&(t.recipients=e.recipients.map(J)),e.unprotected&&(t.unprotected=e.unprotected),t}(e)}return new Uint8Array(K.encode(t))}function se(e){let t;try{t=K.decode(e)}catch(r){throw new Error("Not a valid DAG-JOSE object")}if("payload"in(n=t)&&n.payload instanceof Uint8Array&&"signatures"in n&&Array.isArray(n.signatures))return function(e){const t={payload:Y(e.payload),signatures:e.signatures.map($)};return t.link=y.CID.decode(new Uint8Array(e.payload)),t}(t);if(function(e){return"ciphertext"in e&&e.ciphertext instanceof Uint8Array&&"iv"in e&&e.iv instanceof Uint8Array&&"protected"in e&&e.protected instanceof Uint8Array&&"tag"in e&&e.tag instanceof Uint8Array}(t))return function(e){const t={ciphertext:Y(e.ciphertext),protected:Y(e.protected),iv:Y(e.iv),tag:Y(e.tag)};return e.aad&&(t.aad=Y(e.aad)),e.recipients&&(t.recipients=e.recipients.map(ee)),e.unprotected&&(t.unprotected=e.unprotected),t}(t);throw new Error("Not a valid DAG-JOSE object");var n}var ue=n(34719),ce=n(59939),le=n(63349),fe=n(10379),he=n(60446),pe=n(28991),de=n(54636);function ve(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function ye(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return null!=(null===(e=globalThis.Buffer)||void 0===e?void 0:e.allocUnsafe)?ve(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function ge(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}var me=ge("utf8","u",(function(e){return"u"+new TextDecoder("utf8").decode(e)}),(function(e){return(new TextEncoder).encode(e.substring(1))})),be=ge("ascii","a",(function(e){for(var t="a",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}),(function(e){for(var t=ye((e=e.substring(1)).length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t})),we=(0,pe.Z)({utf8:me,"utf-8":me,hex:ce.gh.base16,latin1:be,ascii:be,binary:be},ce.gh);function ke(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8",n=we[t];if(null==n)throw new Error('Unsupported encoding "'.concat(t,'"'));return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}var Ee=de.C,xe=de.aY,_e=function e(t){var n=0;if(t=t.toString().trim(),Ee(t)){var r=new Uint8Array(n+4);return t.split(/\./g).forEach((function(e){r[n++]=255&parseInt(e,10)})),r}if(xe(t)){var i,o=t.split(":",8);for(i=0;i<o.length;i++){var a=void 0;Ee(o[i])&&(a=e(o[i]),o[i]=ke(a.slice(0,2),"base16")),null!=a&&++i<8&&o.splice(i,0,ke(a.slice(2,4),"base16"))}if(""===o[0])for(;o.length<8;)o.unshift("0");else if(""===o[o.length-1])for(;o.length<8;)o.push("0");else if(o.length<8){for(i=0;i<o.length&&""!==o[i];i++);var s=[i,1];for(i=9-o.length;i>0;i--)s.push("0");o.splice.apply(o,s)}var u=new Uint8Array(n+16);for(i=0;i<o.length;i++){var c=parseInt(o[i],16);u[n++]=c>>8&255,u[n++]=255&c}return u}throw new Error("invalid ip address")},Se=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;n=~~n,r=null!==(t=r)&&void 0!==t?t:e.length-n;var i=new DataView(e.buffer);if(4===r){for(var o=[],a=0;a<r;a++)o.push(e[n+a]);return o.join(".")}if(16===r){for(var s=[],u=0;u<r;u+=2)s.push(i.getUint16(n+u).toString(16));return s.join(":").replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3").replace(/:{3,4}/,"::")}return""},Ae=n(85061),Ze=-1,Te={},Ce={};function Ie(e,t,n,r,i){return{code:e,size:t,name:n,resolvable:Boolean(r),path:Boolean(i)}}function De(e){if("number"===typeof e){if(null!=Ce[e])return Ce[e];throw new Error("no protocol with code: ".concat(e))}if("string"===typeof e){if(null!=Te[e])return Te[e];throw new Error("no protocol with name: ".concat(e))}throw new Error("invalid protocol id type: ".concat(typeof e))}[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,Ze,"ip6zone"],[43,8,"ipcidr"],[53,Ze,"dns",!0],[54,Ze,"dns4",!0],[55,Ze,"dns6",!0],[56,Ze,"dnsaddr",!0],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[280,0,"webrtc"],[281,0,"webrtc-w3c"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,Ze,"unix",!1,!0],[421,Ze,"ipfs"],[421,Ze,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,Ze,"garlic64"],[448,0,"tls"],[449,Ze,"sni"],[460,0,"quic"],[461,0,"quic-v1"],[465,0,"webtransport"],[466,Ze,"certhash"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[777,Ze,"memory"]].forEach((function(e){var t=Ie.apply(void 0,(0,Ae.Z)(e));Ce[t.code]=t,Te[t.name]=t}));var Oe=n(77034),Re=n(15923),Pe=n(95703),Le=n(74561),Ne=n.n(Le);function Be(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8",n=we[t];if(null==n)throw new Error('Unsupported encoding "'.concat(t,'"'));return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode("".concat(n.prefix).concat(e)):ve(globalThis.Buffer.from(e,"utf-8"))}function Me(e,t){null==t&&(t=e.reduce((function(e,t){return e+t.length}),0));var n,r=ye(t),i=0,o=(0,s.Z)(e);try{for(o.s();!(n=o.n()).done;){var a=n.value;r.set(a,i),i+=a.length}}catch(u){o.e(u)}finally{o.f()}return ve(r)}function Fe(e,t){switch(De(e).code){case 4:case 41:return function(e){var t=Se(e,0,e.length);if(null==t)throw new Error("ipBuff is required");if(!de.h6(t))throw new Error("invalid ip address");return t}(t);case 42:case 53:case 54:case 55:case 56:case 400:case 449:case 777:return We(t);case 6:case 273:case 33:case 132:return Ge(t).toString();case 421:return function(e){var t=Ne().decode(e),n=e.slice(Ne().decode.bytes);if(n.length!==t)throw new Error("inconsistent lengths");return ke(n,"base58btc")}(t);case 444:case 445:return qe(t);case 466:return function(e){var t=Ne().decode(e),n=e.slice(Ne().decode.bytes);if(n.length!==t)throw new Error("inconsistent lengths");return"u"+ke(n,"base64url")}(t);default:return ke(t,"base16")}}function je(e,t){switch(De(e).code){case 4:case 41:return He(t);case 42:case 53:case 54:case 55:case 56:case 400:case 449:case 777:return Ke(t);case 6:case 273:case 33:case 132:return Ve(parseInt(t,10));case 421:return function(e){var t;t="Q"===e[0]||"1"===e[0]?Pe.decode(Re.base58btc.decode("z".concat(e))).bytes:y.CID.parse(e).multihash.bytes;var n=Uint8Array.from(Ne().encode(t.length));return Me([n,t],n.length+t.length)}(t);case 444:return function(e){var t=e.split(":");if(2!==t.length)throw new Error("failed to parse onion addr: [\"'".concat(t.join('", "'),"'\"]' does not contain a port number"));if(16!==t[0].length)throw new Error("failed to parse onion addr: ".concat(t[0]," not a Tor onion address."));var n=Oe.base32.decode("b"+t[0]),r=parseInt(t[1],10);if(r<1||r>65536)throw new Error("Port number is not in range(1, 65536)");var i=Ve(r);return Me([n,i],n.length+i.length)}(t);case 445:return function(e){var t=e.split(":");if(2!==t.length)throw new Error("failed to parse onion addr: [\"'".concat(t.join('", "'),"'\"]' does not contain a port number"));if(56!==t[0].length)throw new Error("failed to parse onion addr: ".concat(t[0]," not a Tor onion3 address."));var n=Oe.base32.decode("b".concat(t[0])),r=parseInt(t[1],10);if(r<1||r>65536)throw new Error("Port number is not in range(1, 65536)");var i=Ve(r);return Me([n,i],n.length+i.length)}(t);case 466:return function(e){var t=ze.decode(e),n=Uint8Array.from(Ne().encode(t.length));return Me([n,t],n.length+t.length)}(t);default:return Be(t,"base16")}}var Ue=Object.values(ce.gh).map((function(e){return e.decoder})),ze=function(){var e=Ue[0].or(Ue[1]);return Ue.slice(2).forEach((function(t){return e=e.or(t)})),e}();function He(e){if(!de.h6(e))throw new Error("invalid ip address");return _e(e)}function Ve(e){var t=new ArrayBuffer(2);return new DataView(t).setUint16(0,e),new Uint8Array(t)}function Ge(e){return new DataView(e.buffer).getUint16(e.byteOffset)}function Ke(e){var t=Be(e),n=Uint8Array.from(Ne().encode(t.length));return Me([n,t],n.length+t.length)}function We(e){var t=Ne().decode(e);if((e=e.slice(Ne().decode.bytes)).length!==t)throw new Error("inconsistent lengths");return ke(e)}function qe(e){var t=e.slice(0,e.length-2),n=e.slice(e.length-2),r=ke(t,"base32"),i=Ge(n);return"".concat(r,":").concat(i)}function Ye(e){return e.map((function(e){var t=ot(e);return null!=e[1]?[t.code,Fe(t.code,e[1])]:[t.code]}))}function Qe(e){return tt(Me(e.map((function(e){var t=ot(e),n=Uint8Array.from(Ne().encode(t.code));return e.length>1&&null!=e[1]&&(n=Me([n,e[1]])),n}))))}function Xe(e,t){return e.size>0?e.size/8:0===e.size?0:Ne().decode(t)+(null!==(n=Ne().decode.bytes)&&void 0!==n?n:0);var n}function $e(e){for(var t=[],n=0;n<e.length;){var r,i=Ne().decode(e,n),o=null!==(r=Ne().decode.bytes)&&void 0!==r?r:0,a=Xe(De(i),e.slice(n+o));if(0!==a){var s=e.slice(n+o,n+o+a);if((n+=a+o)>e.length)throw it("Invalid address Uint8Array: "+ke(e,"base16"));t.push([i,s])}else t.push([i]),n+=o}return t}function Je(e){return function(e){var t=[];return e.map((function(e){var n=ot(e);return t.push(n.name),e.length>1&&null!=e[1]&&t.push(e[1]),null})),rt(t.join("/"))}(Ye($e(e)))}function et(e){var t=function(e){var t=[],n=e.split("/").slice(1);if(1===n.length&&""===n[0])return[];for(var r=0;r<n.length;r++){var i=n[r],o=De(i);if(0!==o.size){if(++r>=n.length)throw it("invalid address: "+e);if(!0===o.path){t.push([i,rt(n.slice(r).join("/"))]);break}t.push([i,n[r]])}else t.push([i])}return t}(e=rt(e));return Qe(t.map((function(e){Array.isArray(e)||(e=[e]);var t=ot(e);return e.length>1?[t.code,je(t.code,e[1])]:[t.code]})))}function tt(e){var t=nt(e);if(null!=t)throw t;return Uint8Array.from(e)}function nt(e){try{$e(e)}catch(t){return t}}function rt(e){return"/"+e.trim().split("/").filter((function(e){return e})).join("/")}function it(e){return new Error("Error parsing address: "+e)}function ot(e){return De(e[0])}var at=n(67963),st=n.n(at);var ut,ct,lt,ft,ht=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},pt=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},dt=Symbol.for("nodejs.util.inspect.custom"),vt=[De("dns").code,De("dns4").code,De("dns6").code,De("dnsaddr").code],yt=new Map,gt=Symbol.for("@multiformats/js-multiaddr/multiaddr");function mt(e){return Boolean(null===e||void 0===e?void 0:e[gt])}var bt=function(e){function t(e){if((0,u.Z)(this,t),ut.set(this,void 0),ct.set(this,void 0),lt.set(this,void 0),this[ft]=!0,null==e&&(e=""),e instanceof Uint8Array)this.bytes=tt(e);else if("string"===typeof e){if(e.length>0&&"/"!==e.charAt(0))throw new Error('multiaddr "'.concat(e,'" must start with a "/"'));this.bytes=et(e)}else{if(!mt(e))throw new Error("addr must be a string, Buffer, or another Multiaddr");this.bytes=tt(e.bytes)}}return(0,c.Z)(t,[{key:"toString",value:function(){return null==ht(this,ut,"f")&&pt(this,ut,Je(this.bytes),"f"),ht(this,ut,"f")}},{key:"toJSON",value:function(){return this.toString()}},{key:"toOptions",value:function(){var e,t,n,r,i,o="",a=De("tcp"),u=De("udp"),c=De("ip4"),l=De("ip6"),f=De("dns6"),h=De("ip6zone"),p=(0,s.Z)(this.stringTuples());try{for(p.s();!(i=p.n()).done;){var d=(0,g.Z)(i.value,2),v=d[0],y=d[1];v===h.code&&(o="%".concat(null!==y&&void 0!==y?y:"")),vt.includes(v)&&(t=a.name,r=443,n="".concat(null!==y&&void 0!==y?y:"").concat(o),e=v===f.code?6:4),v!==a.code&&v!==u.code||(t=De(v).name,r=parseInt(null!==y&&void 0!==y?y:"")),v!==c.code&&v!==l.code||(t=De(v).name,n="".concat(null!==y&&void 0!==y?y:"").concat(o),e=v===l.code?6:4)}}catch(m){p.e(m)}finally{p.f()}if(null==e||null==t||null==n||null==r)throw new Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6, dnsaddr}/{address}/{tcp, udp}/{port}".');return{family:e,host:n,transport:t,port:r}}},{key:"protos",value:function(){return this.protoCodes().map((function(e){return Object.assign({},De(e))}))}},{key:"protoCodes",value:function(){for(var e=[],t=this.bytes,n=0;n<t.length;){var r,i=Ne().decode(t,n),o=null!==(r=Ne().decode.bytes)&&void 0!==r?r:0;n+=Xe(De(i),t.slice(n+o))+o,e.push(i)}return e}},{key:"protoNames",value:function(){return this.protos().map((function(e){return e.name}))}},{key:"tuples",value:function(){return null==ht(this,ct,"f")&&pt(this,ct,$e(this.bytes),"f"),ht(this,ct,"f")}},{key:"stringTuples",value:function(){return null==ht(this,lt,"f")&&pt(this,lt,Ye(this.tuples()),"f"),ht(this,lt,"f")}},{key:"encapsulate",value:function(e){return e=new t(e),new t(this.toString()+e.toString())}},{key:"decapsulate",value:function(e){var n=e.toString(),r=this.toString(),i=r.lastIndexOf(n);if(i<0)throw new Error("Address ".concat(this.toString()," does not contain subaddress: ").concat(e.toString()));return new t(r.slice(0,i))}},{key:"decapsulateCode",value:function(e){for(var n=this.tuples(),r=n.length-1;r>=0;r--)if(n[r][0]===e)return new t(Qe(n.slice(0,r)));return this}},{key:"getPeerId",value:function(){try{var e=this.stringTuples().filter((function(e){return e[0]===Te.ipfs.code})),t=e.pop();if(null!=(null===t||void 0===t?void 0:t[1])){var n=t[1];return"Q"===n[0]||"1"===n[0]?ke(Re.base58btc.decode("z".concat(n)),"base58btc"):ke(y.CID.parse(n).multihash.bytes,"base58btc")}return null}catch(r){return null}}},{key:"getPath",value:function(){var e=null;try{null==(e=this.stringTuples().filter((function(e){return!0===De(e[0]).path}))[0][1])&&(e=null)}catch(t){e=null}return e}},{key:"equals",value:function(e){return function(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(var n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0}(this.bytes,e.bytes)}},{key:"resolve",value:function(){var e=(0,a.Z)((0,o.Z)().mark((function e(n){var r,i,a;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(r=this.protos().find((function(e){return e.resolvable})))){e.next=3;break}return e.abrupt("return",[this]);case 3:if(null!=(i=yt.get(r.name))){e.next=6;break}throw st()(new Error("no available resolver for ".concat(r.name)),"ERR_NO_AVAILABLE_RESOLVER");case 6:return e.next=8,i(this,n);case 8:return a=e.sent,e.abrupt("return",a.map((function(e){return new t(e)})));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"nodeAddress",value:function(){var e=this.toOptions();if("tcp"!==e.transport&&"udp"!==e.transport)throw new Error('multiaddr must have a valid format - no protocol with name: "'.concat(e.transport,'". Must have a valid transport protocol: "{tcp, udp}"'));return{family:e.family,address:e.host,port:e.port}}},{key:"isThinWaistAddress",value:function(e){var t=(null!==e&&void 0!==e?e:this).protos();return 2===t.length&&((4===t[0].code||41===t[0].code)&&(6===t[1].code||273===t[1].code))}},{key:e,value:function(){return"Multiaddr(".concat(Je(this.bytes),")")}}]),t}((ut=new WeakMap,ct=new WeakMap,lt=new WeakMap,ft=gt,dt));function wt(e){return new bt(e)}var kt=n(13233),Et=/(\x2D?(?:[0-9]+\.?[0-9]*|[0-9]*\.?[0-9]+)(?:e[\+\x2D]?[0-9]+)?)[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*((?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*)/gi;function xt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ms",n=null;return(e=(e+"").replace(/(\d)[,_](\d)/g,"$1$2")).replace(Et,(function(e,t,r){(r=_t(r))&&(n=(n||0)+parseFloat(t,10)*r)})),n&&n/(_t(t)||1)}function _t(e){return xt[e]||xt[e.toLowerCase().replace(/s$/,"")]}xt.nanosecond=xt.ns=1e-6,xt["\xb5s"]=xt["\u03bcs"]=xt.us=xt.microsecond=.001,xt.millisecond=xt.ms=xt[""]=1,xt.second=xt.sec=xt.s=1e3*xt.ms,xt.minute=xt.min=xt.m=60*xt.s,xt.hour=xt.hr=xt.h=60*xt.m,xt.day=xt.d=24*xt.h,xt.week=xt.wk=xt.w=7*xt.d,xt.month=xt.b=30.4375*xt.d,xt.year=xt.yr=xt.y=365.25*xt.d;var St=xt,At=n(95563),Zt=n(72637),Tt=n.n(Zt),Ct=n(94804),It=n(19978);function Dt(e){try{e=(0,It.k)(wt(e))}catch(t){}return e=e.toString()}var Ot=(0,At.kg)("js-kubo-rpc-client:lib:error-handler"),Rt=Ct.Z.bind({ignoreUndefined:!0}),Pt=kt.isBrowser||kt.isWebWorker?location.protocol:"http",Lt=kt.isBrowser||kt.isWebWorker?location.hostname:"localhost",Nt=kt.isBrowser||kt.isWebWorker?location.port:"5001",Bt=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(t){var n,r,i;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t.headers.get("Content-Type")||"").startsWith("application/json")){e.next=9;break}return e.next=4,t.json();case 4:r=e.sent,Ot(r),n=r.Message||r.message,e.next=12;break;case 9:return e.next=11,t.text();case 11:n=e.sent;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),Ot("Failed to parse error response",e.t0),n=e.t0.message;case 18:throw i=new(Tt().HTTPError)(t),n&&(n.includes("deadline has elapsed")&&(i=new(Tt().TimeoutError)),n&&n.includes("context deadline exceeded")&&(i=new(Tt().TimeoutError))),n&&n.includes("request timed out")&&(i=new(Tt().TimeoutError)),n&&(i.message=n),i;case 23:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),Mt=/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,Ft=function(e){return e.replace(Mt,(function(e){return"-"+e.toLowerCase()}))},jt=function(e){(0,fe.Z)(n,e);var t=(0,he.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,u.Z)(this,n);var i,o=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r={};if("string"===typeof n||mt(n))e=new URL(Dt(n));else if(n instanceof URL)e=n;else if("string"===typeof n.url||mt(n.url))e=new URL(Dt(n.url)),r=n;else if(n.url instanceof URL)e=n.url,r=n;else{var i=((r=n||{}).protocol||Pt).replace(":",""),o=(r.host||Lt).split(":")[0],a=r.port||Nt;e=new URL("".concat(i,"://").concat(o,":").concat(a))}if(r.apiPath?e.pathname=r.apiPath:"/"!==e.pathname&&void 0!==e.pathname||(e.pathname="api/v0"),kt.isNode){var s=void 0;t=r.agent||new s({keepAlive:!0,maxSockets:6})}return(0,pe.Z)((0,pe.Z)({},r),{},{host:e.host,protocol:e.protocol.replace(":",""),port:Number(e.port),apiPath:e.pathname,url:e,agent:t})}(r);delete(e=t.call(this,{timeout:(i=o.timeout||0,("string"===typeof i?St(i):i)||void 0),headers:o.headers,base:"".concat(o.url),handleError:Bt,transformSearchParams:function(e){var t,n=new URLSearchParams,r=(0,s.Z)(e);try{for(r.s();!(t=r.n()).done;){var i=(0,g.Z)(t.value,2),o=i[0],a=i[1];"undefined"!==a&&"null"!==a&&"signal"!==o&&n.append(Ft(o),a),"timeout"!==o||isNaN(a)||n.append(Ft(o),a)}}catch(u){r.e(u)}finally{r.f()}return n},agent:o.agent})).get,delete e.put,delete e.delete,delete e.options;var a=e.fetch;return e.fetch=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"!==typeof t||t.startsWith("/")||(t="".concat(o.url,"/").concat(t)),a.call((0,le.Z)(e),t,Rt(n,{method:"POST"}))},e}return(0,c.Z)(n)}(Tt()),Ut=(Tt().HTTPError,function(e){return function(t){return e(new jt(t),t)}}),zt=n(81253);function Ht(e){if(null!=e)return"string"===typeof e?e:e.toString(8).padStart(4,"0")}function Vt(e){if(null!=e){var t;if(null!=e.secs&&(t={secs:e.secs,nsecs:e.nsecs}),null!=e.Seconds&&(t={secs:e.Seconds,nsecs:e.FractionalNanoseconds}),Array.isArray(e)&&(t={secs:e[0],nsecs:e[1]}),e instanceof Date){var n=e.getTime(),r=Math.floor(n/1e3);t={secs:r,nsecs:1e3*(n-1e3*r)}}if(Object.prototype.hasOwnProperty.call(t,"secs")){if(null!=t&&null!=t.nsecs&&(t.nsecs<0||t.nsecs>999999999))throw st()(new Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return t}}}var Gt=["arg","searchParams","hashAlg","mtime","mode"];function Kt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.arg,n=e.searchParams,r=e.hashAlg,i=e.mtime,o=e.mode,a=(0,zt.Z)(e,Gt);n&&(a=(0,pe.Z)((0,pe.Z)({},a),n)),r&&(a.hash=r),null!=i&&(i=Vt(i),a.mtime=i.secs,a.mtimeNsecs=i.nsecs),null!=o&&(a.mode=Ht(o)),a.timeout&&!isNaN(a.timeout)&&(a.timeout="".concat(a.timeout,"ms")),void 0===t||null===t?t=[]:Array.isArray(t)||(t=[t]);var s=new URLSearchParams(a);return t.forEach((function(e){return s.append("arg",e)})),s}var Wt=Ut((function(e){function t(){return t=(0,a.Z)((0,o.Z)().mark((function t(){var n,r,i=arguments;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:{},t.next=3,e.post("bitswap/wantlist",{signal:n.signal,searchParams:Kt(n),headers:n.headers});case 3:return t.next=5,t.sent.json();case 5:return r=t.sent,t.abrupt("return",(r.Keys||[]).map((function(e){return y.CID.parse(e["/"])})));case 7:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}return function(){return t.apply(this,arguments)}})),qt=Ut((function(e){function t(){return t=(0,a.Z)((0,o.Z)().mark((function t(n){var r,i,a=arguments;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},t.next=3,e.post("bitswap/wantlist",{signal:r.signal,searchParams:Kt((0,pe.Z)((0,pe.Z)({},r),{},{peer:n.toString()})),headers:r.headers});case 3:return t.next=5,t.sent.json();case 5:return i=t.sent,t.abrupt("return",(i.Keys||[]).map((function(e){return y.CID.parse(e["/"])})));case 7:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}return function(e){return t.apply(this,arguments)}})),Yt=n(98144),Qt=Ut((function(e){function t(){return t=(0,a.Z)((0,o.Z)().mark((function t(){var n,r,i=arguments;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:{},t.next=3,e.post("bitswap/stat",{searchParams:Kt(n),signal:n.signal,headers:n.headers});case 3:return r=t.sent,t.t0=Xt,t.next=7,r.json();case 7:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 9:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}return function(){return t.apply(this,arguments)}}));function Xt(e){return{provideBufLen:e.ProvideBufLen,wantlist:(e.Wantlist||[]).map((function(e){return y.CID.parse(e["/"])})),peers:(e.Peers||[]).map((function(e){return(0,Yt.jE)(e)})),blocksReceived:BigInt(e.BlocksReceived),dataReceived:BigInt(e.DataReceived),blocksSent:BigInt(e.BlocksSent),dataSent:BigInt(e.DataSent),dupBlksReceived:BigInt(e.DupBlksReceived),dupDataReceived:BigInt(e.DupDataReceived)}}var $t=Ut((function(e){function t(){return t=(0,a.Z)((0,o.Z)().mark((function t(n){var r,i,a=arguments;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},t.next=3,e.post("block/get",{signal:r.signal,searchParams:Kt((0,pe.Z)({arg:n.toString()},r)),headers:r.headers});case 3:return i=t.sent,t.t0=Uint8Array,t.next=7,i.arrayBuffer();case 7:return t.t1=t.sent,t.abrupt("return",new t.t0(t.t1));case 9:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}return function(e){return t.apply(this,arguments)}})),Jt=n(85823),en=n(96156);function tn(e){var t=null!=e[Symbol.asyncIterator]?[e[Symbol.asyncIterator](),Symbol.asyncIterator]:[e[Symbol.iterator](),Symbol.iterator],n=(0,g.Z)(t,2),r=n[0],i=n[1],o=[];return(0,en.Z)({peek:function(){return r.next()},push:function(e){o.push(e)},next:function(){return o.length>0?{done:!1,value:o.shift()}:r.next()}},i,(function(){return this}))}var nn=n(75584);function rn(e){return on.apply(this,arguments)}function on(){return on=(0,a.Z)((0,o.Z)().mark((function e(t){var n,r,i,a,s,u,c;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r=!1,i=!1,e.prev=3,s=(0,Jt.Z)(t);case 5:return e.next=7,s.next();case 7:if(!(r=!(u=e.sent).done)){e.next=13;break}c=u.value,n.push(c);case 10:r=!1,e.next=5;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(3),i=!0,a=e.t0;case 19:if(e.prev=19,e.prev=20,!r||null==s.return){e.next=24;break}return e.next=24,s.return();case 24:if(e.prev=24,!i){e.next=27;break}throw a;case 27:return e.finish(24);case 28:return e.finish(19);case 29:return e.abrupt("return",n);case 30:case"end":return e.stop()}}),e,null,[[3,15,19,29],[20,,24,28]])}))),on.apply(this,arguments)}function an(e){return ArrayBuffer.isView(e)||e instanceof ArrayBuffer}function sn(e){return e.constructor&&("Blob"===e.constructor.name||"File"===e.constructor.name)&&"function"===typeof e.stream}function un(e){return"object"===typeof e&&(e.path||e.content)}var cn=function(e){return e&&"function"===typeof e.getReader};function ln(e){return fn.apply(this,arguments)}function fn(){return(fn=(0,a.Z)((0,o.Z)().mark((function e(t){var n,r,i;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!an(t)){e.next=2;break}return e.abrupt("return",new Blob([t]));case 2:if(!("string"===typeof t||t instanceof String)){e.next=4;break}return e.abrupt("return",new Blob([t.toString()]));case 4:if(!sn(t)){e.next=6;break}return e.abrupt("return",t);case 6:if(cn(t)&&(t=(0,nn.Z)(t)),!(Symbol.iterator in t)&&!(Symbol.asyncIterator in t)){e.next=28;break}return n=tn(t),e.next=11,n.peek();case 11:if(r=e.sent,i=r.value,!r.done){e.next=16;break}return e.abrupt("return",hn(n));case 16:if(n.push(i),!Number.isInteger(i)){e.next=26;break}return e.t0=Blob,e.t1=Uint8Array,e.next=22,rn(n);case 22:return e.t2=e.sent,e.t3=e.t1.from.call(e.t1,e.t2),e.t4=[e.t3],e.abrupt("return",new e.t0(e.t4));case 26:if(!(an(i)||"string"===typeof i||i instanceof String)){e.next=28;break}return e.abrupt("return",hn(n));case 28:throw st()(new Error("Unexpected input: ".concat(t)),"ERR_UNEXPECTED_INPUT");case 29:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hn(e){return pn.apply(this,arguments)}function pn(){return(pn=(0,a.Z)((0,o.Z)().mark((function e(t){var n,r,i,a,s,u,c;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],r=!1,i=!1,e.prev=3,s=(0,Jt.Z)(t);case 5:return e.next=7,s.next();case 7:if(!(r=!(u=e.sent).done)){e.next=13;break}c=u.value,n.push(c);case 10:r=!1,e.next=5;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(3),i=!0,a=e.t0;case 19:if(e.prev=19,e.prev=20,!r||null==s.return){e.next=24;break}return e.next=24,s.return();case 24:if(e.prev=24,!i){e.next=27;break}throw a;case 27:return e.finish(24);case 28:return e.finish(19);case 29:return e.abrupt("return",new Blob(n));case 30:case"end":return e.stop()}}),e,null,[[3,15,19,29],[20,,24,28]])})))).apply(this,arguments)}var dn=n(39395),vn=n(9122),yn=n(59096);function gn(e,t){return mn.apply(this,arguments)}function mn(){return mn=(0,dn.Z)((0,o.Z)().mark((function e(t,n){var r,i,a,s,u,c;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=!1,i=!1,e.prev=2,s=(0,Jt.Z)(t);case 4:return e.next=6,(0,vn.Z)(s.next());case 6:if(!(r=!(u=e.sent).done)){e.next=13;break}return c=u.value,e.next=10,n(c);case 10:r=!1,e.next=4;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),i=!0,a=e.t0;case 19:if(e.prev=19,e.prev=20,!r||null==s.return){e.next=24;break}return e.next=24,(0,vn.Z)(s.return());case 24:if(e.prev=24,!i){e.next=27;break}throw a;case 27:return e.finish(24);case 28:return e.finish(19);case 29:case"end":return e.stop()}}),e,null,[[2,15,19,29],[20,,24,28]])}))),mn.apply(this,arguments)}var bn=n(31708),wn=n.n(bn),kn=wn().Reader,En=wn().Writer,xn=wn().util,_n=wn().roots["ipfs-unixfs"]||(wn().roots["ipfs-unixfs"]={});_n.Data=function(){function e(e){if(this.blocksizes=[],e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.Type=0,e.prototype.Data=xn.newBuffer([]),e.prototype.filesize=xn.Long?xn.Long.fromBits(0,0,!0):0,e.prototype.blocksizes=xn.emptyArray,e.prototype.hashType=xn.Long?xn.Long.fromBits(0,0,!0):0,e.prototype.fanout=xn.Long?xn.Long.fromBits(0,0,!0):0,e.prototype.mode=0,e.prototype.mtime=null,e.encode=function(e,t){if(t||(t=En.create()),t.uint32(8).int32(e.Type),null!=e.Data&&Object.hasOwnProperty.call(e,"Data")&&t.uint32(18).bytes(e.Data),null!=e.filesize&&Object.hasOwnProperty.call(e,"filesize")&&t.uint32(24).uint64(e.filesize),null!=e.blocksizes&&e.blocksizes.length)for(var n=0;n<e.blocksizes.length;++n)t.uint32(32).uint64(e.blocksizes[n]);return null!=e.hashType&&Object.hasOwnProperty.call(e,"hashType")&&t.uint32(40).uint64(e.hashType),null!=e.fanout&&Object.hasOwnProperty.call(e,"fanout")&&t.uint32(48).uint64(e.fanout),null!=e.mode&&Object.hasOwnProperty.call(e,"mode")&&t.uint32(56).uint32(e.mode),null!=e.mtime&&Object.hasOwnProperty.call(e,"mtime")&&_n.UnixTime.encode(e.mtime,t.uint32(66).fork()).ldelim(),t},e.decode=function(e,t){e instanceof kn||(e=kn.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new _n.Data;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.Type=e.int32();break;case 2:r.Data=e.bytes();break;case 3:r.filesize=e.uint64();break;case 4:if(r.blocksizes&&r.blocksizes.length||(r.blocksizes=[]),2===(7&i))for(var o=e.uint32()+e.pos;e.pos<o;)r.blocksizes.push(e.uint64());else r.blocksizes.push(e.uint64());break;case 5:r.hashType=e.uint64();break;case 6:r.fanout=e.uint64();break;case 7:r.mode=e.uint32();break;case 8:r.mtime=_n.UnixTime.decode(e,e.uint32());break;default:e.skipType(7&i)}}if(!r.hasOwnProperty("Type"))throw xn.ProtocolError("missing required 'Type'",{instance:r});return r},e.fromObject=function(e){if(e instanceof _n.Data)return e;var t=new _n.Data;switch(e.Type){case"Raw":case 0:t.Type=0;break;case"Directory":case 1:t.Type=1;break;case"File":case 2:t.Type=2;break;case"Metadata":case 3:t.Type=3;break;case"Symlink":case 4:t.Type=4;break;case"HAMTShard":case 5:t.Type=5}if(null!=e.Data&&("string"===typeof e.Data?xn.base64.decode(e.Data,t.Data=xn.newBuffer(xn.base64.length(e.Data)),0):e.Data.length&&(t.Data=e.Data)),null!=e.filesize&&(xn.Long?(t.filesize=xn.Long.fromValue(e.filesize)).unsigned=!0:"string"===typeof e.filesize?t.filesize=parseInt(e.filesize,10):"number"===typeof e.filesize?t.filesize=e.filesize:"object"===typeof e.filesize&&(t.filesize=new xn.LongBits(e.filesize.low>>>0,e.filesize.high>>>0).toNumber(!0))),e.blocksizes){if(!Array.isArray(e.blocksizes))throw TypeError(".Data.blocksizes: array expected");t.blocksizes=[];for(var n=0;n<e.blocksizes.length;++n)xn.Long?(t.blocksizes[n]=xn.Long.fromValue(e.blocksizes[n])).unsigned=!0:"string"===typeof e.blocksizes[n]?t.blocksizes[n]=parseInt(e.blocksizes[n],10):"number"===typeof e.blocksizes[n]?t.blocksizes[n]=e.blocksizes[n]:"object"===typeof e.blocksizes[n]&&(t.blocksizes[n]=new xn.LongBits(e.blocksizes[n].low>>>0,e.blocksizes[n].high>>>0).toNumber(!0))}if(null!=e.hashType&&(xn.Long?(t.hashType=xn.Long.fromValue(e.hashType)).unsigned=!0:"string"===typeof e.hashType?t.hashType=parseInt(e.hashType,10):"number"===typeof e.hashType?t.hashType=e.hashType:"object"===typeof e.hashType&&(t.hashType=new xn.LongBits(e.hashType.low>>>0,e.hashType.high>>>0).toNumber(!0))),null!=e.fanout&&(xn.Long?(t.fanout=xn.Long.fromValue(e.fanout)).unsigned=!0:"string"===typeof e.fanout?t.fanout=parseInt(e.fanout,10):"number"===typeof e.fanout?t.fanout=e.fanout:"object"===typeof e.fanout&&(t.fanout=new xn.LongBits(e.fanout.low>>>0,e.fanout.high>>>0).toNumber(!0))),null!=e.mode&&(t.mode=e.mode>>>0),null!=e.mtime){if("object"!==typeof e.mtime)throw TypeError(".Data.mtime: object expected");t.mtime=_n.UnixTime.fromObject(e.mtime)}return t},e.toObject=function(e,t){t||(t={});var n={};if((t.arrays||t.defaults)&&(n.blocksizes=[]),t.defaults){if(n.Type=t.enums===String?"Raw":0,t.bytes===String?n.Data="":(n.Data=[],t.bytes!==Array&&(n.Data=xn.newBuffer(n.Data))),xn.Long){var r=new xn.Long(0,0,!0);n.filesize=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.filesize=t.longs===String?"0":0;if(xn.Long){r=new xn.Long(0,0,!0);n.hashType=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.hashType=t.longs===String?"0":0;if(xn.Long){r=new xn.Long(0,0,!0);n.fanout=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.fanout=t.longs===String?"0":0;n.mode=0,n.mtime=null}if(null!=e.Type&&e.hasOwnProperty("Type")&&(n.Type=t.enums===String?_n.Data.DataType[e.Type]:e.Type),null!=e.Data&&e.hasOwnProperty("Data")&&(n.Data=t.bytes===String?xn.base64.encode(e.Data,0,e.Data.length):t.bytes===Array?Array.prototype.slice.call(e.Data):e.Data),null!=e.filesize&&e.hasOwnProperty("filesize")&&("number"===typeof e.filesize?n.filesize=t.longs===String?String(e.filesize):e.filesize:n.filesize=t.longs===String?xn.Long.prototype.toString.call(e.filesize):t.longs===Number?new xn.LongBits(e.filesize.low>>>0,e.filesize.high>>>0).toNumber(!0):e.filesize),e.blocksizes&&e.blocksizes.length){n.blocksizes=[];for(var i=0;i<e.blocksizes.length;++i)"number"===typeof e.blocksizes[i]?n.blocksizes[i]=t.longs===String?String(e.blocksizes[i]):e.blocksizes[i]:n.blocksizes[i]=t.longs===String?xn.Long.prototype.toString.call(e.blocksizes[i]):t.longs===Number?new xn.LongBits(e.blocksizes[i].low>>>0,e.blocksizes[i].high>>>0).toNumber(!0):e.blocksizes[i]}return null!=e.hashType&&e.hasOwnProperty("hashType")&&("number"===typeof e.hashType?n.hashType=t.longs===String?String(e.hashType):e.hashType:n.hashType=t.longs===String?xn.Long.prototype.toString.call(e.hashType):t.longs===Number?new xn.LongBits(e.hashType.low>>>0,e.hashType.high>>>0).toNumber(!0):e.hashType),null!=e.fanout&&e.hasOwnProperty("fanout")&&("number"===typeof e.fanout?n.fanout=t.longs===String?String(e.fanout):e.fanout:n.fanout=t.longs===String?xn.Long.prototype.toString.call(e.fanout):t.longs===Number?new xn.LongBits(e.fanout.low>>>0,e.fanout.high>>>0).toNumber(!0):e.fanout),null!=e.mode&&e.hasOwnProperty("mode")&&(n.mode=e.mode),null!=e.mtime&&e.hasOwnProperty("mtime")&&(n.mtime=_n.UnixTime.toObject(e.mtime,t)),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,wn().util.toJSONOptions)},e.DataType=function(){var e={},t=Object.create(e);return t[e[0]="Raw"]=0,t[e[1]="Directory"]=1,t[e[2]="File"]=2,t[e[3]="Metadata"]=3,t[e[4]="Symlink"]=4,t[e[5]="HAMTShard"]=5,t}(),e}(),_n.UnixTime=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.Seconds=xn.Long?xn.Long.fromBits(0,0,!1):0,e.prototype.FractionalNanoseconds=0,e.encode=function(e,t){return t||(t=En.create()),t.uint32(8).int64(e.Seconds),null!=e.FractionalNanoseconds&&Object.hasOwnProperty.call(e,"FractionalNanoseconds")&&t.uint32(21).fixed32(e.FractionalNanoseconds),t},e.decode=function(e,t){e instanceof kn||(e=kn.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new _n.UnixTime;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.Seconds=e.int64();break;case 2:r.FractionalNanoseconds=e.fixed32();break;default:e.skipType(7&i)}}if(!r.hasOwnProperty("Seconds"))throw xn.ProtocolError("missing required 'Seconds'",{instance:r});return r},e.fromObject=function(e){if(e instanceof _n.UnixTime)return e;var t=new _n.UnixTime;return null!=e.Seconds&&(xn.Long?(t.Seconds=xn.Long.fromValue(e.Seconds)).unsigned=!1:"string"===typeof e.Seconds?t.Seconds=parseInt(e.Seconds,10):"number"===typeof e.Seconds?t.Seconds=e.Seconds:"object"===typeof e.Seconds&&(t.Seconds=new xn.LongBits(e.Seconds.low>>>0,e.Seconds.high>>>0).toNumber())),null!=e.FractionalNanoseconds&&(t.FractionalNanoseconds=e.FractionalNanoseconds>>>0),t},e.toObject=function(e,t){t||(t={});var n={};if(t.defaults){if(xn.Long){var r=new xn.Long(0,0,!1);n.Seconds=t.longs===String?r.toString():t.longs===Number?r.toNumber():r}else n.Seconds=t.longs===String?"0":0;n.FractionalNanoseconds=0}return null!=e.Seconds&&e.hasOwnProperty("Seconds")&&("number"===typeof e.Seconds?n.Seconds=t.longs===String?String(e.Seconds):e.Seconds:n.Seconds=t.longs===String?xn.Long.prototype.toString.call(e.Seconds):t.longs===Number?new xn.LongBits(e.Seconds.low>>>0,e.Seconds.high>>>0).toNumber():e.Seconds),null!=e.FractionalNanoseconds&&e.hasOwnProperty("FractionalNanoseconds")&&(n.FractionalNanoseconds=e.FractionalNanoseconds),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,wn().util.toJSONOptions)},e}(),_n.Metadata=function(){function e(e){if(e)for(var t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}return e.prototype.MimeType="",e.encode=function(e,t){return t||(t=En.create()),null!=e.MimeType&&Object.hasOwnProperty.call(e,"MimeType")&&t.uint32(10).string(e.MimeType),t},e.decode=function(e,t){e instanceof kn||(e=kn.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new _n.Metadata;e.pos<n;){var i=e.uint32();if(i>>>3===1)r.MimeType=e.string();else e.skipType(7&i)}return r},e.fromObject=function(e){if(e instanceof _n.Metadata)return e;var t=new _n.Metadata;return null!=e.MimeType&&(t.MimeType=String(e.MimeType)),t},e.toObject=function(e,t){t||(t={});var n={};return t.defaults&&(n.MimeType=""),null!=e.MimeType&&e.hasOwnProperty("MimeType")&&(n.MimeType=e.MimeType),n},e.prototype.toJSON=function(){return this.constructor.toObject(this,wn().util.toJSONOptions)},e}(),parseInt("0644",8),parseInt("0755",8);function Sn(e){if(null!=e)return"number"===typeof e?4095&e:"0"===(e=e.toString()).substring(0,1)?4095&parseInt(e,8):4095&parseInt(e,10)}function An(e){if(null!=e){var t;if(null!=e.secs&&(t={secs:e.secs,nsecs:e.nsecs}),null!=e.Seconds&&(t={secs:e.Seconds,nsecs:e.FractionalNanoseconds}),Array.isArray(e)&&(t={secs:e[0],nsecs:e[1]}),e instanceof Date){var n=e.getTime(),r=Math.floor(n/1e3);t={secs:r,nsecs:1e3*(n-1e3*r)}}if(Object.prototype.hasOwnProperty.call(t,"secs")){if(null!=t&&null!=t.nsecs&&(t.nsecs<0||t.nsecs>999999999))throw st()(new Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return t}}}function Zn(){return Zn=(0,dn.Z)((0,o.Z)().mark((function e(t,n){var r,i,a;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("string"===typeof t||t instanceof String||an(t)||sn(t)||t._readableState)){e.next=2;break}throw st()(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");case 2:if(cn(t)&&(t=(0,nn.Z)(t)),!(Symbol.iterator in t)&&!(Symbol.asyncIterator in t)){e.next=26;break}return r=tn(t),e.next=7,(0,vn.Z)(r.peek());case 7:if(i=e.sent,a=i.value,!i.done){e.next=13;break}return e.delegateYield((0,yn.Z)((0,Jt.Z)([]),vn.Z),"t0",12);case 12:case 18:case 22:case 25:return e.abrupt("return");case 13:if(r.push(a),!Number.isInteger(a)){e.next=16;break}throw st()(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");case 16:if(!a._readableState){e.next=19;break}return e.delegateYield((0,yn.Z)((0,Jt.Z)(gn(r,(function(e){return Tn({content:e},n)}))),vn.Z),"t1",18);case 19:if(!an(a)){e.next=23;break}return e.next=22,Tn({content:r},n);case 23:if(!(un(a)||a[Symbol.iterator]||a[Symbol.asyncIterator]||cn(a)||sn(a))){e.next=26;break}return e.delegateYield((0,yn.Z)((0,Jt.Z)(gn(r,(function(e){return Tn(e,n)}))),vn.Z),"t2",25);case 26:if(!un(t)){e.next=28;break}throw st()(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");case 28:throw st()(new Error("Unexpected input: "+typeof t),"ERR_UNEXPECTED_INPUT");case 29:case"end":return e.stop()}}),e)}))),Zn.apply(this,arguments)}function Tn(e,t){return Cn.apply(this,arguments)}function Cn(){return Cn=(0,a.Z)((0,o.Z)().mark((function e(t,n){var r,i,a,s,u;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.path,i=t.mode,a=t.mtime,s=t.content,u={path:r||"",mode:Sn(i),mtime:An(a)},!s){e.next=8;break}return e.next=5,n(s);case 5:u.content=e.sent,e.next=12;break;case 8:if(r){e.next=12;break}return e.next=11,n(t);case 11:u.content=e.sent;case 12:return e.abrupt("return",u);case 13:case"end":return e.stop()}}),e)}))),Cn.apply(this,arguments)}function In(e){return function(e,t){return Zn.apply(this,arguments)}(e,ln,!0)}function Dn(e){if(null!=e)return"string"===typeof e?e:e.toString(8).padStart(4,"0")}function On(e,t){return Rn.apply(this,arguments)}function Rn(){return Rn=(0,a.Z)((0,o.Z)().mark((function e(t,n){var r,i,a,s,u,c,l,f,h,p,d,v,y,g,m,b,w,k,E,x,_,S,A=arguments;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=A.length>2&&void 0!==A[2]?A[2]:{},i=[],a=new FormData,s=0,u=0,c=!1,l=!1,e.prev=7,h=(0,Jt.Z)(In(t));case 9:return e.next=11,h.next();case 11:if(!(c=!(p=e.sent).done)){e.next=37;break}if(d=p.value,v=d.content,y=d.path,g=d.mode,m=d.mtime,b="",w=v?"file":"dir",s>0&&(b="-".concat(s)),k=w+b,E=[],null!==g&&void 0!==g&&E.push("mode=".concat(Dn(g))),null!=m&&(x=m.secs,_=m.nsecs,E.push("mtime=".concat(x)),null!=_&&E.push("mtime-nsecs=".concat(_))),E.length&&(k="".concat(k,"?").concat(E.join("&"))),!v){e.next=28;break}a.set(k,v,null!=y?encodeURIComponent(y):void 0),S=u+v.size,i.push({name:y,start:u,end:S}),u=S,e.next=33;break;case 28:if(null==y){e.next=32;break}a.set(k,new File([""],encodeURIComponent(y),{type:"application/x-directory"})),e.next=33;break;case 32:throw new Error("path or content or both must be set");case 33:s++;case 34:c=!1,e.next=9;break;case 37:e.next=43;break;case 39:e.prev=39,e.t0=e.catch(7),l=!0,f=e.t0;case 43:if(e.prev=43,e.prev=44,!c||null==h.return){e.next=48;break}return e.next=48,h.return();case 48:if(e.prev=48,!l){e.next=51;break}throw f;case 51:return e.finish(48);case 52:return e.finish(43);case 53:return e.abrupt("return",{total:u,parts:i,headers:r,body:a});case 54:case"end":return e.stop()}}),e,null,[[7,39,43,53],[44,,48,52]])}))),Rn.apply(this,arguments)}var Pn=n(64736);function Ln(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,Pn.anySignal)(function(e){return e.filter(Boolean)}(t))}var Nn=Ut((function(e,t){function n(e){return r.apply(this,arguments)}function r(){return r=(0,a.Z)((0,o.Z)().mark((function t(r){var i,a,s,u,c,l=arguments;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=l.length>1&&void 0!==l[1]?l[1]:{},a=new AbortController,s=Ln(a.signal,i.signal),t.prev=3,t.t0=e,t.t1=pe.Z,t.t2={signal:s,searchParams:Kt(i)},t.next=9,On([r],a,i.headers);case 9:return t.t3=t.sent,t.t4=(0,t.t1)(t.t2,t.t3),t.next=13,t.t0.post.call(t.t0,"block/put",t.t4);case 13:return c=t.sent,t.next=16,c.json();case 16:u=t.sent,t.next=28;break;case 19:if(t.prev=19,t.t5=t.catch(3),"dag-pb"!==i.format){t.next=25;break}return t.abrupt("return",n(r,(0,pe.Z)((0,pe.Z)({},i),{},{format:"protobuf"})));case 25:if("dag-cbor"!==i.format){t.next=27;break}return t.abrupt("return",n(r,(0,pe.Z)((0,pe.Z)({},i),{},{format:"cbor"})));case 27:throw t.t5;case 28:return t.abrupt("return",y.CID.parse(u.Key));case 29:case"end":return t.stop()}}),t,null,[[3,19]])}))),r.apply(this,arguments)}return n})),Bn=Ut((function(e){function t(){return t=(0,dn.Z)((function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.Z)().mark((function r(){var i,a,s,u,c,l,f;return(0,o.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return Array.isArray(t)||(t=[t]),r.next=3,(0,vn.Z)(e.post("block/rm",{signal:n.signal,searchParams:Kt((0,pe.Z)({arg:t.map((function(e){return e.toString()})),"stream-channels":!0},n)),headers:n.headers}));case 3:i=r.sent,a=!1,s=!1,r.prev=6,c=(0,Jt.Z)(i.ndjson());case 8:return r.next=10,(0,vn.Z)(c.next());case 10:if(!(a=!(l=r.sent).done)){r.next=17;break}return f=l.value,r.next=14,Mn(f);case 14:a=!1,r.next=8;break;case 17:r.next=23;break;case 19:r.prev=19,r.t0=r.catch(6),s=!0,u=r.t0;case 23:if(r.prev=23,r.prev=24,!a||null==c.return){r.next=28;break}return r.next=28,(0,vn.Z)(c.return());case 28:if(r.prev=28,!s){r.next=31;break}throw u;case 31:return r.finish(28);case 32:return r.finish(23);case 33:case"end":return r.stop()}}),r,null,[[6,19,23,33],[24,,28,32]])}))()})),t.apply(this,arguments)}return function(e){return t.apply(this,arguments)}}));function Mn(e){var t={cid:y.CID.parse(e.Hash)};return e.Error&&(t.error=new Error(e.Error)),t}var Fn=Ut((function(e){function t(){return t=(0,a.Z)((0,o.Z)().mark((function t(n){var r,i,a,s=arguments;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},t.next=3,e.post("block/stat",{signal:r.signal,searchParams:Kt((0,pe.Z)({arg:n.toString()},r)),headers:r.headers});case 3:return i=t.sent,t.next=6,i.json();case 6:return a=t.sent,t.abrupt("return",{cid:y.CID.parse(a.Key),size:a.Size});case 8:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}return function(e){return t.apply(this,arguments)}}));function jn(e){return{get:$t(e),put:Nn(e),rm:Bn(e),stat:Fn(e)}}var Un=Ut((function(e){function t(){return t=(0,a.Z)((0,o.Z)().mark((function t(n){var r,i,a,s,u=arguments;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},t.next=3,e.post("bootstrap/add",{signal:r.signal,searchParams:Kt((0,pe.Z)({arg:n},r)),headers:r.headers});case 3:return i=t.sent,t.next=6,i.json();case 6:return a=t.sent,s=a.Peers,t.abrupt("return",{Peers:s.map((function(e){return wt(e)}))});case 9:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}return function(e){return t.apply(this,arguments)}})),zn=Ut((function(e){function t(){return t=(0,a.Z)((0,o.Z)().mark((function t(){var n,r,i,a,s=arguments;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=s.length>0&&void 0!==s[0]?s[0]:{},t.next=3,e.post("bootstrap/list",{signal:n.signal,searchParams:Kt(n),headers:n.headers});case 3:return r=t.sent,t.next=6,r.json();case 6:return i=t.sent,a=i.Peers,t.abrupt("return",{Peers:a.map((function(e){return wt(e)}))});case 9:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}return function(){return t.apply(this,arguments)}})),Hn=Ut((function(e){function t(){return t=(0,a.Z)((0,o.Z)().mark((function t(n){var r,i,a,s,u=arguments;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},t.next=3,e.post("bootstrap/rm",{signal:r.signal,searchParams:Kt((0,pe.Z)({arg:n},r)),headers:r.headers});case 3:return i=t.sent,t.next=6,i.json();case 6:return a=t.sent,s=a.Peers,t.abrupt("return",{Peers:s.map((function(e){return wt(e)}))});case 9:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}return function(e){return t.apply(this,arguments)}}));function Vn(e){return{add:Un(e),list:zn(e),rm:Hn(e)}}var Gn=Ut((function(e){function t(){return t=(0,a.Z)((0,o.Z)().mark((function t(n){var r,i,a,s=arguments;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},t.next=3,e.post("config/profile/apply",{signal:r.signal,searchParams:Kt((0,pe.Z)({arg:n},r)),headers:r.headers});case 3:return i=t.sent,t.next=6,i.json();case 6:return a=t.sent,t.abrupt("return",{original:a.OldCfg,updated:a.NewCfg});case 8:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}return function(e){return t.apply(this,arguments)}}));function Kn(e){return{apply:Gn(e)}}var Wn=Ut((function(e){var t=function(){var t=(0,a.Z)((0,o.Z)().mark((function t(n){var r,i,a,s=arguments;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=s.length>1&&void 0!==s[1]?s[1]:{},n){t.next=3;break}throw new Error("key argument is required");case 3:return t.next=5,e.post("config",{signal:r.signal,searchParams:Kt((0,pe.Z)({arg:n},r)),headers:r.headers});case 5:return i=t.sent,t.next=8,i.json();case 8:return a=t.sent,t.abrupt("return",a.Value);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return t})),qn=Ut((function(e){var t=function(){var t=(0,a.Z)((0,o.Z)().mark((function t(){var n,r,i,a=arguments;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:{},t.next=3,e.post("config/show",{signal:n.signal,searchParams:Kt((0,pe.Z)({},n)),headers:n.headers});case 3:return r=t.sent,t.next=6,r.json();case 6:return i=t.sent,t.abrupt("return",i);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return t}));function Yn(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function Qn(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}var Xn=Qn("utf8","u",(function(e){return"u"+new TextDecoder("utf8").decode(e)}),(function(e){return(new TextEncoder).encode(e.substring(1))})),$n=Qn("ascii","a",(function(e){for(var t="a",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}),(function(e){for(var t=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return null!=(null===(e=globalThis.Buffer)||void 0===e?void 0:e.allocUnsafe)?Yn(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}((e=e.substring(1)).length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t})),Jn=(0,pe.Z)({utf8:Xn,"utf-8":Xn,hex:ce.gh.base16,latin1:$n,ascii:$n,binary:$n},ce.gh);function er(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8",n=Jn[t];if(null==n)throw new Error('Unsupported encoding "'.concat(t,'"'));return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.decoder.decode("".concat(n.prefix).concat(e)):Yn(globalThis.Buffer.from(e,"utf-8"))}var tr=Ut((function(e){var t=function(){var t=(0,a.Z)((0,o.Z)().mark((function t(n){var r,i,a,s,u=arguments;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},i=new AbortController,a=Ln(i.signal,r.signal),t.t0=e,t.t1=pe.Z,t.t2={signal:a,searchParams:Kt(r)},t.next=8,On([er(JSON.stringify(n))],i,r.headers);case 8:return t.t3=t.sent,t.t4=(0,t.t1)(t.t2,t.t3),t.next=12,t.t0.post.call(t.t0,"config/replace",t.t4);case 12:return s=t.sent,t.next=15,s.text();case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return t})),nr=Ut((function(e){var t=function(){var t=(0,a.Z)((0,o.Z)().mark((function t(n,r){var i,a,s,u=arguments;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=u.length>2&&void 0!==u[2]?u[2]:{},"string"===typeof n){t.next=3;break}throw new Error("Invalid key type");case 3:return a=(0,pe.Z)((0,pe.Z)({},i),rr(n,r)),t.next=6,e.post("config",{signal:i.signal,searchParams:Kt(a),headers:i.headers});case 6:return s=t.sent,t.next=9,s.text();case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return t})),rr=function(e,t){switch(typeof t){case"boolean":return{arg:[e,t.toString()],bool:!0};case"string":return{arg:[e,t]};default:return{arg:[e,JSON.stringify(t)],json:!0}}};function ir(e){return{getAll:qn(e),get:Wn(e),set:nr(e),replace:tr(e),profiles:Kn(e)}}var or=Ut((function(e){function t(){return t=(0,dn.Z)((function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.Z)().mark((function r(){var i;return(0,o.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,vn.Z)(e.post("dag/export",{signal:n.signal,searchParams:Kt({arg:t.toString()}),headers:n.headers}));case 2:return i=r.sent,r.delegateYield((0,yn.Z)((0,Jt.Z)(i.iterator()),vn.Z),"t0",4);case 4:case"end":return r.stop()}}),r)}))()})),t.apply(this,arguments)}return function(e){return t.apply(this,arguments)}}));function ar(e,t,n,r,i){return sr.apply(this,arguments)}function sr(){return sr=(0,dn.Z)((0,o.Z)().mark((function e(t,n,r,i,s){var u,c,l,f,h,p;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(t){var n,a;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getCodec(t.code);case 2:return n=e.sent,e.next=5,i(t,s);case 5:return a=e.sent,e.abrupt("return",n.decode(a));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=n.split("/").filter(Boolean),e.next=4,(0,vn.Z)(u(t));case 4:l=e.sent,f=t;case 6:if(!c.length){e.next=25;break}if(h=c.shift()){e.next=10;break}throw st()(new Error('Could not resolve path "'.concat(n,'"')),"ERR_INVALID_PATH");case 10:if(!Object.prototype.hasOwnProperty.call(l,h)){e.next=16;break}return l=l[h],e.next=14,{value:l,remainderPath:c.join("/")};case 14:e.next=17;break;case 16:throw st()(new Error('no link named "'.concat(h,'" under ').concat(f)),"ERR_NO_LINK");case 17:if(!(p=y.CID.asCID(l))){e.next=23;break}return f=p,e.next=22,(0,vn.Z)(u(l));case 22:l=e.sent;case 23:e.next=6;break;case 25:return e.next=27,{value:l,remainderPath:""};case 27:case"end":return e.stop()}}),e)}))),sr.apply(this,arguments)}function ur(e){return cr.apply(this,arguments)}function cr(){return cr=(0,a.Z)((0,o.Z)().mark((function e(t){var n,r,i,a,s,u;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=!1,r=!1,e.prev=2,a=(0,Jt.Z)(t);case 4:return e.next=6,a.next();case 6:if(!(n=!(s=e.sent).done)){e.next=12;break}return u=s.value,e.abrupt("return",u);case 9:n=!1,e.next=4;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),r=!0,i=e.t0;case 18:if(e.prev=18,e.prev=19,!n||null==a.return){e.next=23;break}return e.next=23,a.return();case 23:if(e.prev=23,!r){e.next=26;break}throw i;case 26:return e.finish(23);case 27:return e.finish(18);case 28:return e.abrupt("return",void 0);case 29:case"end":return e.stop()}}),e,null,[[2,14,18,28],[19,,23,27]])}))),cr.apply(this,arguments)}function lr(e){return fr.apply(this,arguments)}function fr(){return fr=(0,a.Z)((0,o.Z)().mark((function e(t){var n,r,i,a,s,u,c;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=!1,i=!1,e.prev=2,s=(0,Jt.Z)(t);case 4:return e.next=6,s.next();case 6:if(!(r=!(u=e.sent).done)){e.next=12;break}c=u.value,n=c;case 9:r=!1,e.next=4;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),i=!0,a=e.t0;case 18:if(e.prev=18,e.prev=19,!r||null==s.return){e.next=23;break}return e.next=23,s.return();case 23:if(e.prev=23,!i){e.next=26;break}throw a;case 26:return e.finish(23);case 27:return e.finish(18);case 28:return e.abrupt("return",n);case 29:case"end":return e.stop()}}),e,null,[[2,14,18,28],[19,,23,27]])}))),fr.apply(this,arguments)}var hr=function(e,t){var n=Ut((function(t,n){var r=$t(n),i=function(){var t=(0,a.Z)((0,o.Z)().mark((function t(n){var i,a,s,u,c,l,f=arguments;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(i=f.length>1&&void 0!==f[1]?f[1]:{}).path){t.next=16;break}if(!i.localResolve){t.next=8;break}return t.next=5,ur(ar(n,i.path,e,r,i));case 5:t.t0=t.sent,t.next=11;break;case 8:return t.next=10,lr(ar(n,i.path,e,r,i));case 10:t.t0=t.sent;case 11:if(a=t.t0,s=a){t.next=15;break}throw st()(new Error("Not found"),"ERR_NOT_FOUND");case 15:return t.abrupt("return",s);case 16:return t.next=18,e.getCodec(n.code);case 18:return u=t.sent,t.next=21,r(n,i);case 21:return c=t.sent,l=u.decode(c),t.abrupt("return",{value:l,remainderPath:""});case 24:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return i}));return n(t)},pr=Ut((function(e){function t(){return t=(0,dn.Z)((function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.Z)().mark((function r(){var i,a,s,u,c,l,f,h,p,d,v,g,m,b;return(0,o.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=new AbortController,a=Ln(i.signal,n.signal),r.next=4,(0,vn.Z)(On(t,i,n.headers));case 4:return s=r.sent,u=s.headers,c=s.body,r.next=9,(0,vn.Z)(e.post("dag/import",{signal:a,headers:u,body:c,searchParams:Kt({"pin-roots":n.pinRoots})}));case 9:l=r.sent,f=!1,h=!1,r.prev=12,d=(0,Jt.Z)(l.ndjson());case 14:return r.next=16,(0,vn.Z)(d.next());case 16:if(!(f=!(v=r.sent).done)){r.next=25;break}if(void 0===(g=v.value.Root)){r.next=22;break}return m=g.Cid["/"],b=g.PinErrorMsg,r.next=22,{root:{cid:y.CID.parse(m),pinErrorMsg:b}};case 22:f=!1,r.next=14;break;case 25:r.next=31;break;case 27:r.prev=27,r.t0=r.catch(12),h=!0,p=r.t0;case 31:if(r.prev=31,r.prev=32,!f||null==d.return){r.next=36;break}return r.next=36,(0,vn.Z)(d.return());case 36:if(r.prev=36,!h){r.next=39;break}throw p;case 39:return r.finish(36);case 40:return r.finish(31);case 41:case"end":return r.stop()}}),r,null,[[12,27,31,41],[32,,36,40]])}))()})),t.apply(this,arguments)}return function(e){return t.apply(this,arguments)}})),dr=function(e,t){var n=Ut((function(t){var n=function(){var n=(0,a.Z)((0,o.Z)().mark((function n(r){var i,a,s,u,c,l,f,h,p=arguments;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=p.length>1&&void 0!==p[1]?p[1]:{},!(a=(0,pe.Z)({storeCodec:"dag-cbor",hashAlg:"sha2-256"},i)).inputCodec){n.next=8;break}if(r instanceof Uint8Array){n.next=5;break}throw new Error("Can only inputCodec on raw bytes that can be decoded");case 5:s=r,n.next=13;break;case 8:return n.next=10,e.getCodec(a.storeCodec);case 10:u=n.sent,s=u.encode(r),a.inputCodec=a.storeCodec;case 13:return c=new AbortController,l=Ln(c.signal,a.signal),n.t0=t,n.t1=pe.Z,n.t2={timeout:a.timeout,signal:l,searchParams:Kt(a)},n.next=20,On([s],c,a.headers);case 20:return n.t3=n.sent,n.t4=(0,n.t1)(n.t2,n.t3),n.next=24,n.t0.post.call(n.t0,"dag/put",n.t4);case 24:return f=n.sent,n.next=27,f.json();case 27:return h=n.sent,n.abrupt("return",y.CID.parse(h.Cid["/"]));case 29:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return n}));return n(t)},vr=Ut((function(e){var t=function(){var t=(0,a.Z)((0,o.Z)().mark((function t(n){var r,i,a,s=arguments;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},t.next=3,e.post("dag/resolve",{signal:r.signal,searchParams:Kt((0,pe.Z)({arg:"".concat(n).concat(r.path?"/".concat(r.path).replace(/\/[/]+/g,"/"):"")},r)),headers:r.headers});case 3:return i=t.sent,t.next=6,i.json();case 6:return a=t.sent,t.abrupt("return",{cid:y.CID.parse(a.Cid["/"]),remainderPath:a.RemPath});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return t}));function yr(e,t){return{export:or(t),get:hr(e,t),import:pr(t),put:dr(e,t),resolve:vr(t)}}var gr=function(e){if(0===e.Type)return{name:"SENDING_QUERY",type:e.Type};if(1===e.Type)return{from:(0,Yt.jE)(e.ID),name:"PEER_RESPONSE",type:e.Type,messageType:0,messageName:"PUT_VALUE",closer:(e.Responses||[]).map((function(e){var t=e.ID,n=e.Addrs;return{id:(0,Yt.jE)(t),multiaddrs:n.map((function(e){return wt(e)})),protocols:[]}})),providers:(e.Responses||[]).map((function(e){var t=e.ID,n=e.Addrs;return{id:(0,Yt.jE)(t),multiaddrs:n.map((function(e){return wt(e)})),protocols:[]}}))};if(2===e.Type){var t,n={id:null!==(t=e.ID)&&void 0!==t?t:(0,Yt.jE)(e.ID),multiaddrs:[],protocols:[]};return e.Responses&&e.Responses.length&&(n={id:(0,Yt.jE)(e.Responses[0].ID),multiaddrs:e.Responses[0].Addrs.map((function(e){return wt(e)})),protocols:[]}),{name:"FINAL_PEER",type:e.Type,peer:n}}if(3===e.Type)return{name:"QUERY_ERROR",type:e.Type,error:new Error(e.Extra)};if(4===e.Type)return{name:"PROVIDER",type:e.Type,providers:e.Responses.map((function(e){var t=e.ID,n=e.Addrs;return{id:(0,Yt.jE)(t),multiaddrs:n.map((function(e){return wt(e)})),protocols:[]}}))};if(5===e.Type)return{name:"VALUE",type:e.Type,value:er(e.Extra,"base64pad")};if(6===e.Type){var r=e.Responses.map((function(e){var t=e.ID;return(0,Yt.jE)(t)}));if(!r.length)throw new Error("No peer found");return{name:"ADDING_PEER",type:e.Type,peer:r[0]}}if(7===e.Type)return{name:"DIALING_PEER",type:e.Type,peer:(0,Yt.jE)(e.ID)};throw new Error("Unknown DHT event type")},mr=Ut((function(e){function t(){return t=(0,dn.Z)((function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.Z)().mark((function r(){var i,a,s,u,c,l,f;return(0,o.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,vn.Z)(e.post("dht/findpeer",{signal:n.signal,searchParams:Kt((0,pe.Z)({arg:t},n)),headers:n.headers}));case 2:i=r.sent,a=!1,s=!1,r.prev=5,c=(0,Jt.Z)(i.ndjson());case 7:return r.next=9,(0,vn.Z)(c.next());case 9:if(!(a=!(l=r.sent).done)){r.next=16;break}return f=l.value,r.next=13,gr(f);case 13:a=!1,r.next=7;break;case 16:r.next=22;break;case 18:r.prev=18,r.t0=r.catch(5),s=!0,u=r.t0;case 22:if(r.prev=22,r.prev=23,!a||null==c.return){r.next=27;break}return r.next=27,(0,vn.Z)(c.return());case 27:if(r.prev=27,!s){r.next=30;break}throw u;case 30:return r.finish(27);case 31:return r.finish(22);case 32:case"end":return r.stop()}}),r,null,[[5,18,22,32],[23,,27,31]])}))()})),t.apply(this,arguments)}return function(e){return t.apply(this,arguments)}})),br=Ut((function(e){function t(){return t=(0,dn.Z)((function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.Z)().mark((function r(){var i,a,s,u,c,l,f;return(0,o.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,vn.Z)(e.post("dht/findprovs",{signal:n.signal,searchParams:Kt((0,pe.Z)({arg:t.toString()},n)),headers:n.headers}));case 2:i=r.sent,a=!1,s=!1,r.prev=5,c=(0,Jt.Z)(i.ndjson());case 7:return r.next=9,(0,vn.Z)(c.next());case 9:if(!(a=!(l=r.sent).done)){r.next=16;break}return f=l.value,r.next=13,gr(f);case 13:a=!1,r.next=7;break;case 16:r.next=22;break;case 18:r.prev=18,r.t0=r.catch(5),s=!0,u=r.t0;case 22:if(r.prev=22,r.prev=23,!a||null==c.return){r.next=27;break}return r.next=27,(0,vn.Z)(c.return());case 27:if(r.prev=27,!s){r.next=30;break}throw u;case 30:return r.finish(27);case 31:return r.finish(22);case 32:case"end":return r.stop()}}),r,null,[[5,18,22,32],[23,,27,31]])}))()})),t.apply(this,arguments)}return function(e){return t.apply(this,arguments)}}));function wr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8",n=Jn[t];if(null==n)throw new Error('Unsupported encoding "'.concat(t,'"'));return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?n.encoder.encode(e).substring(1):globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8")}var kr=Ut((function(e){function t(){return t=(0,dn.Z)((function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.Z)().mark((function r(){var i,a,s,u,c,l,f;return(0,o.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,vn.Z)(e.post("dht/get",{signal:n.signal,searchParams:Kt((0,pe.Z)({arg:t instanceof Uint8Array?wr(t):t.toString()},n)),headers:n.headers}));case 2:i=r.sent,a=!1,s=!1,r.prev=5,c=(0,Jt.Z)(i.ndjson());case 7:return r.next=9,(0,vn.Z)(c.next());case 9:if(!(a=!(l=r.sent).done)){r.next=16;break}return f=l.value,r.next=13,gr(f);case 13:a=!1,r.next=7;break;case 16:r.next=22;break;case 18:r.prev=18,r.t0=r.catch(5),s=!0,u=r.t0;case 22:if(r.prev=22,r.prev=23,!a||null==c.return){r.next=27;break}return r.next=27,(0,vn.Z)(c.return());case 27:if(r.prev=27,!s){r.next=30;break}throw u;case 30:return r.finish(27);case 31:return r.finish(22);case 32:case"end":return r.stop()}}),r,null,[[5,18,22,32],[23,,27,31]])}))()})),t.apply(this,arguments)}return function(e){return t.apply(this,arguments)}})),Er=Ut((function(e){function t(){return t=(0,dn.Z)((function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{recursive:!1};return(0,o.Z)().mark((function r(){var i,a,s,u,c,l,f,h;return(0,o.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=Array.isArray(t)?t:[t],r.next=3,(0,vn.Z)(e.post("dht/provide",{signal:n.signal,searchParams:Kt((0,pe.Z)({arg:i.map((function(e){return e.toString()}))},n)),headers:n.headers}));case 3:a=r.sent,s=!1,u=!1,r.prev=6,l=(0,Jt.Z)(a.ndjson());case 8:return r.next=10,(0,vn.Z)(l.next());case 10:if(!(s=!(f=r.sent).done)){r.next=17;break}return h=f.value,r.next=14,gr(h);case 14:s=!1,r.next=8;break;case 17:r.next=23;break;case 19:r.prev=19,r.t0=r.catch(6),u=!0,c=r.t0;case 23:if(r.prev=23,r.prev=24,!s||null==l.return){r.next=28;break}return r.next=28,(0,vn.Z)(l.return());case 28:if(r.prev=28,!u){r.next=31;break}throw c;case 31:return r.finish(28);case 32:return r.finish(23);case 33:case"end":return r.stop()}}),r,null,[[6,19,23,33],[24,,28,32]])}))()})),t.apply(this,arguments)}return function(e){return t.apply(this,arguments)}})),xr=Ut((function(e){function t(){return t=(0,dn.Z)((function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,o.Z)().mark((function i(){var a,s,u,c,l,f,h,p,d;return(0,o.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return a=new AbortController,s=Ln(a.signal,r.signal),i.t0=vn.Z,i.t1=e,i.t2=pe.Z,i.t3={signal:s,searchParams:Kt((0,pe.Z)({arg:t instanceof Uint8Array?wr(t):t.toString()},r))},i.next=8,(0,vn.Z)(On([n],a,r.headers));case 8:return i.t4=i.sent,i.t5=(0,i.t2)(i.t3,i.t4),i.t6=i.t1.post.call(i.t1,"dht/put",i.t5),i.next=13,(0,i.t0)(i.t6);case 13:u=i.sent,c=!1,l=!1,i.prev=16,h=(0,Jt.Z)(u.ndjson());case 18:return i.next=20,(0,vn.Z)(h.next());case 20:if(!(c=!(p=i.sent).done)){i.next=27;break}return d=p.value,i.next=24,gr(d);case 24:c=!1,i.next=18;break;case 27:i.next=33;break;case 29:i.prev=29,i.t7=i.catch(16),l=!0,f=i.t7;case 33:if(i.prev=33,i.prev=34,!c||null==h.return){i.next=38;break}return i.next=38,(0,vn.Z)(h.return());case 38:if(i.prev=38,!l){i.next=41;break}throw f;case 41:return i.finish(38);case 42:return i.finish(33);case 43:case"end":return i.stop()}}),i,null,[[16,29,33,43],[34,,38,42]])}))()})),t.apply(this,arguments)}return function(e,n){return t.apply(this,arguments)}})),_r=Ut((function(e){function t(){return t=(0,dn.Z)((function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.Z)().mark((function r(){var i,a,s,u,c,l,f;return(0,o.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,vn.Z)(e.post("dht/query",{signal:n.signal,searchParams:Kt((0,pe.Z)({arg:t.toString()},n)),headers:n.headers}));case 2:i=r.sent,a=!1,s=!1,r.prev=5,c=(0,Jt.Z)(i.ndjson());case 7:return r.next=9,(0,vn.Z)(c.next());case 9:if(!(a=!(l=r.sent).done)){r.next=16;break}return f=l.value,r.next=13,gr(f);case 13:a=!1,r.next=7;break;case 16:r.next=22;break;case 18:r.prev=18,r.t0=r.catch(5),s=!0,u=r.t0;case 22:if(r.prev=22,r.prev=23,!a||null==c.return){r.next=27;break}return r.next=27,(0,vn.Z)(c.return());case 27:if(r.prev=27,!s){r.next=30;break}throw u;case 30:return r.finish(27);case 31:return r.finish(22);case 32:case"end":return r.stop()}}),r,null,[[5,18,22,32],[23,,27,31]])}))()})),t.apply(this,arguments)}return function(e){return t.apply(this,arguments)}}));function Sr(e){return{findPeer:mr(e),findProvs:br(e),get:kr(e),provide:Er(e),put:xr(e),query:_r(e)}}var Ar=Ut((function(e){function t(){return t=(0,a.Z)((0,o.Z)().mark((function t(){var n,r,i=arguments;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:{},t.next=3,e.post("diag/cmds",{signal:n.signal,searchParams:Kt(n),headers:n.headers});case 3:return r=t.sent,t.abrupt("return",r.json());case 5:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}return function(){return t.apply(this,arguments)}})),Zr=Ut((function(e){function t(){return t=(0,a.Z)((0,o.Z)().mark((function t(){var n,r,i=arguments;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:{},t.next=3,e.post("diag/net",{signal:n.signal,searchParams:Kt(n),headers:n.headers});case 3:return r=t.sent,t.abrupt("return",r.json());case 5:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}return function(){return t.apply(this,arguments)}})),Tr=Ut((function(e){function t(){return t=(0,a.Z)((0,o.Z)().mark((function t(){var n,r,i=arguments;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:{},t.next=3,e.post("diag/sys",{signal:n.signal,searchParams:Kt(n),headers:n.headers});case 3:return r=t.sent,t.abrupt("return",r.json());case 5:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}return function(){return t.apply(this,arguments)}}));function Cr(e){return{cmds:Ar(e),net:Zr(e),sys:Tr(e)}}var Ir=Ut((function(e){function t(){return t=(0,a.Z)((0,o.Z)().mark((function t(n,r){var i,a,s,u=arguments;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]?u[2]:{},a=Array.isArray(n)?n:[n],t.next=4,e.post("files/cp",{signal:i.signal,searchParams:Kt((0,pe.Z)({arg:a.concat(r).map((function(e){return y.CID.asCID(e)?"/ipfs/".concat(e):e}))},i)),headers:i.headers});case 4:return s=t.sent,t.next=7,s.text();case 7:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}return function(e,n){return t.apply(this,arguments)}})),Dr=Ut((function(e){function t(){return t=(0,a.Z)((0,o.Z)().mark((function t(n){var r,i,a,s=arguments;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=s.length>1&&void 0!==s[1]?s[1]:{},n&&"string"===typeof n){t.next=3;break}throw new Error("ipfs.files.flush requires a path");case 3:return t.next=5,e.post("files/flush",{signal:r.signal,searchParams:Kt((0,pe.Z)({arg:n},r)),headers:r.headers});case 5:return i=t.sent,t.next=8,i.json();case 8:return a=t.sent,t.abrupt("return",y.CID.parse(a.Cid));case 10:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}return function(e){return t.apply(this,arguments)}}));function Or(e){if(null==e)return e;var t=/^[A-Z]+$/;return Object.keys(e).reduce((function(n,r){return t.test(r)?n[r.toLowerCase()]=e[r]:t.test(r[0])?n[r[0].toLowerCase()+r.slice(1)]=e[r]:n[r]=e[r],n}),{})}function Rr(e){var t=Or(e);return Object.prototype.hasOwnProperty.call(t,"mode")&&(t.mode=parseInt(t.mode,8)),Object.prototype.hasOwnProperty.call(t,"mtime")&&(t.mtime={secs:t.mtime,nsecs:t.mtimeNsecs||0},delete t.mtimeNsecs),t}var Pr=Ut((function(e){function t(){return t=(0,dn.Z)((function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.Z)().mark((function r(){var i,a,u,c,l,f,h,p,d,v;return(0,o.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t){r.next=2;break}throw new Error("ipfs.files.ls requires a path");case 2:return r.next=4,(0,vn.Z)(e.post("files/ls",{signal:n.signal,searchParams:Kt((0,pe.Z)((0,pe.Z)({arg:y.CID.asCID(t)?"/ipfs/".concat(t):t,long:!0},n),{},{stream:!0})),headers:n.headers}));case 4:i=r.sent,a=!1,u=!1,r.prev=7,l=(0,Jt.Z)(i.ndjson());case 9:return r.next=11,(0,vn.Z)(l.next());case 11:if(!(a=!(f=r.sent).done)){r.next=38;break}if(!("Entries"in(h=f.value))){r.next=33;break}p=(0,s.Z)(h.Entries||[]),r.prev=15,p.s();case 17:if((d=p.n()).done){r.next=23;break}return v=d.value,r.next=21,Lr(Rr(v));case 21:r.next=17;break;case 23:r.next=28;break;case 25:r.prev=25,r.t0=r.catch(15),p.e(r.t0);case 28:return r.prev=28,p.f(),r.finish(28);case 31:r.next=35;break;case 33:return r.next=35,Lr(Rr(h));case 35:a=!1,r.next=9;break;case 38:r.next=44;break;case 40:r.prev=40,r.t1=r.catch(7),u=!0,c=r.t1;case 44:if(r.prev=44,r.prev=45,!a||null==l.return){r.next=49;break}return r.next=49,(0,vn.Z)(l.return());case 49:if(r.prev=49,!u){r.next=52;break}throw c;case 52:return r.finish(49);case 53:return r.finish(44);case 54:case"end":return r.stop()}}),r,null,[[7,40,44,54],[15,25,28,31],[45,,49,53]])}))()})),t.apply(this,arguments)}return function(e){return t.apply(this,arguments)}}));function Lr(e){return e.hash&&(e.cid=y.CID.parse(e.hash)),delete e.hash,e.type=1===e.type?"directory":"file",e}var Nr=Ut((function(e){function t(){return t=(0,a.Z)((0,o.Z)().mark((function t(n){var r,i,a=arguments;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},t.next=3,e.post("files/mkdir",{signal:r.signal,searchParams:Kt((0,pe.Z)({arg:n},r)),headers:r.headers});case 3:return i=t.sent,t.next=6,i.text();case 6:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}return function(e){return t.apply(this,arguments)}})),Br=Ut((function(e){function t(){return t=(0,a.Z)((0,o.Z)().mark((function t(n,r){var i,a,s=arguments;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]?s[2]:{},Array.isArray(n)||(n=[n]),t.next=4,e.post("files/mv",{signal:i.signal,searchParams:Kt((0,pe.Z)({arg:n.concat(r)},i)),headers:i.headers});case 4:return a=t.sent,t.next=7,a.text();case 7:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}return function(e,n){return t.apply(this,arguments)}})),Mr=n(66662),Fr=n.n(Mr),jr=Ut((function(e){function t(){return t=(0,dn.Z)((function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.Z)().mark((function r(){var i;return(0,o.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,vn.Z)(e.post("files/read",{signal:n.signal,searchParams:Kt((0,pe.Z)({arg:t,count:n.length},n)),headers:n.headers}));case 2:return i=r.sent,r.delegateYield((0,yn.Z)((0,Jt.Z)(Fr()(i.body)),vn.Z),"t0",4);case 4:case"end":return r.stop()}}),r)}))()})),t.apply(this,arguments)}return function(e){return t.apply(this,arguments)}})),Ur=Ut((function(e){function t(){return t=(0,a.Z)((0,o.Z)().mark((function t(n){var r,i,a,s,u=arguments;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},t.next=3,e.post("files/rm",{signal:r.signal,searchParams:Kt((0,pe.Z)({arg:n},r)),headers:r.headers});case 3:return i=t.sent,t.next=6,i.text();case 6:if(""===(a=t.sent)){t.next=11;break}throw(s=new(Tt().HTTPError)(i)).message=a,s;case 11:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}return function(e){return t.apply(this,arguments)}})),zr=Ut((function(e){function t(){return t=(0,a.Z)((0,o.Z)().mark((function t(n){var r,i,a,s=arguments;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},t.next=3,e.post("files/stat",{signal:r.signal,searchParams:Kt((0,pe.Z)({arg:n},r)),headers:r.headers});case 3:return i=t.sent,t.next=6,i.json();case 6:return(a=t.sent).WithLocality=a.WithLocality||!1,t.abrupt("return",Hr(Rr(a)));case 9:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}return function(e){return t.apply(this,arguments)}}));function Hr(e){return e.cid=y.CID.parse(e.hash),delete e.hash,e}var Vr=Ut((function(e){function t(){return t=(0,a.Z)((0,o.Z)().mark((function t(n,r){var i,a,s,u,c=arguments;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=c.length>2&&void 0!==c[2]?c[2]:{},a=new AbortController,s=Ln(a.signal,i.signal),t.t0=e,t.t1=pe.Z,t.t2={signal:s,searchParams:Kt((0,pe.Z)({arg:n,streamChannels:!0,count:i.length},i))},t.next=8,On([{content:r,path:"arg",mode:Ht(i.mode),mtime:Vt(i.mtime)}],a,i.headers);case 8:return t.t3=t.sent,t.t4=(0,t.t1)(t.t2,t.t3),t.next=12,t.t0.post.call(t.t0,"files/write",t.t4);case 12:return u=t.sent,t.next=15,u.text();case 15:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}return function(e,n){return t.apply(this,arguments)}}));function Gr(e){return{cp:Ir(e),flush:Dr(e),ls:Pr(e),mkdir:Nr(e),mv:Br(e),read:jr(e),rm:Ur(e),stat:zr(e),write:Vr(e)}}var Kr=Ut((function(e){var t=function(){var e=(0,a.Z)((0,o.Z)().mark((function e(t,n){var r=arguments;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw r.length>2&&void 0!==r[2]?r[2]:{},st()(new Error("Not implemented"),"ERR_NOT_IMPLEMENTED");case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return t})),Wr={type:"ed25519"},qr=Ut((function(e){function t(){return t=(0,a.Z)((0,o.Z)().mark((function t(n){var r,i,a,s=arguments;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:Wr,t.next=3,e.post("key/gen",{signal:r.signal,searchParams:Kt((0,pe.Z)({arg:n},r)),headers:r.headers});case 3:return i=t.sent,t.next=6,i.json();case 6:return a=t.sent,t.abrupt("return",Or(a));case 8:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}return function(e){return t.apply(this,arguments)}})),Yr=Ut((function(e){function t(){return t=(0,a.Z)((0,o.Z)().mark((function t(n,r,i){var a,s,u,c=arguments;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]?c[3]:{},t.next=3,e.post("key/import",{signal:a.signal,searchParams:Kt((0,pe.Z)({arg:n,pem:r,password:i},a)),headers:a.headers});case 3:return s=t.sent,t.next=6,s.json();case 6:return u=t.sent,t.abrupt("return",Or(u));case 8:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}return function(e,n,r){return t.apply(this,arguments)}})),Qr=Ut((function(e){function t(){return t=(0,a.Z)((0,o.Z)().mark((function t(){var n,r,i,a=arguments;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:{},t.next=3,e.post("key/list",{signal:n.signal,searchParams:Kt(n),headers:n.headers});case 3:return r=t.sent,t.next=6,r.json();case 6:return i=t.sent,t.abrupt("return",(i.Keys||[]).map((function(e){return Or(e)})));case 8:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}return function(){return t.apply(this,arguments)}})),Xr=Ut((function(e){function t(){return t=(0,a.Z)((0,o.Z)().mark((function t(n,r){var i,a,s=arguments;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]?s[2]:{},t.next=3,e.post("key/rename",{signal:i.signal,searchParams:Kt((0,pe.Z)({arg:[n,r]},i)),headers:i.headers});case 3:return a=t.sent,t.t0=Or,t.next=7,a.json();case 7:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 9:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}return function(e,n){return t.apply(this,arguments)}})),$r=Ut((function(e){function t(){return t=(0,a.Z)((0,o.Z)().mark((function t(n){var r,i,a,s=arguments;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},t.next=3,e.post("key/rm",{signal:r.signal,searchParams:Kt((0,pe.Z)({arg:n},r)),headers:r.headers});case 3:return i=t.sent,t.next=6,i.json();case 6:return a=t.sent,t.abrupt("return",Or(a.Keys[0]));case 8:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}return function(e){return t.apply(this,arguments)}}));function Jr(e){return{export:Kr(e),gen:qr(e),import:Yr(e),list:Qr(e),rename:Xr(e),rm:$r(e)}}var ei=Ut((function(e){function t(){return t=(0,a.Z)((0,o.Z)().mark((function t(n,r){var i,a,s=arguments;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]?s[2]:{},t.next=3,e.post("log/level",{signal:i.signal,searchParams:Kt((0,pe.Z)({arg:[n,r]},i)),headers:i.headers});case 3:return a=t.sent,t.t0=Or,t.next=7,a.json();case 7:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 9:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}return function(e,n){return t.apply(this,arguments)}})),ti=Ut((function(e){function t(){return t=(0,a.Z)((0,o.Z)().mark((function t(){var n,r,i,a=arguments;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:{},t.next=3,e.post("log/ls",{signal:n.signal,searchParams:Kt(n),headers:n.headers});case 3:return r=t.sent,t.next=6,r.json();case 6:return i=t.sent,t.abrupt("return",i.Strings);case 8:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}return function(){return t.apply(this,arguments)}})),ni=Ut((function(e){function t(){return t=(0,dn.Z)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.Z)().mark((function n(){var r;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,vn.Z)(e.post("log/tail",{signal:t.signal,searchParams:Kt(t),headers:t.headers}));case 2:return r=n.sent,n.delegateYield((0,yn.Z)((0,Jt.Z)(r.ndjson()),vn.Z),"t0",4);case 4:case"end":return n.stop()}}),n)}))()})),t.apply(this,arguments)}return function(){return t.apply(this,arguments)}}));function ri(e){return{level:ei(e),ls:ti(e),tail:ni(e)}}var ii=Ut((function(e){function t(){return t=(0,a.Z)((0,o.Z)().mark((function t(n){var r,i,a=arguments;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},t.next=3,e.post("name/publish",{signal:r.signal,searchParams:Kt((0,pe.Z)({arg:"".concat(n)},r)),headers:r.headers});case 3:return i=t.sent,t.t0=Or,t.next=7,i.json();case 7:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 9:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}return function(e){return t.apply(this,arguments)}})),oi=Ut((function(e){function t(){return t=(0,dn.Z)((function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.Z)().mark((function r(){var i,a,s,u,c,l,f;return(0,o.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,vn.Z)(e.post("name/resolve",{signal:n.signal,searchParams:Kt((0,pe.Z)({arg:t,stream:!0},n)),headers:n.headers}));case 2:i=r.sent,a=!1,s=!1,r.prev=5,c=(0,Jt.Z)(i.ndjson());case 7:return r.next=9,(0,vn.Z)(c.next());case 9:if(!(a=!(l=r.sent).done)){r.next=16;break}return f=l.value,r.next=13,f.Path;case 13:a=!1,r.next=7;break;case 16:r.next=22;break;case 18:r.prev=18,r.t0=r.catch(5),s=!0,u=r.t0;case 22:if(r.prev=22,r.prev=23,!a||null==c.return){r.next=27;break}return r.next=27,(0,vn.Z)(c.return());case 27:if(r.prev=27,!s){r.next=30;break}throw u;case 30:return r.finish(27);case 31:return r.finish(22);case 32:case"end":return r.stop()}}),r,null,[[5,18,22,32],[23,,27,31]])}))()})),t.apply(this,arguments)}return function(e){return t.apply(this,arguments)}})),ai=Ut((function(e){function t(){return t=(0,a.Z)((0,o.Z)().mark((function t(n){var r,i,a=arguments;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},t.next=3,e.post("name/pubsub/cancel",{signal:r.signal,searchParams:Kt((0,pe.Z)({arg:n},r)),headers:r.headers});case 3:return i=t.sent,t.t0=Or,t.next=7,i.json();case 7:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 9:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}return function(e){return t.apply(this,arguments)}})),si=Ut((function(e){function t(){return t=(0,a.Z)((0,o.Z)().mark((function t(){var n,r,i=arguments;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:{},t.next=3,e.post("name/pubsub/state",{signal:n.signal,searchParams:Kt(n),headers:n.headers});case 3:return r=t.sent,t.t0=Or,t.next=7,r.json();case 7:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 9:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}return function(){return t.apply(this,arguments)}})),ui=Ut((function(e){function t(){return t=(0,a.Z)((0,o.Z)().mark((function t(){var n,r,i,a=arguments;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:{},t.next=3,e.post("name/pubsub/subs",{signal:n.signal,searchParams:Kt(n),headers:n.headers});case 3:return r=t.sent,t.next=6,r.json();case 6:return i=t.sent,t.abrupt("return",i.Strings||[]);case 8:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}return function(){return t.apply(this,arguments)}}));function ci(e){return{cancel:ai(e),state:si(e),subs:ui(e)}}function li(e){return{publish:ii(e),resolve:oi(e),pubsub:ci(e)}}var fi=Ut((function(e){function t(){return t=(0,a.Z)((0,o.Z)().mark((function t(n){var r,i,a,s=arguments;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},t.next=3,e.post("object/data",{signal:r.signal,searchParams:Kt((0,pe.Z)({arg:"".concat(n instanceof Uint8Array?y.CID.decode(n):n)},r)),headers:r.headers});case 3:return i=t.sent,t.next=6,i.arrayBuffer();case 6:return a=t.sent,t.abrupt("return",new Uint8Array(a,0,a.byteLength));case 8:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}return function(e){return t.apply(this,arguments)}})),hi=Ut((function(e){function t(){return t=(0,a.Z)((0,o.Z)().mark((function t(n){var r,i,a,s=arguments;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},t.next=3,e.post("object/get",{signal:r.signal,searchParams:Kt((0,pe.Z)({arg:"".concat(n instanceof Uint8Array?y.CID.decode(n):n),dataEncoding:"base64"},r)),headers:r.headers});case 3:return i=t.sent,t.next=6,i.json();case 6:return a=t.sent,t.abrupt("return",{Data:er(a.Data,"base64pad"),Links:(a.Links||[]).map((function(e){return{Name:e.Name,Hash:y.CID.parse(e.Hash),Tsize:e.Size}}))});case 8:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}return function(e){return t.apply(this,arguments)}})),pi=Ut((function(e){function t(){return t=(0,a.Z)((0,o.Z)().mark((function t(n){var r,i,a,s=arguments;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},t.next=3,e.post("object/links",{signal:r.signal,searchParams:Kt((0,pe.Z)({arg:"".concat(n instanceof Uint8Array?y.CID.decode(n):n)},r)),headers:r.headers});case 3:return i=t.sent,t.next=6,i.json();case 6:return a=t.sent,t.abrupt("return",(a.Links||[]).map((function(e){return{Name:e.Name,Tsize:e.Size,Hash:y.CID.parse(e.Hash)}})));case 8:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}return function(e){return t.apply(this,arguments)}})),di=Ut((function(e){function t(){return t=(0,a.Z)((0,o.Z)().mark((function t(){var n,r,i,a,s=arguments;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=s.length>0&&void 0!==s[0]?s[0]:{},t.next=3,e.post("object/new",{signal:n.signal,searchParams:Kt((0,pe.Z)({arg:n.template},n)),headers:n.headers});case 3:return r=t.sent,t.next=6,r.json();case 6:return i=t.sent,a=i.Hash,t.abrupt("return",y.CID.parse(a));case 9:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}return function(){return t.apply(this,arguments)}})),vi=function(e,t){var n=Ut((function(n){var r=dr(e,t);function i(){return i=(0,a.Z)((0,o.Z)().mark((function e(t){var n,i=arguments;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:{},e.abrupt("return",r(t,(0,pe.Z)((0,pe.Z)({},n),{},{storeCodec:"dag-pb",hashAlg:"sha2-256",version:1})));case 2:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)}return function(e){return i.apply(this,arguments)}}));return n(t)},yi=Ut((function(e){function t(){return t=(0,a.Z)((0,o.Z)().mark((function t(n){var r,i,a,s=arguments;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},t.next=3,e.post("object/stat",{signal:r.signal,searchParams:Kt((0,pe.Z)({arg:"".concat(n)},r)),headers:r.headers});case 3:return i=t.sent,t.next=6,i.json();case 6:return a=t.sent,t.abrupt("return",(0,pe.Z)((0,pe.Z)({},a),{},{Hash:y.CID.parse(a.Hash)}));case 8:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}return function(e){return t.apply(this,arguments)}})),gi=Ut((function(e){function t(){return t=(0,a.Z)((0,o.Z)().mark((function t(n,r){var i,a,s,u,c=arguments;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=c.length>2&&void 0!==c[2]?c[2]:{},t.next=3,e.post("object/patch/add-link",{signal:i.signal,searchParams:Kt((0,pe.Z)({arg:["".concat(n),r.Name||r.name||"",(r.Hash||r.cid||"").toString()||null]},i)),headers:i.headers});case 3:return a=t.sent,t.next=6,a.json();case 6:return s=t.sent,u=s.Hash,t.abrupt("return",y.CID.parse(u));case 9:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}return function(e,n){return t.apply(this,arguments)}})),mi=Ut((function(e){function t(){return t=(0,a.Z)((0,o.Z)().mark((function t(n,r){var i,a,s,u,c,l,f=arguments;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=f.length>2&&void 0!==f[2]?f[2]:{},a=new AbortController,s=Ln(a.signal,i.signal),t.t0=e,t.t1=pe.Z,t.t2={signal:s,searchParams:Kt((0,pe.Z)({arg:"".concat(n)},i))},t.next=8,On([r],a,i.headers);case 8:return t.t3=t.sent,t.t4=(0,t.t1)(t.t2,t.t3),t.next=12,t.t0.post.call(t.t0,"object/patch/append-data",t.t4);case 12:return u=t.sent,t.next=15,u.json();case 15:return c=t.sent,l=c.Hash,t.abrupt("return",y.CID.parse(l));case 18:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}return function(e,n){return t.apply(this,arguments)}})),bi=Ut((function(e){function t(){return t=(0,a.Z)((0,o.Z)().mark((function t(n,r){var i,a,s,u,c=arguments;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=c.length>2&&void 0!==c[2]?c[2]:{},t.next=3,e.post("object/patch/rm-link",{signal:i.signal,searchParams:Kt((0,pe.Z)({arg:["".concat(n),r.Name||r.name||null]},i)),headers:i.headers});case 3:return a=t.sent,t.next=6,a.json();case 6:return s=t.sent,u=s.Hash,t.abrupt("return",y.CID.parse(u));case 9:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}return function(e,n){return t.apply(this,arguments)}})),wi=Ut((function(e){function t(){return t=(0,a.Z)((0,o.Z)().mark((function t(n,r){var i,a,s,u,c,l,f=arguments;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=f.length>2&&void 0!==f[2]?f[2]:{},a=new AbortController,s=Ln(a.signal,i.signal),t.t0=e,t.t1=pe.Z,t.t2={signal:s,searchParams:Kt((0,pe.Z)({arg:["".concat(n)]},i))},t.next=8,On([r],a,i.headers);case 8:return t.t3=t.sent,t.t4=(0,t.t1)(t.t2,t.t3),t.next=12,t.t0.post.call(t.t0,"object/patch/set-data",t.t4);case 12:return u=t.sent,t.next=15,u.json();case 15:return c=t.sent,l=c.Hash,t.abrupt("return",y.CID.parse(l));case 18:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}return function(e,n){return t.apply(this,arguments)}}));function ki(e){return{addLink:gi(e),appendData:mi(e),rmLink:bi(e),setData:wi(e)}}function Ei(e,t){return{data:fi(t),get:hi(t),links:pi(t),new:di(t),put:vi(e,t),stat:yi(t),patch:ki(t)}}function xi(e){return Symbol.asyncIterator in e}function _i(e){return null!=y.CID.asCID(e)}function Si(e){return Ai.apply(this,arguments)}function Ai(){return Ai=(0,dn.Z)((0,o.Z)().mark((function e(t){var n,r,i,a,u,c,l,f,h,p,d,v,g,m,b,w,k,E,x,_,S,A,Z,T,C,I,D,O,R,P,L,N;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t&&void 0!==t){e.next=2;break}throw st()(new Error("Unexpected input: ".concat(t)),"ERR_UNEXPECTED_INPUT");case 2:if(!(n=y.CID.asCID(t))){e.next=7;break}return e.next=6,Zi({cid:n});case 6:return e.abrupt("return");case 7:if(!(t instanceof String||"string"===typeof t)){e.next=11;break}return e.next=10,Zi({path:t});case 10:return e.abrupt("return");case 11:if(null==t.cid&&null==t.path){e.next=15;break}return e.next=14,Zi(t);case 14:return e.abrupt("return",e.sent);case 15:if(o=t,!(Symbol.iterator in o)){e.next=84;break}if(r=t[Symbol.iterator](),!(i=r.next()).done){e.next=20;break}return e.abrupt("return",r);case 20:if(!_i(i.value)){e.next=41;break}return e.next=23,Zi({cid:i.value});case 23:a=(0,s.Z)(r),e.prev=24,a.s();case 26:if((u=a.n()).done){e.next=32;break}return c=u.value,e.next=30,Zi({cid:c});case 30:e.next=26;break;case 32:e.next=37;break;case 34:e.prev=34,e.t0=e.catch(24),a.e(e.t0);case 37:return e.prev=37,a.f(),e.finish(37);case 40:return e.abrupt("return");case 41:if(!(i.value instanceof String||"string"===typeof i.value)){e.next=62;break}return e.next=44,Zi({path:i.value});case 44:l=(0,s.Z)(r),e.prev=45,l.s();case 47:if((f=l.n()).done){e.next=53;break}return h=f.value,e.next=51,Zi({path:h});case 51:e.next=47;break;case 53:e.next=58;break;case 55:e.prev=55,e.t1=e.catch(45),l.e(e.t1);case 58:return e.prev=58,l.f(),e.finish(58);case 61:return e.abrupt("return");case 62:if(null==i.value.cid&&null==i.value.path){e.next=83;break}return e.next=65,Zi(i.value);case 65:p=(0,s.Z)(r),e.prev=66,p.s();case 68:if((d=p.n()).done){e.next=74;break}return v=d.value,e.next=72,Zi(v);case 72:e.next=68;break;case 74:e.next=79;break;case 76:e.prev=76,e.t2=e.catch(66),p.e(e.t2);case 79:return e.prev=79,p.f(),e.finish(79);case 82:return e.abrupt("return");case 83:throw st()(new Error("Unexpected input: "+typeof t),"ERR_UNEXPECTED_INPUT");case 84:if(!xi(t)){e.next=191;break}return g=t[Symbol.asyncIterator](),e.next=88,(0,vn.Z)(g.next());case 88:if(!(m=e.sent).done){e.next=91;break}return e.abrupt("return",g);case 91:if(!_i(m.value)){e.next=124;break}return e.next=94,Zi({cid:m.value});case 94:b=!1,w=!1,e.prev=96,E=(0,Jt.Z)(g);case 98:return e.next=100,(0,vn.Z)(E.next());case 100:if(!(b=!(x=e.sent).done)){e.next=107;break}return _=x.value,e.next=104,Zi({cid:_});case 104:b=!1,e.next=98;break;case 107:e.next=113;break;case 109:e.prev=109,e.t3=e.catch(96),w=!0,k=e.t3;case 113:if(e.prev=113,e.prev=114,!b||null==E.return){e.next=118;break}return e.next=118,(0,vn.Z)(E.return());case 118:if(e.prev=118,!w){e.next=121;break}throw k;case 121:return e.finish(118);case 122:return e.finish(113);case 123:return e.abrupt("return");case 124:if(!(m.value instanceof String||"string"===typeof m.value)){e.next=157;break}return e.next=127,Zi({path:m.value});case 127:S=!1,A=!1,e.prev=129,T=(0,Jt.Z)(g);case 131:return e.next=133,(0,vn.Z)(T.next());case 133:if(!(S=!(C=e.sent).done)){e.next=140;break}return I=C.value,e.next=137,Zi({path:I});case 137:S=!1,e.next=131;break;case 140:e.next=146;break;case 142:e.prev=142,e.t4=e.catch(129),A=!0,Z=e.t4;case 146:if(e.prev=146,e.prev=147,!S||null==T.return){e.next=151;break}return e.next=151,(0,vn.Z)(T.return());case 151:if(e.prev=151,!A){e.next=154;break}throw Z;case 154:return e.finish(151);case 155:return e.finish(146);case 156:return e.abrupt("return");case 157:if(null==m.value.cid&&null==m.value.path){e.next=190;break}return e.next=160,Zi(m.value);case 160:D=!1,O=!1,e.prev=162,P=(0,Jt.Z)(g);case 164:return e.next=166,(0,vn.Z)(P.next());case 166:if(!(D=!(L=e.sent).done)){e.next=173;break}return N=L.value,e.next=170,Zi(N);case 170:D=!1,e.next=164;break;case 173:e.next=179;break;case 175:e.prev=175,e.t5=e.catch(162),O=!0,R=e.t5;case 179:if(e.prev=179,e.prev=180,!D||null==P.return){e.next=184;break}return e.next=184,(0,vn.Z)(P.return());case 184:if(e.prev=184,!O){e.next=187;break}throw R;case 187:return e.finish(184);case 188:return e.finish(179);case 189:return e.abrupt("return");case 190:case 191:throw st()(new Error("Unexpected input: "+typeof t),"ERR_UNEXPECTED_INPUT");case 192:case"end":return e.stop()}var o}),e,null,[[24,34,37,40],[45,55,58,61],[66,76,79,82],[96,109,113,123],[114,,118,122],[129,142,146,156],[147,,151,155],[162,175,179,189],[180,,184,188]])}))),Ai.apply(this,arguments)}function Zi(e){var t=e.cid||"".concat(e.path);if(!t)throw st()(new Error("Unexpected input: Please path either a CID or an IPFS path"),"ERR_UNEXPECTED_INPUT");var n={path:t,recursive:!1!==e.recursive};return null!=e.metadata&&(n.metadata=e.metadata),n}var Ti=Ut((function(e){function t(){return t=(0,dn.Z)((function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.Z)().mark((function r(){var i,a,u,c,l,f,h,p,d,v,g,m,b,w,k,E,x,_,S;return(0,o.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:i=!1,a=!1,r.prev=2,c=(0,Jt.Z)(Si(t));case 4:return r.next=6,(0,vn.Z)(c.next());case 6:if(!(i=!(l=r.sent).done)){r.next=62;break}return f=l.value,h=f.path,p=f.recursive,d=f.metadata,r.next=10,(0,vn.Z)(e.post("pin/add",{signal:n.signal,searchParams:Kt((0,pe.Z)((0,pe.Z)({},n),{},{arg:h,recursive:p,metadata:d?JSON.stringify(d):void 0,stream:!0})),headers:n.headers}));case 10:v=r.sent,g=!1,m=!1,r.prev=13,w=(0,Jt.Z)(v.ndjson());case 15:return r.next=17,(0,vn.Z)(w.next());case 17:if(!(g=!(k=r.sent).done)){r.next=43;break}if(!(E=k.value).Pins){r.next=38;break}x=(0,s.Z)(E.Pins),r.prev=21,x.s();case 23:if((_=x.n()).done){r.next=29;break}return S=_.value,r.next=27,y.CID.parse(S);case 27:r.next=23;break;case 29:r.next=34;break;case 31:r.prev=31,r.t0=r.catch(21),x.e(r.t0);case 34:return r.prev=34,x.f(),r.finish(34);case 37:return r.abrupt("continue",40);case 38:return r.next=40,y.CID.parse(E);case 40:g=!1,r.next=15;break;case 43:r.next=49;break;case 45:r.prev=45,r.t1=r.catch(13),m=!0,b=r.t1;case 49:if(r.prev=49,r.prev=50,!g||null==w.return){r.next=54;break}return r.next=54,(0,vn.Z)(w.return());case 54:if(r.prev=54,!m){r.next=57;break}throw b;case 57:return r.finish(54);case 58:return r.finish(49);case 59:i=!1,r.next=4;break;case 62:r.next=68;break;case 64:r.prev=64,r.t2=r.catch(2),a=!0,u=r.t2;case 68:if(r.prev=68,r.prev=69,!i||null==c.return){r.next=73;break}return r.next=73,(0,vn.Z)(c.return());case 73:if(r.prev=73,!a){r.next=76;break}throw u;case 76:return r.finish(73);case 77:return r.finish(68);case 78:case"end":return r.stop()}}),r,null,[[2,64,68,78],[13,45,49,59],[21,31,34,37],[50,,54,58],[69,,73,77]])}))()})),t.apply(this,arguments)}return function(e){return t.apply(this,arguments)}}));function Ci(e){var t=Ti(e);return Ut((function(){function e(){return e=(0,a.Z)((0,o.Z)().mark((function e(n){var r,i=arguments;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},e.abrupt("return",lr(t([(0,pe.Z)({path:n},r)],r)));case 2:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}return function(t){return e.apply(this,arguments)}}))(e)}function Ii(e,t,n){var r={type:e,cid:y.CID.parse(t)};return n&&(r.metadata=n),r}var Di=Ut((function(e){function t(){return t=(0,dn.Z)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,o.Z)().mark((function n(){var r,i,a,s,u,c,l,f,h,p,d;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=[],t.paths&&(r=Array.isArray(t.paths)?t.paths:[t.paths]),n.next=4,(0,vn.Z)(e.post("pin/ls",{signal:t.signal,searchParams:Kt((0,pe.Z)((0,pe.Z)({},t),{},{arg:r.map((function(e){return"".concat(e)})),stream:!0})),headers:t.headers}));case 4:i=n.sent,a=!1,s=!1,n.prev=7,c=(0,Jt.Z)(i.ndjson());case 9:return n.next=11,(0,vn.Z)(c.next());case 11:if(!(a=!(l=n.sent).done)){n.next=28;break}if(!(f=l.value).Keys){n.next=23;break}h=0,p=Object.keys(f.Keys);case 15:if(!(h<p.length)){n.next=22;break}return d=p[h],n.next=19,Ii(f.Keys[d].Type,d,f.Keys[d].Metadata);case 19:h++,n.next=15;break;case 22:return n.abrupt("return");case 23:return n.next=25,Ii(f.Type,f.Cid,f.Metadata);case 25:a=!1,n.next=9;break;case 28:n.next=34;break;case 30:n.prev=30,n.t0=n.catch(7),s=!0,u=n.t0;case 34:if(n.prev=34,n.prev=35,!a||null==c.return){n.next=39;break}return n.next=39,(0,vn.Z)(c.return());case 39:if(n.prev=39,!s){n.next=42;break}throw u;case 42:return n.finish(39);case 43:return n.finish(34);case 44:case"end":return n.stop()}}),n,null,[[7,30,34,44],[35,,39,43]])}))()})),t.apply(this,arguments)}return function(){return t.apply(this,arguments)}})),Oi=Ut((function(e){function t(){return t=(0,dn.Z)((function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o.Z)().mark((function r(){var i,a,s,u,c,l,f,h,p,d,v,g,m,b,w,k;return(0,o.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:i=!1,a=!1,r.prev=2,u=(0,Jt.Z)(Si(t));case 4:return r.next=6,(0,vn.Z)(u.next());case 6:if(!(i=!(c=r.sent).done)){r.next=49;break}return l=c.value,f=l.path,h=l.recursive,(p=new URLSearchParams(n.searchParams)).append("arg","".concat(f)),null!=h&&p.set("recursive",String(h)),r.next=13,(0,vn.Z)(e.post("pin/rm",{signal:n.signal,headers:n.headers,searchParams:Kt((0,pe.Z)((0,pe.Z)({},n),{},{arg:"".concat(f),recursive:h}))}));case 13:d=r.sent,v=!1,g=!1,r.prev=16,b=(0,Jt.Z)(d.ndjson());case 18:return r.next=20,(0,vn.Z)(b.next());case 20:if(!(v=!(w=r.sent).done)){r.next=30;break}if(!(k=w.value).Pins){r.next=25;break}return r.delegateYield((0,yn.Z)((0,Jt.Z)(k.Pins.map((function(e){return y.CID.parse(e)}))),vn.Z),"t0",24);case 24:return r.abrupt("continue",27);case 25:return r.next=27,y.CID.parse(k);case 27:v=!1,r.next=18;break;case 30:r.next=36;break;case 32:r.prev=32,r.t1=r.catch(16),g=!0,m=r.t1;case 36:if(r.prev=36,r.prev=37,!v||null==b.return){r.next=41;break}return r.next=41,(0,vn.Z)(b.return());case 41:if(r.prev=41,!g){r.next=44;break}throw m;case 44:return r.finish(41);case 45:return r.finish(36);case 46:i=!1,r.next=4;break;case 49:r.next=55;break;case 51:r.prev=51,r.t2=r.catch(2),a=!0,s=r.t2;case 55:if(r.prev=55,r.prev=56,!i||null==u.return){r.next=60;break}return r.next=60,(0,vn.Z)(u.return());case 60:if(r.prev=60,!a){r.next=63;break}throw s;case 63:return r.finish(60);case 64:return r.finish(55);case 65:case"end":return r.stop()}}),r,null,[[2,51,55,65],[16,32,36,46],[37,,41,45],[56,,60,64]])}))()})),t.apply(this,arguments)}return function(e){return t.apply(this,arguments)}})),Ri=function(e){var t=Oi(e);return Ut((function(){function e(){return e=(0,a.Z)((0,o.Z)().mark((function e(n){var r,i=arguments;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},e.abrupt("return",lr(t([(0,pe.Z)({path:n},r)],r)));case 2:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}return function(t){return e.apply(this,arguments)}}))(e)},Pi=function(e){var t=e.Name,n=e.Status,r=e.Cid;return{cid:y.CID.parse(r),name:t,status:n}},Li=function(e){if("string"===typeof e&&""!==e)return e;throw new TypeError("service name must be passed")},Ni=function(e){if(y.CID.asCID(e))return e.toString();throw new TypeError("CID instance expected instead of ".concat(typeof e))},Bi=function(e){var t=e.service,n=e.cid,r=e.name,i=e.status,o=e.all,a=Kt({service:Li(t),name:r,force:!!o||void 0});if(n){var u,c=(0,s.Z)(n);try{for(c.s();!(u=c.n()).done;){var l=u.value;a.append("cid",Ni(l))}}catch(d){c.e(d)}finally{c.f()}}if(i){var f,h=(0,s.Z)(i);try{for(h.s();!(f=h.n()).done;){var p=f.value;a.append("status",p)}}catch(d){h.e(d)}finally{h.f()}}return a},Mi=function(e){var t=e.cid,n=e.service,r=e.background,i=e.name,o=e.origins,a=Kt({arg:Ni(t),service:Li(n),name:i,background:!!r||void 0});if(o){var u,c=(0,s.Z)(o);try{for(c.s();!(u=c.n()).done;){var l=u.value;a.append("origin",l.toString())}}catch(f){c.e(f)}finally{c.f()}}return a},Fi=["timeout","signal","headers"];function ji(e){function t(){return(t=(0,a.Z)((0,o.Z)().mark((function t(n,r){var i,a,s,u,c;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=r.timeout,a=r.signal,s=r.headers,u=(0,zt.Z)(r,Fi),t.next=3,e.post("pin/remote/add",{timeout:i,signal:a,headers:s,searchParams:Mi((0,pe.Z)({cid:n},u))});case 3:return c=t.sent,t.t0=Pi,t.next=7,c.json();case 7:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(e,n){return t.apply(this,arguments)}}var Ui=["timeout","signal","headers"];function zi(e){function t(){return(t=(0,dn.Z)((function(t){var n=t.timeout,r=t.signal,i=t.headers,a=(0,zt.Z)(t,Ui);return(0,o.Z)().mark((function t(){var s,u,c,l,f,h,p;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,vn.Z)(e.post("pin/remote/ls",{timeout:n,signal:r,headers:i,searchParams:Bi(a)}));case 2:s=t.sent,u=!1,c=!1,t.prev=5,f=(0,Jt.Z)(s.ndjson());case 7:return t.next=9,(0,vn.Z)(f.next());case 9:if(!(u=!(h=t.sent).done)){t.next=16;break}return p=h.value,t.next=13,Pi(p);case 13:u=!1,t.next=7;break;case 16:t.next=22;break;case 18:t.prev=18,t.t0=t.catch(5),c=!0,l=t.t0;case 22:if(t.prev=22,t.prev=23,!u||null==f.return){t.next=27;break}return t.next=27,(0,vn.Z)(f.return());case 27:if(t.prev=27,!c){t.next=30;break}throw l;case 30:return t.finish(27);case 31:return t.finish(22);case 32:case"end":return t.stop()}}),t,null,[[5,18,22,32],[23,,27,31]])}))()}))).apply(this,arguments)}return function(e){return t.apply(this,arguments)}}var Hi=["timeout","signal","headers"];function Vi(e){function t(){return(t=(0,a.Z)((0,o.Z)().mark((function t(n){var r,i,a,s;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.timeout,i=n.signal,a=n.headers,s=(0,zt.Z)(n,Hi),t.next=3,e.post("pin/remote/rm",{timeout:r,signal:i,headers:a,searchParams:Bi((0,pe.Z)((0,pe.Z)({},s),{},{all:!1}))});case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(e){return t.apply(this,arguments)}}var Gi=["timeout","signal","headers"];function Ki(e){function t(){return(t=(0,a.Z)((0,o.Z)().mark((function t(n){var r,i,a,s;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.timeout,i=n.signal,a=n.headers,s=(0,zt.Z)(n,Gi),t.next=3,e.post("pin/remote/rm",{timeout:r,signal:i,headers:a,searchParams:Bi((0,pe.Z)((0,pe.Z)({},s),{},{all:!0}))});case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(e){return t.apply(this,arguments)}}function Wi(e){var t=String(e);if("undefined"===t)throw Error("endpoint is required");return"/"===t[t.length-1]?t.slice(0,-1):t}function qi(e){return(0,pe.Z)({service:e.Service,endpoint:new URL(e.ApiEndpoint)},e.Stat&&{stat:Yi(e.Stat)})}function Yi(e){switch(e.Status){case"valid":var t=e.PinCount,n=t.Pinning,r=t.Pinned;return{status:"valid",pinCount:{queued:t.Queued,pinning:n,pinned:r,failed:t.Failed}};case"invalid":return{status:"invalid"};default:return{status:e.Status}}}function Qi(e){function t(){return(t=(0,a.Z)((0,o.Z)().mark((function t(n,r){var i,a,s,u,c;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=r.endpoint,a=r.key,s=r.headers,u=r.timeout,c=r.signal,t.next=3,e.post("pin/remote/service/add",{timeout:u,signal:c,searchParams:Kt({arg:[n,Wi(i),a]}),headers:s});case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(e,n){return t.apply(this,arguments)}}function Xi(e){function t(){return t=(0,a.Z)((0,o.Z)().mark((function t(){var n,r,i,a,s,u,c,l,f=arguments;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(n=f.length>0&&void 0!==f[0]?f[0]:{}).stat,i=n.headers,a=n.timeout,s=n.signal,t.next=4,e.post("pin/remote/service/ls",{timeout:a,signal:s,headers:i,searchParams:!0===r?Kt({stat:r}):void 0});case 4:return u=t.sent,t.next=7,u.json();case 7:return c=t.sent,l=c.RemoteServices,t.abrupt("return",l.map(qi));case 10:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}return function(){return t.apply(this,arguments)}}function $i(e){function t(){return t=(0,a.Z)((0,o.Z)().mark((function t(n){var r,i=arguments;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},t.next=3,e.post("pin/remote/service/rm",{signal:r.signal,headers:r.headers,searchParams:Kt({arg:n})});case 3:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}return function(e){return t.apply(this,arguments)}}function Ji(e){var t=new jt(e);return{add:Qi(t),ls:Xi(t),rm:$i(t)}}function eo(e){var t=new jt(e);return{add:ji(t),ls:zi(t),rm:Vi(t),rmAll:Ki(t),service:Ji(e)}}function to(e){return{addAll:Ti(e),add:Ci(e),ls:Di(e),rmAll:Oi(e),rm:Ri(e),remote:eo(e)}}var no=function(e){return wr(ro(e))},ro=function(e){return q.base64url.decode(e)},io=function(e){return BigInt("0x".concat(wr(q.base64url.decode(e),"base16")))},oo=function(e){return q.base64url.encode(er(e))},ao=Ut((function(e){function t(){return t=(0,a.Z)((0,o.Z)().mark((function t(){var n,r,i,a=arguments;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:{},t.next=3,e.post("pubsub/ls",{signal:n.signal,searchParams:Kt(n),headers:n.headers});case 3:return t.next=5,t.sent.json();case 5:return r=t.sent,i=r.Strings,t.abrupt("return",(o=i,(Array.isArray(o)?o.map(no):o)||[]));case 8:case"end":return t.stop()}var o}),t)}))),t.apply(this,arguments)}return function(){return t.apply(this,arguments)}})),so=Ut((function(e){function t(){return t=(0,a.Z)((0,o.Z)().mark((function t(n){var r,i,a,s,u=arguments;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},t.next=3,e.post("pubsub/peers",{signal:r.signal,searchParams:Kt((0,pe.Z)({arg:oo(n)},r)),headers:r.headers});case 3:return i=t.sent,t.next=6,i.json();case 6:return a=t.sent,s=a.Strings,t.abrupt("return",s||[]);case 9:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}return function(e){return t.apply(this,arguments)}})),uo=Ut((function(e){function t(){return t=(0,a.Z)((0,o.Z)().mark((function t(n,r){var i,a,s,u,c,l=arguments;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=l.length>2&&void 0!==l[2]?l[2]:{},a=Kt((0,pe.Z)({arg:oo(n)},i)),s=new AbortController,u=Ln(s.signal,i.signal),t.t0=e,t.t1=pe.Z,t.t2={signal:u,searchParams:a},t.next=9,On([r],s,i.headers);case 9:return t.t3=t.sent,t.t4=(0,t.t1)(t.t2,t.t3),t.next=13,t.t0.post.call(t.t0,"pubsub/pub",t.t4);case 13:return c=t.sent,t.next=16,c.text();case 16:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}return function(e,n){return t.apply(this,arguments)}})),co=(0,At.kg)("js-kubo-rpc-client:pubsub:subscribe"),lo=function(e,t){return Ut((function(e){function n(){return n=(0,a.Z)((0,o.Z)().mark((function n(r,i){var a,s,u,c,l,f=arguments;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(a=f.length>2&&void 0!==f